(this["webpackJsonpgalactic-endeavor"]=this["webpackJsonpgalactic-endeavor"]||[]).push([[0],{100:function(e,t,i){},101:function(e,t,i){},102:function(e,t,i){},103:function(e,t,i){},104:function(e,t,i){},105:function(e,t,i){},106:function(e,t,i){},107:function(e,t,i){},112:function(e,t,i){},113:function(e,t,i){},123:function(e,t,i){},124:function(e,t,i){},125:function(e,t,i){},126:function(e,t,i){},127:function(e,t,i){},128:function(e,t,i){},129:function(e,t,i){},130:function(e,t,i){},131:function(e,t,i){},132:function(e,t,i){},133:function(e,t,i){"use strict";i.r(t);var n=i(1),s=i.n(n),a=i(70),o=i.n(a),c=i(13),r=i(7),l=i(18),d=i(56),h=i(26),u=i(167),m=i(73),g=Object(m.a)({palette:{mode:"dark"},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,h1:{fontFamily:'"Nunito", "Helvetica", "Arial", sans-serif'},h2:{fontFamily:'"Nunito", "Helvetica", "Arial", sans-serif'},h3:{fontFamily:'"Nunito", "Helvetica", "Arial", sans-serif'},h4:{fontFamily:'"Nunito", "Helvetica", "Arial", sans-serif'},h5:{fontFamily:'"Nunito", "Helvetica", "Arial", sans-serif'}},components:{MuiButton:{variants:[{props:{variant:"contained-1"},style:{fontFamily:'"Nunito", "Helvetica", "Arial", sans-serif',padding:"10px 50px",minWidth:"140px",background:"#490ec0",color:"#fff",borderRadius:"20px",fontWeight:"bold"}},{props:{variant:"contained-2"},style:{fontFamily:'"Nunito", "Helvetica", "Arial", sans-serif',padding:"10px 50px",minWidth:"140px",background:"#f9188d",color:"#fff",borderRadius:"20px",fontWeight:"bold"}}]}}}),p=i(168),b={artifactsCollected:0,gameId:null,planetsColonized:0,planetsConquered:0,planetsLost:0,resources:0,score:0,shipsBuilt:0,shipsDestroyed:0,shipsLost:0,victory:!1},f="difficulty2",y="size2",A={artifacts:{},autoSaveInterval:1e4,boardSize:y,boardSizes:{size1:{artifactCount:3,blitterStarCount:2e3,boardWidth:1100,boardHeight:1100,planetCount:9,starCountMax:2,starCountMin:1},size2:{artifactCount:4,blitterStarCount:3200,boardWidth:1300,boardHeight:1300,planetCount:12,starCountMax:2,starCountMin:1},size3:{artifactCount:5,blitterStarCount:3400,boardWidth:1500,boardHeight:1500,planetCount:15,starCountMax:3,starCountMin:1}},boardPadding:200,careerStats:{artifactsCollected:0,planetsColonized:0,planetsConquered:0,planetsLost:0,score:0,shipsBuilt:0,shipsDestroyed:0,shipsLost:0,victories:0,losses:0},colorRed:"ca242f",colorGreen:"77cf0f",colorBlue:"00aeef",colorOrange:"ffbe0b",difficulty:f,difficultyLevels:{difficulty1:{enemyMoveInterval:1e4,enemySatelliteMax:1,enemyShipCount:1,enemyShipHealRate:.03,enemyShipHealOrbitRate:.04,enemyShipMax:8,enemyShipSpeed:.5,enemyShipWeaponSpeed:500,enemyShipWeaponDamage:[1,2,3,4],planetTowablePoints:50,planetColonizeTime:5e3,planetColonizePoints:15,planetConquerPoints:25,planetDiscoverPoints:5,planetMineBuildTime:5e3,planetMineBuildPoints:15,planetMineResourceCost:50,planetMineResourceRate:5,planetMineResourceDelay:1e4,planetResourceBonus:50,planetSensorRange:200,resources:600,satelliteBuildTime:2e3,satelliteResourceCost:50,satelliteResourceDisbandSalvage:40,satelliteSensorRange:200,shipBuildTime:4e3,shipDestroyPoints:20,shipHitTowablePoints:20,shipProximityRange:90,shipResourceCost:100,shipResourceDisbandSalvage:90,shipResourceSalvage:25,userShipCount:3},difficulty2:{enemyMoveInterval:8e3,enemySatelliteMax:1,enemyShipCount:3,enemyShipHealRate:.03,enemyShipHealOrbitRate:.04,enemyShipMax:9,enemyShipSpeed:.55,enemyShipWeaponSpeed:500,enemyShipWeaponDamage:[1,2,3,4],planetTowablePoints:55,planetColonizeTime:6e3,planetColonizePoints:20,planetConquerPoints:30,planetDiscoverPoints:10,planetMineBuildTime:6e3,planetMineBuildPoints:20,planetMineResourceCost:50,planetMineResourceRate:5,planetMineResourceDelay:15e3,planetResourceBonus:50,planetSensorRange:200,resources:400,satelliteBuildTime:2500,satelliteResourceCost:50,satelliteResourceDisbandSalvage:35,satelliteSensorRange:200,shipBuildTime:5e3,shipDestroyPoints:25,shipHitTowablePoints:25,shipProximityRange:90,shipResourceCost:100,shipResourceDisbandSalvage:85,shipResourceSalvage:25,userShipCount:2},difficulty3:{enemyMoveInterval:5e3,enemySatelliteMax:1,enemyShipCount:6,enemyShipHealRate:.03,enemyShipHealOrbitRate:.04,enemyShipMax:10,enemyShipSpeed:.6,enemyShipWeaponSpeed:500,enemyShipWeaponDamage:[1,2,3,4],planetTowablePoints:60,planetColonizeTime:7e3,planetColonizePoints:25,planetConquerPoints:35,planetDiscoverPoints:15,planetMineBuildTime:7e3,planetMineBuildPoints:25,planetMineResourceCost:50,planetMineResourceRate:5,planetMineResourceDelay:15e3,planetResourceBonus:50,planetSensorRange:280,resources:200,satelliteBuildTime:3e3,satelliteResourceCost:50,satelliteResourceDisbandSalvage:30,satelliteSensorRange:200,shipBuildTime:6e3,shipDestroyPoints:30,shipHitTowablePoints:30,shipProximityRange:90,shipResourceCost:100,shipResourceDisbandSalvage:80,shipResourceSalvage:25,userShipCount:1}},enemyFactions:[],enemyFactionName:"opfor",entities:{},entityPreviewHolderId:"entity-preview-holder",entityPlaceholderRadius:70,entityPlaceholderCollisonAttempts:50,gameStats:b,isGameLoading:!1,isGameOver:!1,isResetting:!1,isSelectingShips:!1,isDemo:!1,moveLineAlpha:.5,moveLineSelectedAlpha:.7,moveMarkerAlpha:.8,moveMarkerSelectedAlpha:1,orbitDistance:50,planetCollisions:{},planetMaxSize:15,planetMinSize:8,planetSpacing:80,pointAnimDelay:600,pointAnimDuration:1500,satelliteMax:1,scene:{},selectedShips:{},selectedTowableId:null,shipFormations:{},shipMax:10,shipMaxHealth:100,shipMaxTowables:99,shipRanks:{rank0:{satelliteProximityRange:95,shipHealRate:.03,shipHealOrbitRate:.06,shipProximityRange:90,shipSensorRange:200,shipSpeed:.7,shipWeaponSpeed:500,shipWeaponDamage:[1,2,3,4]},rank1:{satelliteProximityRange:97,shipHealRate:.032,shipHealOrbitRate:.062,shipProximityRange:92,shipSensorRange:205,shipSpeed:.72,shipWeaponSpeed:495,shipWeaponDamage:[2,3,4,5]},rank2:{satelliteProximityRange:100,shipHealRate:.034,shipHealOrbitRate:.064,shipProximityRange:95,shipSensorRange:210,shipSpeed:.74,shipWeaponSpeed:490,shipWeaponDamage:[3,4,5,6]},rank3:{satelliteProximityRange:105,shipHealRate:.04,shipHealOrbitRate:.07,shipProximityRange:100,shipSensorRange:215,shipSpeed:.76,shipWeaponSpeed:485,shipWeaponDamage:[4,5,6,7]}},ships:{},namespace:"_ge",timers:{},towables:{},userFactionName:"user",zoomDefault:1.25,zoomDefaultTime:1e3,zoomStep:.25,zoomMax:2,zoomMin:.6},v=i(29),x=(i(87),i(0)),j=function(e){var t=e.items,i=e.defaultChecked,n=e.name,s=e.onChange;return Object(x.jsx)("div",{className:"radio-group",children:t.map((function(e,t){var a=e.label,o=e.value;return Object(x.jsx)("div",{className:"radio-group__item",children:Object(x.jsxs)("label",{className:"radio-group__label",children:[Object(x.jsx)("input",{className:"radio-group__input",type:"radio",name:n,value:o,defaultChecked:o===i,onChange:function(e){return s(e.target.value)}}),Object(x.jsx)("div",{className:"radio-group__input-label",children:a})]})},"".concat(n,"-").concat(t))}))})},O=window.location.href.includes("debug"),w=window.location.href.includes("launch?dev"),S=(window.location.href.includes("launch?devArtifacts"),function(e){return{topLeft:{x:0,y:0},topCenter:{x:e.boardWidth/2,y:0},topRight:{x:e.boardWidth,y:0},centerLeft:{x:0,y:e.boardHeight/2},center:{x:e.boardWidth/2,y:e.boardHeight/2},centerRight:{x:e.boardWidth,y:e.boardHeight/2},bottomRight:{x:e.boardWidth,y:e.boardHeight},bottomCenter:{x:e.boardWidth/2,y:e.boardHeight},bottomLeft:{x:0,y:e.boardHeight}}}),C=function(){var e=A.scene.cameras.main,t=1e4,i=Object.keys(A.ships).find((function(e){return A.ships[e].fighting}));if(i){var n=A.ships[i],s=n.x,a=n.y;e.pan(s,a,t,"Linear",!1),e.zoomTo(1.2,t),setTimeout((function(){e.zoomTo(.9,t)}),t)}},k=function(){var e=window.localStorage.getItem(A.namespace);return e=e?JSON.parse(e):null,A.isResetting?(A.isResetting=!1,new Promise((function(e,t){var i=(new Date).getTime();return b.gameId=i,A.artifacts={},A.entities={},A.gameStats=Object.assign({},b),A.ships={},e()})),{careerStats:e?e.careerStats:A.careerStats,gameStats:Object.assign({},b),isResetting:!0}):e},B=function(e){return new Promise((function(t,i){if(!w&&!A.isDemo){var n=A,s={},a={},o={};Object.keys(n.artifacts).forEach((function(e){var t,i=Object.assign({},n.artifacts[e]);s[e]={isDiscovered:i.isDiscovered,isInOrbit:i.isInOrbit,isBeingTowed:i.isBeingTowed,orbitingEntityId:null===(t=i.orbitingEntity)||void 0===t?void 0:t.id,towShipId:i.towShipId,x:i.x,y:i.y}})),Object.keys(n.entities).forEach((function(e){var t=Object.assign({},n.entities[e]);a[e]={climate:t.climate,colonized:t.colonized,diameter:t.diameter,discovered:t.discovered,isHomePlanet:t.isHomePlanet,isMiningResources:t.isMiningResources,faction:t.faction,featureColor:t.featureColor,featureId:t.featureId,fillColor:t.fillColor,name:t.name,orbitingShips:t.orbitingShips,type:t.type,x:t.x,y:t.y}})),Object.keys(n.ships).forEach((function(e){var t=Object.assign({},n.ships[e]);o[e]={angle:t.angle,faction:t.faction,health:t.health,id:t.id,name:t.name,orbitingEntityId:t.orbitingEntity?t.orbitingEntity.id:null,rank:t.rank,type:t.type,x:t.x,y:t.y}}));var c={artifacts:s,careerStats:n.careerStats,config:{boardSize:n.boardSize,difficulty:n.difficulty,isMuted:n.isMuted},entities:a,gameStats:n.gameStats,ships:o};return O&&console.log("Saving...",e),window.localStorage.setItem(n.namespace,JSON.stringify(c)),t()}}))},R=(i(89),i.p+"static/media/bottom.d101fe30.png"),M=i.p+"static/media/logo.9382a034.png",E=(i(90),function(e){var t=e.children,i=e.className,n=void 0===i?"":i,s=Object(l.e)();return Object(x.jsxs)("div",{className:"page ".concat(n),children:[Object(x.jsx)("div",{className:"page__logo",onClick:function(){s.push("/ge/")},children:Object(x.jsx)("img",{className:"page__logo_img",src:M,alt:"logo"})}),Object(x.jsx)("div",{className:"page__content",children:t}),Object(x.jsx)("div",{className:"page__bg--top"}),Object(x.jsx)("div",{className:"page__bg--bottom",children:Object(x.jsx)("img",{src:R,alt:"moon",className:"page__bg--bottom_img"})})]})}),G=function(){var e=Object(n.useContext)(ai),t=e.setGameLoadingPercent,i=e.setModalOpenState,s=e.setIsPaused,a=Object(l.e)(),o=Object(n.useState)(f),c=Object(r.a)(o,2),d=c[0],h=c[1],u=Object(n.useState)(y),m=Object(r.a)(u,2),g=m[0],p=m[1];return Object(x.jsxs)(E,{className:"configure",children:[Object(x.jsx)("h1",{children:"Mission Settings"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(0),i(!1),s(!1),A.isResetting=!0,A.difficulty=d,A.boardSize=g,A.selectedShips={},A.isGameOver=!1,B("configure"),a.push("launch")},children:[Object(x.jsx)("h3",{className:"configure__sub-heading",children:"Difficulty"}),Object(x.jsx)(j,{items:[{label:"Easy",value:"difficulty1"},{label:"Normal",value:"difficulty2"},{label:"Hard",value:"difficulty3"}],defaultChecked:f,name:"difficulty",onChange:function(e){return h(e)}}),Object(x.jsx)("h3",{className:"configure__sub-heading",children:"Map Size"}),Object(x.jsx)(j,{items:[{label:"Small",value:"size1"},{label:"Medium",value:"size2"},{label:"Large",value:"size3"}],defaultChecked:y,name:"size",onChange:function(e){return p(e)}}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"submit",className:"button-1",children:"Launch"}),Object(x.jsx)(v.a,{to:"starbase",className:"button-1 button-1--alt",children:"Back"})]})]})},F=i(163),D=i(165),N=i(171),I=i(161),z=i(169),H=i(170),Q=i(166),T=i.p+"static/media/masthead-logo.af3e9d20.png",K=i.p+"static/media/planet-2.0ada9ece.png",L=(i.p,i(3)),V=i.n(L),P=function(e){var t=e.entity,i=e.isModalOpen;return Object(n.useEffect)((function(){i&&function(e){var t=e.id,i=document.querySelector("#entity-preview-".concat(t)),n=document.createElement("canvas"),s=n.getContext("2d"),a=document.querySelector("#entity-preview-display-".concat(t));n.width=i.width,n.height=i.height,s.drawImage(i,0,0),a.innerHTML="",a.appendChild(n)}(t)}),[t,i]),Object(x.jsx)("div",{id:"entity-preview-display-".concat(t.id)})},U=function(e){var t="ffffff";return e===A.userFactionName&&(t=A.colorGreen),e===A.enemyFactionName&&(t=A.colorRed),t},W=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"modal-heading",children:"Unknown"}),Object(x.jsx)("p",{children:"Scanners have detected that there's something here. We'll need to dispatch a ship to find out more."})]})},Y=(i(97),function(e){var t=e.entity,i=e.isModalOpen,s=t.colonized,a=t.discovered,o=t.faction,c=t.isHomePlanet,r=t.isMiningResources,l=t.name,d=t.type,h=A.difficultyLevels[A.difficulty],u=(h.planetMineResourceDelay%6e4/1e3).toFixed(0);return a?Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)("div",{className:"entity-info__preview",children:Object(x.jsx)(P,{entity:t,isModalOpen:i})}),Object(x.jsxs)("div",{className:"entity-info__description",children:[Object(x.jsxs)("h1",{className:"modal-heading",children:[c&&Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)("img",{alt:"home",src:"".concat("/ge","/img/home-green.png"),style:{height:"16px"}})," "]}),Object(x.jsx)("span",{style:{color:"#".concat(U(o))},children:l})," ",Object(x.jsxs)("span",{className:"modal-value",children:["(",d,")"]})]}),s&&o===A.userFactionName&&Object(x.jsx)("p",{style:{color:"#".concat(A.colorGreen)},children:c?"Home":"Colonized"}),r&&Object(x.jsxs)("p",{children:["This ",d," is currently producing"," ",Object(x.jsx)("img",{alt:"resources",className:"modal-inline-img",src:"".concat("/ge","/img/resources-green.png")}),Object(x.jsx)("span",{style:{color:"#".concat(A.colorGreen)},children:h.planetMineResourceRate})," ","every ",u," seconds"]})]})]}):Object(x.jsx)(W,{})}),J={0:"Cadet",1:"Ensign",2:"Commander",3:"Captain"},Z=function(e){var t=e.rank;return Object(x.jsx)(z.a,{sx:{ml:1,display:"flex"},children:Object.keys(J).map((function(e,i){var n=e<=t;return Object(x.jsx)(z.a,{sx:{m:"2px",p:1,background:"#490ec0",borderRadius:1,fontSize:10,opacity:n?1:.3}})}))})},X=function(e){var t=e.ship;if(!t)return null;var i=t.name,n=t.type;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h1",{className:"modal-heading",children:[Object(x.jsx)("span",{style:{color:"#".concat(A.colorGreen)},children:i})," ",Object(x.jsxs)("span",{className:"modal-value",children:["(",n,")"]})]}),Object(x.jsxs)(z.a,{sx:{m:2,ml:0,display:"flex"},children:["Rank:"," ",Object(x.jsx)(z.a,{sx:{ml:1},component:"span",children:J[t.rank]})]}),Object(x.jsxs)(z.a,{sx:{m:2,ml:0,display:"flex"},children:["Level: ",Object(x.jsx)(Z,{rank:t.rank})]})]})},q=(i(98),function(e){var t=e.towable;if(!t)return null;var i=t.faction,s=t.isDiscovered,a=t.type;if(!s||"default"===a)return Object(x.jsx)(W,{});var o="artifact";return(null===i||void 0===i?void 0:i.includes(A.enemyFactionName))&&(o+="-red"),i===A.userFactionName&&(o+="-green"),Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)("div",{className:"towable-info__preview",children:Object(x.jsx)("img",{alt:"artifact",className:"towable-info__preview-img",src:"".concat("/ge","/img/").concat(o,".png")})}),Object(x.jsxs)("div",{className:"towable-info__description",children:[Object(x.jsx)("h1",{className:"modal-heading",children:"Artifact"}),Object(x.jsx)("p",{children:"A shiny object of unknown origin."}),!i&&Object(x.jsx)("p",{children:"Bring this artifact into orbit of a colonized planet to collect it."}),(null===i||void 0===i?void 0:i.includes(A.enemyFactionName))&&Object(x.jsxs)("p",{className:"artifact__status-row ".concat(A.enemyFactionName),children:[Object(x.jsx)("img",{alt:"close",className:"artifact__status-icon",src:"".concat("/ge","/img/close-red.png")}),"Enemy Controlled"]}),i===A.userFactionName&&Object(x.jsxs)("p",{className:"artifact__status-row ".concat(A.userFactionName),children:[Object(x.jsx)("img",{alt:"check",className:"artifact__status-icon",src:"".concat("/ge","/img/check-green.png")}),"Collected"]})]})]})}),_=(i(99),function(){var e=Object.keys(A.artifacts).filter((function(e){return A.artifacts[e].isCollected})).length;return Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)("div",{className:"artifacts-info__preview",children:Object(x.jsx)("img",{alt:"artifact",className:"artifacts-info__preview-img",src:"".concat("/ge","/img/artifact.png")})}),Object(x.jsxs)("div",{className:"artifacts-info__description",children:[Object(x.jsx)("h1",{className:"modal-heading",children:"Artifacts"}),Object(x.jsx)("p",{children:"These mysterious objects of unknown origin are scattered across the star system. Bring an artifact into orbit of a colonized planet to collect it."}),A.artifacts&&Object(x.jsxs)("p",{children:[e," out of"," ",Object.keys(A.artifacts).length," artifacts have been collected."]})]})]})}),$=(i(100),function(e){var t=e.isModalOpen,i=Object(n.useContext)(ai),s=i.config,a=i.setModalContentType,o=i.toggleGameOverOverlay,c=i.toggleModal,r=Object.keys(s.entities).filter((function(e){return s.entities[e].discovered}));return t?Object(x.jsx)(n.Fragment,{children:r.map((function(e,i){var n=s.entities[e],r=n.faction,l=n.name,d=n.orbitingShips,h=n.x,u=n.y,m=Object.keys(d).filter((function(e){var t=s.ships[e];return t&&t.faction===A.userFactionName&&"satellite"!==t.type})),g=Object.keys(d).filter((function(e){var t=s.ships[e];return t&&t.faction===A.userFactionName&&"satellite"===t.type}));return Object(x.jsxs)("div",{className:"atlas-list__item",onClick:function(){A.scene.cameras.main.pan(h,u,300,"Linear",!0),a(null),c(),o(!0)},children:[Object(x.jsx)(P,{entity:n,isModalOpen:t}),Object(x.jsxs)("div",{className:"atlas-list__description",children:[Object(x.jsx)("div",{style:{color:"#".concat(U(r))},children:l}),Object(x.jsxs)("div",{className:"atlas-list__ships",children:[m.length>0?Object(x.jsxs)("div",{className:"atlas-list__ships-item",children:[Object(x.jsx)("img",{alt:"ship",className:"atlas-list__icon atlas-list__icon--ship",src:"".concat("/ge","/img/ship-green.png")}),m.length]}):null,g.length>0?Object(x.jsxs)("div",{className:"atlas-list__ships-item",children:[Object(x.jsx)("img",{alt:"satellite",className:"atlas-list__icon",src:"".concat("/ge","/img/satellite-green.png")}),g.length]}):null]})]})]},i)}))}):null}),ee=(i(101),function(e){return e<10?"0"+e:e}),te=function(e){e.entity;var t=Object(n.useContext)(ai),i=t.eventLog,s=t.setModalContentType,a=t.toggleGameOverOverlay,o=t.toggleModal,c=i.slice().sort((function(e,t){return e.timestamp<t.timestamp?1:-1}));return Object(x.jsx)(n.Fragment,{children:c.map((function(e,t){if(!e)return null;var i=e.coords,n=e.html,c=e.timestamp,r=new Date(c),l=ee(r.getHours()%12||12),d=ee(r.getMinutes()),h=ee(r.getSeconds());return Object(x.jsxs)("div",{className:"events-list__message",children:[Object(x.jsx)("span",{className:"events-list__number",children:"".concat(l,":").concat(d,":").concat(h)}),Object(x.jsx)("span",{dangerouslySetInnerHTML:{__html:n},onClick:function(){i&&A.scene.cameras.main.pan(i.x,i.y,300,"Linear",!0),s(null),o(),a(!0)}})]},t)}))})},ie=(i(102),function(){var e=Object(n.useContext)(ai),t=e.config,i=e.setModalContentType,s=e.toggleGameOverOverlay,a=e.toggleModal,o=Object.keys(t.ships).filter((function(e){var i=t.ships[e];return i&&i.faction===A.userFactionName&&"satellite"!==i.type}));return Object(x.jsx)(n.Fragment,{children:o.map((function(e,o){var c=t.ships[e],r=c.name,l=c.orbitingEntity,d=c.type;return Object(x.jsxs)("div",{className:"fleet-list__item",onClick:function(){A.scene.cameras.main.pan(c.x,c.y,300,"Linear",!0),i(null),a(),s(!0),c.selected=!0,A.selectedShips[c.id]=c.name},children:["satellite"===d&&Object(x.jsx)("img",{alt:"resources",className:"fleet-list__icon",src:"".concat("/ge","/img/satellite-white.png")}),"ship"===d&&Object(x.jsx)("img",{alt:"resources",className:"fleet-list__icon fleet-list__icon--ship",src:"".concat("/ge","/img/ship-white.png")}),r,l&&Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)("div",{className:"fleet-list__orb"}),Object(x.jsxs)("span",{children:["Orbiting ",l.name]})]})]},o)}))})}),ne=function(){var e=Object(n.useContext)(ai).config.gameStats;return Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)("h2",{children:e.victory?"You Won!":"You Lost"}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col col-25",children:Object(x.jsx)("h2",{children:"Score"})}),Object(x.jsx)("div",{className:"col col-75 text-align-right",children:Object(x.jsx)("h2",{children:e.score&&e.score.toLocaleString()})})]}),Object(x.jsx)("table",{children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Artifacts Collected"}),Object(x.jsx)("td",{className:"text-align-right",children:e.artifactsCollected})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Planets Colonized"}),Object(x.jsx)("td",{className:"text-align-right",children:e.planetsColonized})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Planets Conquered"}),Object(x.jsx)("td",{className:"text-align-right",children:e.planetsConquered})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Planets Lost"}),Object(x.jsx)("td",{className:"text-align-right",children:e.planetsLost})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Ships Built"}),Object(x.jsx)("td",{className:"text-align-right",children:e.shipsBuilt})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Ships Destroyed"}),Object(x.jsx)("td",{className:"text-align-right",children:e.shipsDestroyed})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Ships Lost"}),Object(x.jsx)("td",{className:"text-align-right",children:e.shipsLost})]})]})})]})},se=(i(103),function(){return Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)("div",{className:"resources-info__preview",children:Object(x.jsx)("img",{alt:"resource",className:"resources-info__preview-img",src:"".concat("/ge","/img/resources-green.png")})}),Object(x.jsxs)("div",{className:"resources-info__description",children:[Object(x.jsx)("h1",{className:"modal-heading",children:"Resources"}),Object(x.jsx)("p",{children:"Resources allow you to construct ships and satellites. They can be gathered from destroying enemy ships, colonizing planets, or mining colonized planets."})]})]})}),ae=(i(104),function(){return Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)("div",{className:"score-info__preview",children:Object(x.jsx)("img",{alt:"resource",className:"score-info__preview-img",src:"".concat("/ge","/img/score.png")})}),Object(x.jsxs)("div",{className:"score-info__description",children:[Object(x.jsx)("h1",{className:"modal-heading",children:"Game Score"}),Object(x.jsx)("p",{children:"The game score which contributes to your overall career score."})]})]})}),oe=i(20),ce={entries:{},atmospheric:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundTrack".concat(A.chance.d4()),{volume:.03})},buttonClick:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundButtonClick",{volume:.03})},colonize:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundPlanetColonize",{volume:.1})},constructionComplete:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundConstructionComplete",{volume:.05})},disband:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundShipDisband",{volume:.07})},entitySelect:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundEntitySelect1",{volume:.06})},lose:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundGameLose",{volume:.07})},mine:function(){var e;null===(e=this.scene)||void 0===e||e.sound.play("soundPlanetMine",{volume:.2})},moveMarker:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundMoveMarker1",{volume:.06})},play:function(e,t){var i;A.isMuted||null===(i=this.scene)||void 0===i||i.sound.play(e,{volume:t?t.volume:1})},resources:function(e){var t;A.isMuted||null===(t=this.scene)||void 0===t||t.sound.play(e?"soundResourcesAdd":"soundResourcesSubtract",{volume:.2})},scene:null,score:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundScore1",{volume:.02})},shipDestroy:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play(A.chance.bool()?"soundShipExplode1":"soundShipExplode2",{volume:.05})},shipEnterOrbit:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundShipEnterOrbit1",{volume:.009})},shipSelect:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundShipSelect1",{volume:.04})},shipSensor:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundShipSensor1",{volume:.03})},shipShoot:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundShipShoot1",{volume:.1})},tractorBeam:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundTractorBeam1",{volume:.05})},init:function(e){A.isMuted||(this.scene=e,this.entries=Object(oe.a)({},e.cache.audio.entries.entries))},win:function(){var e;A.isMuted||null===(e=this.scene)||void 0===e||e.sound.play("soundGameWin",{volume:.2})}},re=(i(105),function(){var e=Object(n.useContext)(ai),t=e.config,i=e.isGameLoading,s=e.isModalOpen,a=e.lastSelectedShipId,o=e.modalContentType,c=e.selectedEntityId,l=e.selectedTowableId,d=e.setModalContentType,h=e.toggleGameOverOverlay,u=e.toggleModal,m=Object(n.useState)(0),g=Object(r.a)(m,2),p=g[0],b=g[1],f=t.entities[c],y=t.ships[a],A=t.towables[l],v=function(){h(!0),u(),d(null)},j=function(e){return"col col-33 modal-header__tab".concat(p===e?" modal-header__tab--active":"")};return i||"entity"===o&&!f?null:Object(x.jsx)("div",{className:s?"modal modal--open":"modal",onClick:function(){v()},children:Object(x.jsxs)("div",{className:"modal-inner",onClick:function(e){e.stopPropagation()},children:[Object(x.jsxs)("div",{className:"modal-header",children:["gameStats"===o&&Object(x.jsx)("h2",{children:"Mission Overview"}),"compass"===o&&Object(x.jsxs)("div",{className:"row modal-header__tabs",children:[Object(x.jsx)("div",{className:j(0),onClick:function(e){ce.buttonClick(),b(0)},children:"Log"}),Object(x.jsx)("div",{className:j(1),onClick:function(e){ce.buttonClick(),b(1)},children:"Starmap"}),Object(x.jsx)("div",{className:j(2),onClick:function(e){ce.buttonClick(),b(2)},children:"Fleet"})]})]}),Object(x.jsxs)("div",{className:"modal-content",children:["gameStats"===o&&Object(x.jsx)(ne,{}),"entity"===o&&Object(x.jsx)(Y,{entity:f,isModalOpen:s}),"ship"===o&&Object(x.jsx)(X,{ship:y}),"compass"===o&&Object(x.jsxs)(n.Fragment,{children:[0===p&&Object(x.jsx)(te,{isModalOpen:s}),1===p&&Object(x.jsx)($,{isModalOpen:s}),2===p&&Object(x.jsx)(ie,{isModalOpen:s})]}),"towable"===o&&Object(x.jsx)(q,{towable:A}),"artifacts"===o&&Object(x.jsx)(_,{}),"resources"===o&&Object(x.jsx)(se,{}),"score"===o&&Object(x.jsx)(ae,{})]}),Object(x.jsxs)("button",{className:"button-1 modal-button",onClick:function(){ce.buttonClick(),v()},children:[Object(x.jsx)("span",{className:"modal-close-icon",children:"\xd7"})," Close"]})]})})}),le=(i(106),function(){var e=Object(n.useContext)(ai),t=e.eventLog;return e.isGameLoading?null:Object(x.jsx)(n.Fragment,{children:t.map((function(e,i){if(!e)return null;var n=e.coords,s=e.html;return i<t.length-1?null:Object(x.jsx)("div",{className:"event-log__message",dangerouslySetInnerHTML:{__html:s},onClick:function(){A.scene.cameras.main.pan(n.x,n.y,300,"Linear",!0)}},i)}))})}),de=i(10),he=i.n(de),ue=function(e){var t=e.numShips,i=void 0===t?1:t,n=e.ship,s=e.x,a=e.y,o=A.boardSizes[A.boardSize];n.orbitingEntity&&(n.leavingOrbit=!0,n.enteringOrbit=!1,n.centeringOnPlanet=!1,n.orbitGroup&&n.orbitGroup.remove(n.sprite),delete n.orbitingEntity.orbitingShips[n.id],n.orbitingEntity=null,window.setTimeout((function(){n.leavingOrbit=!1}),2e3)),s<10||a<10||s>o.boardWidth-10||a>o.boardHeight-10||(he.a.Sleeping.set(n.sprite.body,!1),n.moving=!0,n.selected=!1,delete A.selectedShips[n.id],n.moveMarker&&n.moveMarker.destroy(),n.moveMarker=A.scene.matter.add.sprite(s,a,"moveMarker"),n.moveMarker[A.namespace]={type:"moveMarker"},n.moveMarker.setDepth(6),A.scene.matter.body.set(n.moveMarker.body,{isSensor:!0,isStatic:!0}),n.moveMarker.body[A.namespace]={isMoveMarker:!0,numShips:i,shipId:n.id},n.faction===A.userFactionName?(n.moveMarker.setScale(.08),n.moveMarker.setVisible(!0),n.moveMarker.alpha=A.moveMarkerAlpha):n.moveMarker.setVisible(!1))},me=function(){Object.keys(A.selectedShips).forEach((function(e){var t=A.ships[e];t&&t.selected&&(t.selected=!1),A.selectedShips[t.id]&&delete A.selectedShips[t.id]}))},ge=(i(107),function(){var e=Object(n.useContext)(ai),t=e.config,i=e.setModalContentType,s=e.toggleGameOverOverlay,a=e.toggleModal,o=t.gameStats,c=Object.keys(t.artifacts).filter((function(e){return t.artifacts[e].isCollected})).length,r=function(e){me(),s(!1),i(e),a()};return Object(x.jsxs)("div",{className:"score",children:[Object(x.jsxs)("div",{className:"score__item",onClick:function(){return r("score")},children:[Object(x.jsx)("img",{alt:"score",className:"score__icon",src:"".concat("/ge","/img/score.png")}),o.score&&o.score.toLocaleString()]}),Object(x.jsxs)("div",{className:"score__item score__item--resources",onClick:function(){return r("resources")},children:[Object(x.jsx)("img",{alt:"resources",className:"score__icon",src:"".concat("/ge","/img/resources-green.png")}),o.resources&&o.resources.toLocaleString()]}),Object(x.jsxs)("div",{className:"score__item score__item--artifacts",onClick:function(){return r("artifacts")},children:[Object(x.jsx)("img",{alt:"artifacts",className:"score__icon",src:"".concat("/ge","/img/artifact-white.png")}),c,"/",Object.keys(t.artifacts).length]})]})}),pe=i(51),be=i.n(pe),fe=i(8),ye=i(15),Ae=i(24),ve=i(23),xe=function(e){Object(Ae.a)(i,e);var t=Object(ve.a)(i);function i(e,n,s,a){var o;return Object(fe.a)(this,i),(o=t.call(this,e,n,s,"particleWhite")).scaleX=a||.15,o.scaleY=a||.15,o}return i}(V.a.GameObjects.Image),je=function(){function e(){Object(fe.a)(this,e)}return Object(ye.a)(e,[{key:"explode",value:function(e,t,i){for(var n=120,s=0;s<30;s+=1){var a=A.chance.floating({min:.08,max:.15}),o=new xe(A.scene,V.a.Math.Between(e-10,e+10),V.a.Math.Between(t-10,t+10),a);o[A.namespace]={type:"effects particle"},A.scene.add.existing(o),A.scene.tweens.add({targets:o,alpha:{from:1,to:0},x:V.a.Math.Between(e-n,e+n),y:V.a.Math.Between(t-n,t+n),ease:"Linear",duration:1e3,onComplete:function(e,t){t[0].destroy()}})}}},{key:"pulse",value:function(e){for(var t=e.color,i=e.delayIncr,n=e.duration,s=e.radius,a=e.x,o=e.y,c=0,r=function(e){var r=A.scene.add.graphics({lineStyle:{width:3,color:"0x".concat(t||"ffffff")}}),l=new V.a.Geom.Circle(a,o,0);r.strokeCircleShape(l),r[A.namespace]={type:"pulse ringGraphics"},A.scene.add.existing(r),A.scene.tweens.add({delay:c,targets:l,radius:s||50,ease:"Power1",duration:n||500,onUpdate:function(e,t){r.clear(),r.alpha-=.07,r.strokeCircleShape(l)},onComplete:function(e,t){r.destroy()}}),c+=i||100},l=0;l<3;l+=1)r()}},{key:"ringGrowFade",value:function(e){var t=e.color,i=e.duration,n=e.minRadius,s=e.maxRadius,a=e.width,o=e.x,c=e.y,r=A.scene.add.graphics({lineStyle:{width:a||3,color:t||16777215}}),l=new V.a.Geom.Circle(o,c,n||0);r.strokeCircleShape(l),r[A.namespace]={type:"circle ringGraphics"},A.scene.add.existing(r),A.scene.tweens.add({targets:l,radius:s||30,ease:"Sine.easeOut",duration:i||500,onUpdate:function(e,t){r.alpha-=.01,r.clear(),r.strokeCircleShape(l)},onComplete:function(e,t){r.destroy()}})}},{key:"ringSwell",value:function(e){var t=e.duration,i=e.minRadius,n=e.maxRadius,s=e.width,a=e.x,o=e.y,c=A.scene.add.graphics({lineStyle:{width:s||3,color:16777215}}),r=new V.a.Geom.Circle(a,o,i||0);c.strokeCircleShape(r),c[A.namespace]={type:"circle ringGraphics"},A.scene.add.existing(c),A.scene.tweens.add({targets:r,alpha:{from:1,to:0},radius:n||30,ease:"Power1",duration:t||500,onUpdate:function(e,t){c.clear(),c.strokeCircleShape(r)},onComplete:function(e,t){c.destroy()},yoyo:!0})}},{key:"disband",value:function(e){var t=e.scale,i=e.texture,n=e.x,s=e.y,a=A.scene.add.sprite(n,s,i);a.setScale(t),a[A.namespace]={type:"effects disband sprite"},this.pulse({x:n,y:s}),A.scene.tweens.add({alpha:{from:1,to:0},delay:0,targets:a,radius:50,ease:"Power1",duration:2e3,onUpdate:function(e,t){a.angle+=5,a.scale>0&&(a.scale-=.0015)},onComplete:function(e,t){a.destroy()}})}},{key:"pointAnim",value:function(e){var t=e.x,i=e.y,n=e.num,s=e.positive,a=e.color,o=e.imageKey;if(A.scene.add){i-=50;var c=A.scene.add.group({classType:V.a.GameObjects.Sprite});t-=13*(n.toString().length+1);var r=A.scene.add.text(t,i,"".concat(s?"+":"-"),{fontFamily:"Roboto, sans-serif",fontSize:"30px",fontStyle:"bold",color:"#".concat(a)});r.setOrigin(0,.5),r.setResolution(window.devicePixelRatio),r[A.namespace]={type:"pointAnim symbol"},c.add(r);var l=A.scene.make.image({x:t+(s?18:14),y:i,key:o,scale:{x:.3,y:.3}});l.setOrigin(0,.5),l[A.namespace]={type:"pointAnim image"},c.add(l);var d=A.scene.add.text(t+(s?40:36),i,n,{fontFamily:"Roboto, sans-serif",fontSize:"30px",fontStyle:"bold",color:"#".concat(a)});d.setOrigin(0,.5),d.setResolution(window.devicePixelRatio),d[A.namespace]={type:"pointAnim text"},c.add(d),c.setDepth(4),c[A.namespace]={type:"pointAnim group"},A.scene.tweens.add({alpha:{from:1,to:0},duration:A.pointAnimDuration,ease:"Sine.easeOut",targets:c.getChildren(),y:i-50,onComplete:function(e,t){t.forEach((function(e){e.destroy()})),c.clear(!0),c.destroy()}})}}},{key:"resourceAnim",value:function(e){this.pointAnim(Object(oe.a)(Object(oe.a)({},e),{},{color:A.colorGreen,imageKey:"resourcesGreen"}))}},{key:"scoreAnim",value:function(e){this.pointAnim(Object(oe.a)(Object(oe.a)({},e),{},{color:"ffffff",imageKey:"score"})),ce.score()}}]),e}(),Oe=i(6),we=i(160),Se=i(72),Ce=(i(112),function(e){var t,i=e.hide,s=Object(n.useContext)(ai).gameLoadingPercent;return Object(x.jsx)("div",{className:"load-splash".concat(i?" load-splash--hide":""),children:Object(x.jsxs)(E,{className:"splash",children:[Object(x.jsx)(z.a,{sx:{mt:"25vh"},children:Object(x.jsx)(H.a,{variant:"h6",sx:{textAlign:"center",fontWeight:"bold"},children:"".concat(s,"%")})}),Object(x.jsx)(z.a,{sx:{mt:1,mb:1},children:Object(x.jsx)(we.a,{variant:"determinate",value:s,sx:(t={height:10,borderRadius:5},Object(Oe.a)(t,"&.".concat(Se.a.colorPrimary),{backgroundColor:"#490ec0"}),Object(Oe.a)(t,"& .".concat(Se.a.bar),{borderRadius:5,backgroundColor:"#ffffff"}),t)})}),Object(x.jsx)(z.a,{children:Object(x.jsx)(H.a,{variant:"h6",sx:{textAlign:"center",fontWeight:"bold"},children:"Launching..."})})]})})}),ke=i(38),Be=function(e){Object(Ae.a)(i,e);var t=Object(ve.a)(i);function i(e){var n;Object(fe.a)(this,i);var s="nebula".concat(V.a.Math.Between(1,12)),a=A.scene.textures.list[s].source[0],o=A.scene,c=a.width,r=a.height;return(n=t.call(this,o,0,0,c,r,s)).width=c,n.height=r,n.setDepth(0),n.setOrigin(.5),n.setScale(2.5),n.setAlpha(.34),n.setStart(e.startOnScreen),n[A.namespace]={type:"nebula"},A.scene.add.existing(Object(ke.a)(n)),n}return Object(ye.a)(i,[{key:"setStart",value:function(e){var t=A.boardSizes[A.boardSize],i=t.boardHeight,n=t.boardWidth;if(this.isReversed=A.chance.bool(),this.angle=V.a.Math.Between(0,360),this.speed=V.a.Math.FloatBetween(.05,.5),e)return this.x=V.a.Math.Between(0,n),void(this.y=V.a.Math.Between(0,i));this.isReversed?this.x=n+A.boardPadding+this.width:this.x=0-this.width,this.y=V.a.Math.Between(-A.boardPadding,i-this.height)}},{key:"preUpdate",value:function(e,t){!this.isReversed&&this.x>A.boardSizes[A.boardSize].boardWidth+A.boardPadding+this.width||this.isReversed&&this.x<0-A.boardPadding-this.width?this.setStart():this.x=this.isReversed?this.x-=this.speed:this.x+=this.speed}}]),i}(V.a.GameObjects.TileSprite),Re=function(){function e(t){Object(fe.a)(this,e);var i=A.boardSizes[A.boardSize],n=t.count||A.boardSizes[A.boardSize].blitterStarCount,s=t.width||i.boardWidth+2*A.boardPadding,a=t.height||i.boardHeight+2*A.boardPadding,o=t.tintCount||n/2;this.blitter=A.scene.add.blitter(t.x||0,t.y||0,t.texture),this.blitter.alpha=t.alpha||1,this.blitter.depth=t.depth||1,this.blitter[A.namespace]={type:"star blitter"};for(var c=0;c<n;++c)this.blitter.create(V.a.Math.Between(0,s),V.a.Math.Between(0,a));this.blitter.children.list.forEach((function(e,t){t<o&&e.setTint(16777215*Math.random())}))}return Object(ye.a)(e,[{key:"setPosition",value:function(e){e.x,e.y}}]),e}(),Me=(i(113),function(){var e=Object(l.e)(),t=Object(n.useContext)(ai),i=t.config,s=t.isGameOver,a=t.isGameOverOverlayOpen,o=t.setModalContentType,c=t.setMinimapOpen,r=t.toggleGameOverOverlay,d=t.toggleModal;return Object(x.jsx)("div",{className:"game-over-overlay ".concat(s&&a&&"game-over-overlay--open"),children:Object(x.jsxs)("div",{className:"game-over-overlay-inner",children:[i.gameStats.victory?Object(x.jsx)("p",{className:"game-over-overlay-heading",children:"Mission Complete"}):Object(x.jsx)("p",{className:"game-over-overlay-heading",children:"Mission Failure"}),i.gameStats.victory?Object(x.jsx)("p",{style:{color:"#".concat(A.colorGreen)},children:"You are victorious!"}):Object(x.jsx)("p",{style:{color:"#".concat(A.colorRed)},children:"You have lost"}),Object(x.jsxs)(D.a,{container:!0,spacing:1,wrap:"wrap",children:[Object(x.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)("button",{className:"button-1",onClick:function(){r(),o("gameStats"),d(),c(!1),A.minimap&&A.minimap.hide()},children:"Mission Overview"})}),Object(x.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)("button",{className:"button-1",onClick:function(){e.push("configure")},children:"New Mission"})})]})]})})});function Ee(){var e=this.sprite.body;for(var t in A.ships){var i=A.ships[t];if(this.id===i.id||this.orbitingEntity||i.orbitingEntity)return;if(V.a.Geom.Intersects.CircleToCircle({x:this.x,y:this.y,radius:this.formationRadius},{x:i.x,y:i.y,radius:this.formationRadius})){var n=e,s=i.sprite.body,a=V.a.Math.Distance.Between(n.position.x,n.position.y,s.position.x,s.position.y);A.shipFormations[this.id]||(A.shipFormations[this.id]=[this.id,i.id],A.scene.matter.add.constraint(n,s,a,1))}}}function Ge(){var e=this,t=e.healthBarRect;if(t.setVisible(!1),e.faction===A.userFactionName||e.isDetected||A.isDemo){var i=e.x-e.diameter+10,n=e.y-e.diameter-10;"satellite"===e.type&&(i=e.x-e.diameter+4,n=e.y-e.diameter-13),t.setSize(e.health/4,4),t.setX(i),t.setY(n),t.setFillStyle(function(e){var t=A.shipMaxHealth,i=16777215;return e<Math.floor(t/1.42)&&(i=16776960),e<Math.floor(t/2)&&(i=16753920),e<Math.floor(t/3.3)&&(i=16711680),i}(e.health)),t.setVisible(e.health<A.shipMaxHealth)}if(e.health<A.shipMaxHealth){var s,a=A.difficultyLevels[A.difficulty],o=A.shipRanks["rank".concat(e.rank)],c=e.faction===A.userFactionName,r=e.faction.includes(A.enemyFactionName),l=0;if(c&&(l=o.shipHealRate),r&&(l=a.enemyShipHealRate),e.orbitingEntity)c&&e.orbitingEntity.faction===A.userFactionName&&(l=o.shipHealOrbitRate),r&&(null===(s=e.orbitingEntity.faction)||void 0===s?void 0:s.includes(A.enemyFactionName))&&(l=a.enemyShipHealOrbitRate);e.health+=l}}function Fe(){if(this.moveMarker&&this.moveMarker.body){var e=this.sprite.body;this.vector=he.a.Vector.create(e.position.x,e.position.y),this.moveVector=he.a.Vector.create(this.moveMarker.x,this.moveMarker.y),this.angle=he.a.Vector.angle(this.vector,this.moveVector),he.a.Body.setAngle(e,this.angle),he.a.Body.setVelocity(e,{x:Math.cos(this.angle)*this.speed,y:Math.sin(this.angle)*this.speed});var t=!1;A.scene.matter.overlap(this.sprite.body,this.moveMarker.body,(function(e,i){t=!0}),(function(e,t){var i=e.position.x,n=e.position.y,s=t.position.x,a=t.position.y,o=t[A.namespace].numShips,c=2;return o>1&&(c*=o+2),i>s-c&&i<s+c&&(n>a-c&&n<a+c)})),t&&(he.a.Body.setVelocity(e,{x:0,y:0}),A.scene.matter.world.remove(this.moveMarker.body),this.moveMarker.destroy(),this.moving=!1)}}function De(){var e=this.sprite.body;this.orbitGraphics&&this.orbitGraphics.clear(),this.orbitingEntity&&(this.enteringOrbit||(this.enteringOrbit=!0,this.faction===A.userFactionName&&(B("".concat(this.name," enter orbit")),ce.shipEnterOrbit()),he.a.Body.setVelocity(e,{x:0,y:0}),this.orbitingEntity&&(this.orbitingEntity.orbitingShips[this.id]={faction:this.faction,isDetected:this.isDetected,type:this.type},"planet"!==this.orbitingEntity.type&&this.detachTowables()),this.orbitGroup=A.scene.add.group(),this.orbitGroup.add(this.sprite,!1),this.orbitPoint=new V.a.Geom.Point(this.orbitingEntity.x,this.orbitingEntity.y)),V.a.Actions.RotateAroundDistance(this.orbitGroup.getChildren(),this.orbitPoint,this.orbitSpeed,A.orbitDistance),he.a.Body.setAngle(e,this.orbitAngle-=.006))}function Ne(e,t){var i=A.scene.matter.getMatterBodies().filter((function(e){var t=e[A.namespace];if(!t)return!1;if(!t.isShipBody)return!1;var i=A.ships[t.shipId].faction===A.userFactionName;return i||!i&&O})),n=A.scene.matter.intersectPoint(e,t,i);if(n.length){var s=n[0][A.namespace].shipId,a=A.ships[s];if(!a.selected)return A.selectedShips[s]=a.name,a.selected=!0,li(a),ce.shipSelect(),void(O&&console.log(a));a.selected=!1,delete A.selectedShips[a.id],li(null,!0)}else{var o=Object.keys(A.selectedShips).length;o&&(Object.keys(A.selectedShips).forEach((function(i,n){var s=A.ships[i];s.selected?(s.selected=!1,"satellite"!==s.type?(ue({numShips:o,ship:s,x:e,y:t}),ce.moveMarker()):delete A.selectedShips[s.id]):delete A.selectedShips[s.id]})),li(null,!0))}}var Ie=function(e){Object(Ae.a)(i,e);var t=Object(ve.a)(i);function i(e,n){var s;return Object(fe.a)(this,i),(s=t.call(this,e,0,0,n)).scaleX=.12,s.scaleY=.08,s}return i}(V.a.GameObjects.Image);function ze(e,t,i){var n=this;this.missile=new Ie(A.scene,"particleWhite"),A.scene.add.existing(this.missile),this.missile.setPosition(this.x,this.y),this.missile[A.namespace]={type:"missile"},ce.shipShoot();var s=this.weaponSpeed,a=s/10/2,o=e.x,c=e.y;if(e.sprite.body){var r=e.sprite.body,l=r.position,d=r.positionPrev,h=r.velocity;l.y<d.y&&(c-=Math.abs(h.y*a)),l.y>d.y&&(c+=Math.abs(h.y*a)),l.x<d.x&&(o-=Math.abs(h.x*a)),l.x>d.x&&(o+=Math.abs(h.x*a))}A.scene.tweens.add({targets:this.missile,x:o,y:c,ease:"Linear",duration:s,onComplete:function(t,i){i[0].destroy();var s=A.difficultyLevels[A.difficulty].enemyShipWeaponDamage[A.chance.d4()-1];"userFactionName"===n.faction&&(s=A.shipRanks["rank".concat(n.rank)].shipWeaponDamage[A.chance.d4()-1]),e.health-=s}}).on("update",(function(e,t,i){}))}var He=i(55),Qe=i.n(He),Te=function(e){var t=Object.keys(A.entities).filter((function(e){var t;return null===(t=A.entities[e].faction)||void 0===t?void 0:t.includes(A.enemyFactionName)})),i=Object.keys(A.ships).filter((function(e){return A.ships[e].faction.includes(A.enemyFactionName)})),n=Object.keys(A.entities).filter((function(e){return A.entities[e].faction===A.userFactionName})),s=Object.keys(A.ships).filter((function(e){return A.ships[e].faction===A.userFactionName}));if(A.isDemo)return!1;var a=!1;w||n.length||s.length||(A.gameStats.victory=!1,a=!0),w||t.length||i.length||(A.gameStats.victory=!0,a=!0),a?(A.gameStats.victory?(Qe.a.screen({color:["#77cf0f","#4c3db1","#ffffff"],size:Qe.a.minmax(6,12),count:200,angle:-180,spread:40,angularVelocity:Qe.a.minmax(0,3)}),setTimeout((function(){ce.win()}),500)):setTimeout((function(){ce.lose()}),500),Qt(!0),!A.isGameOver&&Tt(!0),A.isGameOver=!0,Object.keys(A.entities).forEach((function(e){var t=A.entities[e];t.discovered=!0,t.isMiningResources=!1})),i.forEach((function(e){var t=A.ships[e];t&&t.destroy()})),A.gameStats.artifactsCollected=Object.keys(A.artifacts).filter((function(e){return A.artifacts[e].isCollected})).length,A.gameStats.gameId!==A.careerStats.lastSavedGameId&&(A.careerStats.lastSavedGameId=A.gameStats.gameId,Ft({html:"The game has ended. ".concat(A.gameStats.victory?'<span style="color: #'.concat(A.colorGreen,'">You Win</span>'):'<span style="color: #'.concat(A.colorRed,'">You have lost</span>'))}),setTimeout((function(){new Promise((function(e,t){var i=A.gameStats;return i.victory?A.careerStats.victories+=1:A.careerStats.losses+=1,A.careerStats.artifactsCollected+=i.artifactsCollected,A.careerStats.planetsColonized+=i.planetsColonized,A.careerStats.planetsConquered+=i.planetsConquered,A.careerStats.planetsLost+=i.planetsLost,A.careerStats.score+=i.score,A.careerStats.shipsBuilt+=i.shipsBuilt,A.careerStats.shipsDestroyed+=i.shipsDestroyed,A.careerStats.shipsLost+=i.shipsLost,O&&console.log("addGameStatsToCareer",i,A.careerStats),e()})).then((function(){return B("gameOverCheck")}))}),0))):(Qt(!1),A.isGameOver=!1,B("gameOverCheck"))},Ke=function(){function e(t){var i,n=this;Object(fe.a)(this,e);var s=t.angle,a=t.faction,o=t.diameter,c=t.health,r=t.id,l=t.matterConfig,d=t.name,h=t.orbitingEntity,u=t.proximityRange,m=t.rank,g=t.scale,p=t.selectedTexture,b=t.sensorRange,f=t.texture,y=t.type,v=t.x,x=t.y,j=A.chance,O=A.difficultyLevels[A.difficulty];this.type=y||"ship",this.formation=Ee,this.orbit=De,this.move=Fe,this.handlePointerdown=Ne,this.healthBar=Ge,this.rank=m||0,this.shoot=ze,this.id=r||j.guid(),this.name=d||j.capitalize(j.pick([j.word({syllables:1}),j.word({syllables:2}),j.word({syllables:3})])),this.faction=a,this.isDetected=this.faction===A.userFactionName||A.isDemo,this.diameter=o||10,this.health=c||A.shipMaxHealth,this.selected=!1,this.moving=!1,this.fighting=!1,this.enteringOrbit=!1,this.leavingOrbit=!1,this.orbitingEntity=h||null,this.scale=g||.3,this.speed=this.faction===A.userFactionName?A.shipRanks["rank".concat(this.rank)].shipSpeed:O.enemyShipSpeed,this.orbitAngle=0,this.orbitSpeed=.004,this.formationRadius=this.diameter+10,this.proximityRange=u||this.diameter+A.shipRanks["rank".concat(this.rank)].shipProximityRange,this.sensorRange=b||this.diameter+A.shipRanks["rank".concat(this.rank)].shipSensorRange,this.constraints={},this.towedTowables={},this.towLines={},this.x=v||V.a.Math.Between(A.boardPadding,A.boardSizes[A.boardSize].boardWidth-A.boardPadding),this.y=x||V.a.Math.Between(A.boardPadding,A.boardSizes[A.boardSize].boardHeight-A.boardPadding);var w=null===(i=this.faction)||void 0===i?void 0:i.includes(A.enemyFactionName),S="shipGreen";w&&(S={0:"shipRed",1:"shipOrange",2:"shipBlue",3:"shipGreen"}[this.faction.at(-1)]||"shipRed"),this.rank>0&&!w&&(S="shipGreenRank".concat(this.rank)),this.texture=f||S,this.selectedTexture=p||"shipWhite",this.sprite=A.scene.matter.add.sprite(this.x,this.y),this.sprite.setTexture(this.texture),this.sprite.setScale(this.scale),this.sprite.setDepth(7),"satellite"===this.type?this.sprite.setCircle(this.diameter+4):(this.sprite.setCircle(this.diameter+2),this.sprite.originX=this.sprite.originX-.07,s&&he.a.Body.setAngle(this.sprite.body,s)),this.matterConfig=Object.assign({density:.1,friction:1,frictionAir:.03,restitution:.1,sleepThreshold:10},l||{}),he.a.Body.set(this.sprite.body,this.matterConfig),this.sprite.body[A.namespace]={isShipBody:!0,shipId:this.id},this.sprite[A.namespace]={type:"ship"},this.shipCircle=new V.a.Geom.Circle(this.x,this.y,this.diameter),this.shipCircle[A.namespace]={type:"shipCircle"},this.sensorCircle=new V.a.Geom.Circle(this.x,this.y,this.sensorRange),this.sensorCircle[A.namespace]={type:"sensorCircle"},this.proximityCircle=new V.a.Geom.Circle(this.x,this.y,this.proximityRange),this.proximityCircle[A.namespace]={type:"proximityCircle"},this.weaponSpeed=A.shipRanks["rank".concat(this.rank)].shipWeaponSpeed,this.faction.includes(A.enemyFactionName)&&(this.weaponSpeed=A.difficultyLevels[A.difficulty].enemyShipWeaponSpeed),this.weaponTargets={},this.weaponTimer=A.scene.time.addEvent({delay:this.weaponSpeed,callback:function(){var e=Object.keys(n.weaponTargets);if(e.length){var t=A.ships[e[0]];n.shoot(t)}},loop:!0,paused:!0}),this.healthBarRect=A.scene.add.rectangle(v,x,this.health/4,3,16777215),this.healthBarRect.setDepth(5),this.healthBarRect[A.namespace]={type:"healthBarRect"},h&&(h.orbitingShips[this.id]={faction:this.faction,isDetected:this.isDetected}),A.ships[this.id]=this}return Object(ye.a)(e,[{key:"update",value:function(e,t){var i=this,n=this.sprite.body;if(n){var s,a=A.difficultyLevels[A.difficulty],o=this.faction!==A.userFactionName;if(this.x=n.position.x,this.y=n.position.y,this.shipCircle.setPosition(this.x,this.y),this.sensorCircle.setPosition(this.x,this.y),this.proximityCircle.setPosition(this.x,this.y),this.sprite.setTexture(this.selected?this.selectedTexture:this.texture),this.fighting=!1,this.weaponTimer.paused=!0,this.move(),this.orbit(),this.healthBar(),this.towLines&&Object.keys(this.towLines).length&&Object.keys(this.towLines).forEach((function(e){var t=i.towLines[e];t.line.setTo(n.position.x,n.position.y,A.towables[e].sprite.body.position.x,A.towables[e].sprite.body.position.y),t.graphics.clear(),t.graphics.strokeLineShape(t.line)})),o)this.sprite.setVisible(!!A.isDemo||this.isDetected),this.isDetected=!1;else(null===(s=this.moveMarker)||void 0===s?void 0:s.body)&&(he.a.Body.rotate(this.moveMarker.body,.1),this.moveMarker.alpha=this.selected?A.moveMarkerSelectedAlpha:A.moveMarkerAlpha);if(this.selected&&he.a.Sleeping.set(this.sprite.body,!1),this.health<=0){if((new je).explode(this.x,this.y,this.faction),o){var c=Object.keys(this.weaponTargets);if(c.length){var r=A.ships[c[0]];(null===r||void 0===r?void 0:r.rank)<3&&!r.faction.includes(A.enemyFactionName)&&(r.rank+=1,r.weaponSpeed=A.shipRanks["rank".concat(r.rank)].shipWeaponSpeed,"satellite"===r.type?r.texture="satelliteGreenRank".concat(r.rank):r.texture="shipGreenRank".concat(r.rank))}A.gameStats.shipsDestroyed+=1,A.gameStats.score+=a.shipDestroyPoints,(new je).scoreAnim({x:this.x,y:this.y,num:a.shipDestroyPoints,positive:!0}),A.gameStats.resources+=a.shipResourceSalvage,setTimeout((function(){(new je).resourceAnim({x:i.x,y:i.y,num:a.shipResourceSalvage,positive:!0})}),A.pointAnimDelay),Ft({html:'An <span style="color: #'.concat(A.colorRed,'">enemy ').concat(this.type,"</span> has been destroyed"),coords:{x:this.x,y:this.y}})}else{A.gameStats.shipsLost+=1,A.gameStats.score-=a.shipDestroyPoints,(new je).scoreAnim({x:this.x,y:this.y,num:a.shipDestroyPoints,positive:!1});var l='The ship <span style="color: #'.concat(A.colorGreen,'">').concat(this.name,"</span> has been destroyed");"satellite"===this.type&&(l='A <span style="color: #'.concat(A.colorGreen,'">satellite</span> has been destroyed')),Ft({html:l,coords:{x:this.x,y:this.y}})}this.destroy(),ci(),B("destroy ship")}this.weaponTargets={}}}},{key:"detachTowables",value:function(){var e=this;Object.keys(this.towedTowables).length&&Object.keys(this.towedTowables).forEach((function(e){var t=A.towables[e];he.a.Body.rotate(t.sprite.body,0),t.isBeingTowed=!1,t.towShipId=null,t.constraint&&A.scene.matter.world.removeConstraint(t.constraint)})),Object.keys(this.towLines).length&&Object.keys(this.towLines).forEach((function(t){var i=e.towLines[t];i.graphics.clear(),i.graphics.destroy()}))}},{key:"destroy",value:function(){ce.shipDestroy(),he.a.Body.setVelocity(this.sprite.body,{x:0,y:0}),this.detachTowables(),this.moveMarker&&this.moveMarker.destroy(),this.moving=!1,A.scene.matter.world.remove(this.shipCircle),A.scene.matter.world.remove(this.sensorCircle),A.scene.matter.world.remove(this.proximityCircle),A.scene.matter.world.remove(this.sprite),this.weaponTimer.destroy(),this.healthBarRect.destroy(),this.sprite.destroy(),this.orbitingEntity&&delete this.orbitingEntity.orbitingShips[this.id],delete A.ships[this.id],delete A.selectedShips[this.id],Te()}}]),e}(),Le=function(e){Object(Ae.a)(i,e);var t=Object(ve.a)(i);function i(){var e,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(fe.a)(this,i);var a=A.chance;s.type="satellite",s.scale=.1,s.diameter=4,s.name=a.capitalize(a.pick([a.word({syllables:1})])),s.matterConfig={density:.05,friction:.1,restitution:.8},s.selectedTexture="satelliteWhite";var o={0:"satelliteRed",1:"satelliteOrange",2:"satelliteBlue",3:"satelliteGreen"},c=null===(e=(n=t.call(this,s)).faction)||void 0===e?void 0:e.includes(A.enemyFactionName),r="satelliteGreen";return c&&(r=o[n.faction.at(-1)]||"satelliteRed"),n.rank>0&&!c&&(r=n.faction===A.userFactionName?"satelliteGreenRank".concat(n.rank):"satelliteRed"),n.texture=r,s.proximityRange=s.diameter+A.shipRanks["rank".concat(n.rank)].satelliteProximityRange,s.sensorRange=s.diameter+A.shipRanks["rank".concat(n.rank)].satelliteSensorRange,n}return i}(Ke),Ve=function(){function e(t){var i=this;Object(fe.a)(this,e);var n=t.alpha,s=t.color,a=t.duration,o=t.hidden,c=t.lineWidth,r=t.radius,l=t.reverse,d=t.x,h=t.y,u=A.chance;this.alpha=n||1,this.color=s,this.id=u.guid(),this.duration=a,this.endAngle=360,this.graphics=A.scene.add.graphics(),this.lineWidth=c||3,this.radius=r,this.reverse=l,this.startAngle=-90,this.x=d,this.y=h,this.graphics.setVisible(!o),A.timers[this.id]=this,this.promise=new Promise((function(e,t){i.reject=t,i.timedEvent=A.scene.time.delayedCall(i.duration,(function(){i.graphics.destroy(),delete A.timers[i.id],e(i)}),[],i)}))}return Object(ye.a)(e,[{key:"remove",value:function(){this.reject(),this.graphics.destroy(),delete A.timers[this.id]}},{key:"update",value:function(e,t){if(A.timers[this.id])if(A.isGameOver)this.remove();else{var i=100*this.timedEvent.getProgress()/1;this.reverse&&(i=100-i),this.endAngle=i/100*360+this.startAngle,this.graphics.clear(),this.graphics.lineStyle(this.lineWidth,"0x".concat(this.color),this.alpha),this.graphics.beginPath(),this.graphics.arc(this.x,this.y,this.radius,V.a.Math.DegToRad(this.startAngle),V.a.Math.DegToRad(this.endAngle),!1),this.graphics.strokePath()}}}]),e}(),Pe=function(e){var t=e.difficulty,i=e.ships.filter((function(e){var t=A.ships[e];return"satellite"!==t.type&&!t.moving&&!t.fighting})),n=Object.keys(A.entities).filter((function(e){return"planet"===A.entities[e].type})),s=n[V.a.Math.Between(0,n.length-1)],a=A.entities[s];i.forEach((function(e,i){var n=A.ships[e];delete n.following;var s=0;if("difficulty2"===A.difficulty&&(s=V.a.Math.Between(0,1)),"difficulty3"===A.difficulty&&(s=V.a.Math.Between(0,2)),!(i>s)){var o=n.orbitingEntity;if(o&&o.faction!==n.faction){var c=n.orbitingEntity.id,r=A.entities[c],l=Object.keys(r.orbitingShips).find((function(e){return r.orbitingShips[e].faction===A.userFactionName}));if(A.isGameOver||l||r.isColonizing)return;r.isColonizing=!0;var d=A.colorRed;if(A.enemyFactions.length){d=A[{0:"colorRed",1:"colorOrange",2:"colorBlue",3:"colorGreen"}[n.faction.at(-1)]]||"flagRed"}new Ve({color:d,duration:t.planetColonizeTime,radius:r.diameter+2,reverse:!0,x:r.x,y:r.y,hidden:!r.discovered}).promise.then((function(){r.faction===A.userFactionName&&(A.gameStats.planetsLost+=1,A.gameStats.score-=t.planetColonizePoints,Ft({html:'The planet <span style="color: #'.concat(A.colorRed,'">').concat(r.name,"</span> has been lost"),coords:{x:r.x,y:r.y}})),r.faction=n.faction,r.colonized=!0,r.isColonizing=!1,r.isHomePlanet=!1,r.isMiningResources=!1,B("enemyMove - colonize"),Te()})).catch((function(e){}))}else a&&ue({ship:n,x:a.x,y:a.y})}}))},Ue=function(e){var t=e.difficulty,i=e.faction,n=e.ships,s=e.satellites;if(!A.isGameOver){var a=Object.keys(A.entities).filter((function(e){var t=A.entities[e];return"planet"===t.type&&t.faction===i})),o=a[V.a.Math.Between(0,a.length-1)],c=A.entities[o];if(c){var r={faction:i,orbitingEntity:c,x:c.x,y:c.y};1===A.chance.d4()&&n.length<t.enemyShipMax&&(new Ke(r),B("enemyMove - build ship")),1===A.chance.d20()&&s.length<t.enemySatelliteMax&&(new Le(r),B("enemyMove - build satellite"))}}},We=function(){if(!w){var e=A.difficultyLevels[A.difficulty];if(A.isDemo&&A.enemyFactions.length)A.enemyFactions.forEach((function(t){var i=Object.keys(A.ships).filter((function(e){return A.ships[e].faction===t})),n=i.filter((function(e){return"satellite"===A.ships[e].type}));Pe({difficulty:e,ships:i}),Ue({difficulty:e,faction:t,ships:i,satellites:n})}));else{var t=Object.keys(A.ships).filter((function(e){return A.ships[e].faction===A.enemyFactionName})),i=t.filter((function(e){return"satellite"===A.ships[e].type}));Pe({difficulty:e,ships:t}),Ue({difficulty:e,faction:A.enemyFactionName,ships:t,satellites:i})}}},Ye=i(36),Je=i(25),Ze=function(e){Object(Ae.a)(i,e);var t=Object(ve.a)(i);function i(e){var n;return Object(fe.a)(this,i),e.texture="artifactWhite",e.type="artifact",(n=t.call(this,e)).fillColor=8811259,n.isCollected=!1,n.faction=null,n.timedEffect=A.scene.time.addEvent({delay:5e3,callback:function(){var e=Object(ke.a)(n),t=e.isBeingTowed,i=e.isDiscovered,s=e.isInOrbit,a=e.isMoving,o=e.sprite;!o.body||t||!i||s||a||(new je).ringGrowFade({minRadius:20,maxRadius:60,duration:3e3,x:o.x,y:o.y,width:2})},loop:!0}),A.artifacts[n.id]=Object(ke.a)(n),n}return Object(ye.a)(i,[{key:"destroy",value:function(){this.timedEffect.remove(),Object(Ye.a)(Object(Je.a)(i.prototype),"destroy",this).call(this)}},{key:"orbit",value:function(){Object(Ye.a)(Object(Je.a)(i.prototype),"orbit",this).call(this),this.orbitingEntity&&this.timedEffect.remove()}},{key:"update",value:function(){Object(Ye.a)(Object(Je.a)(i.prototype),"update",this).call(this),this.sprite.body&&!this.isMoving&&he.a.Body.rotate(this.sprite.body,.01),this.faction=null,this.isInOrbit&&this.orbitingEntity&&(this.orbitingEntity.faction===A.enemyFactionName&&(this.fillColor="0x".concat(A.colorRed),this.faction=A.enemyFactionName,this.isCollected=!1),this.orbitingEntity.faction===A.userFactionName&&(this.fillColor="0x".concat(A.colorGreen),this.faction=A.userFactionName,this.isCollected=!0)),A.isGameOver&&!this.timedEffect.paused&&(this.timedEffect.paused=!0),this.sprite.setTintFill(this.isSelected?16777215:this.fillColor)}}]),i}(function(){function e(t){if(Object(fe.a)(this,e),this.constraint=null,this.id=t.id||A.chance.guid(),this.isBeingTowed=t.isBeingTowed||!1,this.isDiscovered=t.isDiscovered||!1,this.isInOrbit=t.isInOrbit||!1,this.isMoving=!1,this.isSelected=!1,this.movingThreshold=.02,this.orbitAngle=0,this.orbitSpeed=.004,this.towShipId=t.towShipId||null,this.type=t.type||"default",this.sprite=A.scene.matter.add.sprite(t.x,t.y,t.texture||"star"),he.a.Body.set(this.sprite.body,{density:.005,frictionAir:.005,frictionStatic:8,restitution:.4,sleepThreshold:10,isStatic:!this.isBeingTowed&&!this.isInOrbit}),this.sprite.setScale(.26),this.sprite.setDepth(7),this.sprite.body[A.namespace]={isTowableBody:!0,towableId:this.id,type:this.type},this.isDiscovered||(this.undiscoveredImage=A.scene.add.image(t.x,t.y,"undiscovered"),this.undiscoveredImage.setScale(.25),this.undiscoveredImage[A.namespace]={type:"towable undiscovered"}),A.towables[this.id]=this,this.towShipId){var i=A.ships[this.towShipId];i&&this.addConstraint(i)}t.orbitingEntityId&&(this.orbitingEntity=A.entities[t.orbitingEntityId],this.isInOrbit=!1)}return Object(ye.a)(e,[{key:"orbit",value:function(){this.orbitingEntity&&(!this.isInOrbit&&this.orbitingEntity&&(this.isInOrbit=!0,this.orbitGroup=A.scene.add.group(),this.orbitGroup.add(this.sprite,!1),this.orbitPoint=new V.a.Geom.Point(this.orbitingEntity.x,this.orbitingEntity.y),he.a.Body.setVelocity(this.sprite.body,{x:0,y:0})),V.a.Actions.RotateAroundDistance(this.orbitGroup.getChildren(),this.orbitPoint,this.orbitSpeed,A.orbitDistance),he.a.Body.setAngle(this.sprite.body,this.orbitAngle-=.006))}},{key:"update",value:function(e,t){this.sprite.body&&(this.x=this.sprite.body.position.x,this.y=this.sprite.body.position.y,this.isMoving=this.sprite.body.speed>this.movingThreshold,this.sprite.setVisible(this.isDiscovered),this.undiscoveredImage&&(this.undiscoveredImage.alpha=this.isSelected||O?1:.7,this.isDiscovered&&(this.undiscoveredImage.destroy(),delete this.undiscoveredImage)),this.orbit())}},{key:"destroy",value:function(){he.a.Body.setVelocity(this.sprite.body,{x:0,y:0}),A.scene.matter.world.remove(this.sprite),this.sprite.destroy(),this.undiscoveredImage&&(this.undiscoveredImage.destroy(),delete this.undiscoveredImage),this.orbitingEntity&&delete this.orbitingEntity.orbitingTowables[this.id],delete A.towables[this.id]}},{key:"deselect",value:function(){this.isSelected=!1}},{key:"addConstraint",value:function(e){var t=this,i=this.id;t.isInOrbit||t.isBeingTowed||e.faction!==A.userFactionName||e.orbitingEntity||(t.sprite.body.isStatic&&(he.a.Body.set(t.sprite.body,{isStatic:!1}),he.a.Body.rotate(t.sprite.body,0)),t.isBeingTowed=!0,t.towShipId=e.id,e.towedTowables[i]={id:i},ce.tractorBeam(),t.constraint=A.scene.matter.add.constraint(e.sprite.body,t.sprite.body,35,.01,{damping:.1}),e.towLines[i]={graphics:A.scene.add.graphics({lineStyle:{width:7,color:"0x7a67e8",alpha:.5}}),line:new V.a.Geom.Line(e.x,e.y,t.sprite.body.position.x,t.sprite.body.position.y)},this.undiscoveredImage&&this.undiscoveredImage.destroy(),this.isDiscovered=!0,(new je).scoreAnim({x:t.sprite.x,y:t.sprite.y,num:A.difficultyLevels[A.difficulty].shipHitTowablePoints,positive:!0}),"artifact"===t.type&&Ft({coords:{x:e.x,y:e.y},html:'The ship <span style="color: #'.concat(A.colorGreen,'">').concat(e.name,"</span> has discovered an artifact")}))}}]),e}()),Xe=function(e,t){var i=A.towables[t];if(!i.isInOrbit){if(i.orbitingEntity=e,i.isBeingTowed=!1,i.constraint&&A.scene.matter.world.removeConstraint(i.constraint),e.orbitingTowables[t]={id:t},he.a.Body.set(i.sprite.body,{frictionAir:.03,restitution:.1}),i.towShipId){var n=A.ships[i.towShipId],s=n&&n.towLines[i.id];if(!s)return;s.graphics&&s.graphics.clear(),s.graphics.destroy(),delete n.towLines[i.id]}A.isGameLoading||((new je).scoreAnim({x:i.sprite.x,y:i.sprite.y,num:A.difficultyLevels[A.difficulty].planetTowablePoints,positive:!0}),"artifact"===i.type&&e.faction===A.userFactionName&&Ft({coords:{x:e.x,y:e.y},html:'An artifact has been collected on <span style="color: #'.concat(A.colorGreen,'">').concat(e.name,"</span>")}),setTimeout((function(){ci()}),0))}},qe=function(){function e(t){var i,n=this;Object(fe.a)(this,e);var s=t.diameter,a=t.discovered,o=t.faction,c=t.fillColor,r=t.id,l=t.isEnemyHomePlanet,d=t.isHomePlanet,h=t.isMiningResources,u=t.name,m=t.orbitingShips,g=t.orbitingTowables,p=t.type,b=t.x,f=t.y,y=new be.a;this.type=p,this.id=r||y.guid(),this.name=u||y.capitalize(y.pick([y.word({syllables:1}),y.word({syllables:2}),y.word({syllables:3})])),this.faction=o||null,this.isEnemyHomePlanet=l||!1,this.isHomePlanet=d||!1,this.isMiningResources=h||!1,this.discovered=a||!1,this.selected=!1,this.orbitingShips=m||{},this.orbitingTowables=g||{},this.diameter=s,this.sensorRange=t.diameter+A.difficultyLevels[A.difficulty].planetSensorRange,this.x=b||V.a.Math.Between(A.boardPadding,A.boardSizes[A.boardSize].boardWidth-A.boardPadding),this.y=f||V.a.Math.Between(A.boardPadding,A.boardSizes[A.boardSize].boardHeight-A.boardPadding),this.fillColor=c||(new V.a.Display.Color).random(10).color,this.circle=new V.a.Geom.Circle(this.x,this.y,this.diameter),this.discovered||(this.undiscoveredImage=A.scene.add.image(t.x,t.y,"undiscovered"),this.undiscoveredImage.setScale(.25),this.undiscoveredImage.setDepth(2),this.undiscoveredImage[A.namespace]={type:"entity undiscovered"}),this.body=A.scene.matter.add.circle(this.x,this.y,this.diameter,{isStatic:!0,isSensor:!0}),this.body[A.namespace]={isEntityBody:!0,entityId:this.id},this.orbitBody=A.scene.matter.add.circle(this.x,this.y,A.orbitDistance,{isStatic:!0,isSensor:!0}),this.orbitBody[A.namespace]={isOrbitBody:!0,entityId:this.id},this.sensorCircle=new V.a.Geom.Circle(this.x,this.y,this.sensorRange),this.sensorCircle[A.namespace]={type:"sensorCircle"},this.labelWidth=2*A.orbitDistance-30,this.label=A.scene.add.text(this.x-this.labelWidth/2,this.y+this.diameter+2,this.name,{fontFamily:"sans-serif",fontSize:"10px",color:"#fff",align:"center",fixedWidth:this.labelWidth}),this.label.depth=1,this.label[A.namespace]={type:"entity label"},this.label.setResolution(3),this.statusLabel=A.scene.add.text(this.x-this.labelWidth/2,this.y+this.diameter+13,"",{fontFamily:"sans-serif",fontSize:"10px",color:"#".concat(A.colorGreen),align:"center",fixedWidth:this.labelWidth}),this.statusLabel.depth=1,this.statusLabel[A.namespace]={type:"entity statusLabel"},this.statusLabel.setResolution(3),this.labelsHidden=!1,A.scene.cameras.main.on(V.a.Cameras.Scene2D.Events.ZOOM_COMPLETE,(function(e,t){t.destination<1?n.labelsHidden=!0:n.labelsHidden=!1})),null===(i=this.orbitGraphics)||void 0===i||i.clear(),this.orbitGraphics=A.scene.add.graphics({lineStyle:{width:2,color:16777215,alpha:.2}}),this.orbitRing=new V.a.Geom.Circle(this.x,this.y,A.orbitDistance),this.orbitGraphics.setDepth(1),this.orbitGraphics.strokeCircleShape(this.orbitRing),this.orbitGraphics[A.namespace]={type:"orbitGraphics"},A.entities[this.id]=this,Object.keys(this.orbitingTowables).forEach((function(e){Xe(n,e)}))}return Object(ye.a)(e,[{key:"destroy",value:function(){var e,t,i;null===(e=this.undiscoveredImage)||void 0===e||e.destroy(),this.label.destroy(),this.statusLabel.destroy(),null===(t=this.sensorGraphics)||void 0===t||t.destroy(),null===(i=this.orbitGraphics)||void 0===i||i.destroy(),A.scene.matter.world.remove(this.body),A.scene.matter.world.remove(this.orbitBody),A.scene.matter.world.remove(this.orbitRing),A.scene.matter.world.remove(this.circle),A.scene.matter.world.remove(this.sensorCircle),delete A.entities[this.id]}},{key:"handlePointerdown",value:function(e,t){if(V.a.Geom.Intersects.CircleToCircle(this.circle,{x:e,y:t,radius:A.planetMaxSize})){if(Object.keys(A.selectedShips).length)return;this.selected=!this.selected,ce.entitySelect(),O&&console.log(this)}else this.selected=!1;ci()}},{key:"deselect",value:function(){this.selected=!1}},{key:"update",value:function(){var e=this;this.hasOrbitingTowables=Object.keys(this.orbitingTowables).length,this.hasDetectedOrbitingShips=!1,this.hasFriendlyOrbitingShips=!1,this.hasEnemyOrbitingShips=!1,Object.keys(this.orbitingShips).forEach((function(t){var i=A.ships[t];if(i.faction===A.userFactionName&&(e.hasFriendlyOrbitingShips=!0,!e.discovered)){var n=A.difficultyLevels[A.difficulty];A.gameStats.score+=n.planetDiscoverPoints,(new je).scoreAnim({x:e.x,y:e.y,num:n.planetDiscoverPoints,positive:!0}),ci(),Ft({html:"The ".concat(e.type,' <span style="color: #').concat(e.faction===A.enemyFactionName?A.colorRed:"fff",'">').concat(e.name,"</span> has been discovered"),coords:{x:e.x,y:e.y}})}i.faction.includes(A.enemyFactionName)&&(e.hasEnemyOrbitingShips=!0),i.isDetected&&(e.hasDetectedOrbitingShips=!0)})),this.label.setVisible(!this.labelsHidden&&this.discovered||O),this.statusLabel.setVisible(!this.labelsHidden&&this.discovered||O),(this.colonized&&this.faction===A.userFactionName||this.hasFriendlyOrbitingShips||A.isGameOver)&&(this.discovered=!0,this.undiscoveredImage&&(this.undiscoveredImage.destroy(),delete this.undiscoveredImage)),this.undiscoveredImage&&(this.undiscoveredImage.alpha=this.selected?1:.7),this.orbitGraphics.setVisible(this.hasFriendlyOrbitingShips||this.hasOrbitingTowables||this.hasEnemyOrbitingShips&&this.hasDetectedOrbitingShips||this.hasEnemyOrbitingShips&&A.isGameOver||this.hasEnemyOrbitingShips&&A.isDemo)}}]),e}(),_e=function e(t){var i=t.diameter,n=t.innerColor,s=t.middleColor,a=t.outerColor,o=t.textureName,c=t.x,r=t.y;Object(fe.a)(this,e);var l=(i*=4)/2,d=l,h=l,u=document.createElement("canvas");u.width=i,u.height=i;var m=u.getContext("2d"),g=m.createRadialGradient(d,h,2,d-20,h-20,90);g.addColorStop(0,n),s&&g.addColorStop(.5,"#".concat(s)),g.addColorStop(.9,a),m.fillStyle=g,m.arc(d,h,l,0,2*Math.PI),m.fill(),A.scene.textures.addCanvas(o,u),this.image=A.scene.add.image(c,r,o);this.image.scaleX=.5,this.image.scaleY=.5,this.image.setDepth(3)},$e=i(42),et=i.n($e),tt=function(e){Object(Ae.a)(i,e);var t=Object(ve.a)(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(fe.a)(this,i);var s=A.chance,a=n.climate||s.pick(["warm","cold","moderate","gas","ice","hot"]),o={cold:{hue:s.integer({min:150,max:240})},gas:{hue:s.integer({min:0,max:330})},hot:{hue:s.integer({min:0,max:40})},ice:{hue:s.integer({min:210,max:250})},moderate:{hue:s.integer({min:90,max:150})},warm:{hue:s.integer({min:40,max:60})}},c=et()("hsl("+o[a].hue+", 60%, 50%)").brighten(10).toHex();n.fillColor=n.fillColor||"0x".concat(c),n.diameter=n.diameter||V.a.Math.Between(A.planetMinSize,A.planetMaxSize),n.type="planet",e=t.call(this,n);var r=n.fillColor.replace("0x",""),l=et()(r).brighten(30).toString();e.fillColorLight=l.replace("#","0x");var d=et()(r).darken(20).toString();e.fillColorDark=d.replace("#","0x"),e.colonized=n.colonized||!1,e.discovered=n.discovered||n.colonized&&n.faction===A.userFactionName||!1,e.isBuildingShip=!1,e.isBuildingSatellite=!1,e.isBuildingMine=!1,e.isColonizing=!1,e.climate=a;var h=e.y-e.diameter-8,u=3;return e.enemyFlagTextureMap={0:"flagRed",1:"flagOrange",2:"flagBlue",3:"flagGreen"},e.flag=A.scene.add.sprite(e.x,h,e.getFlagTexture()),e.flag.setScale(.17),e.flag.setDepth(u),e.flag[A.namespace]={type:"flag"},n.isHomePlanet&&(e.homeSprite=A.scene.add.sprite(e.x-20,h,"homeGreen"),e.homeSprite.setScale(.15),e.homeSprite.setDepth(u),e.homeSprite[A.namespace]={type:"homeSprite"}),e.resourcesSprite=A.scene.add.sprite(e.x+20,h,"resourcesGreen"),e.resourcesSprite.setScale(.22),e.resourcesSprite.setDepth(u),e.resourcesSprite[A.namespace]={type:"resourcesSprite"},e.gradientArc=new _e({diameter:e.diameter,innerColor:l,middleColor:r,outerColor:d,textureName:"planet-".concat(e.id),x:e.x,y:e.y}),e.gradientArc.image[A.namespace]={type:"gradientArc"},e.planetOverlay=A.scene.add.image(e.x,e.y,"planetOverlay"),e.planetOverlay.setScale(e.diameter/90),e.planetOverlay.setDepth(6),e.planetOverlay[A.namespace]={type:"planet overlay sprite"},e.featureId=n.featureId||V.a.Math.Between(1,8),e.featureColor=n.featureColor||e.generateFeatureColor(),e.planetFeature=A.scene.add.image(e.x,e.y,"planetFeature".concat(e.featureId)),e.planetFeature.setScale(e.diameter/76),e.planetFeature.setDepth(5),e.planetFeature[A.namespace]={type:"planet feature"},e.selectionGraphics=A.scene.add.graphics(),e.selectionGraphics.fillStyle("0xffffff"),e.selectionGraphics.fillCircleShape(e.circle),e.selectionGraphics.setDepth(6),e.selectionGraphics[A.namespace]={type:"selectionGraphics"},e}return Object(ye.a)(i,[{key:"getFlagTexture",value:function(){var e,t="flagGreen";return(null===(e=this.faction)||void 0===e?void 0:e.includes(A.enemyFactionName))&&(t=this.enemyFlagTextureMap[this.faction.at(-1)]||"flagRed"),t}},{key:"generateFeatureColor",value:function(){var e=et()("#".concat(this.fillColor.replace("0x",""))).tetrad().map((function(e){return e.toHexString()})),t=A.chance.pick([e[1],e[2],e[3]]),i=V.a.Display.Color.ValueToColor(t);"ice"===this.climate&&(i=V.a.Display.Color.ValueToColor("#ffffff"));var n=i,s=n.alpha,a=n.blue,o=n.green,c=n.red;return V.a.Display.Color.RGBToString(c,o,a,s).replace("#","0x")}},{key:"deselect",value:function(){Object(Ye.a)(Object(Je.a)(i.prototype),"deselect",this).call(this)}},{key:"destroy",value:function(){this.selectionGraphics.destroy(),this.planetOverlay.destroy(),this.planetFeature.destroy(),this.gradientArc.image.destroy(),Object(Ye.a)(Object(Je.a)(i.prototype),"destroy",this).call(this)}},{key:"update",value:function(){Object(Ye.a)(Object(Je.a)(i.prototype),"update",this).call(this),this.selectionGraphics&&(this.selectionGraphics.alpha=this.selected&&(this.discovered||O)?.8:0),this.planetOverlay.setVisible(this.discovered||O),this.gradientArc.image.setVisible(this.discovered||O),this.flag.setVisible(this.colonized&&(this.discovered||O)),this.flag.setTexture(this.getFlagTexture()),this.resourcesSprite.setVisible(this.isMiningResources&&this.faction===A.userFactionName&&this.colonized&&this.discovered),this.homeSprite&&this.homeSprite.setVisible(this.isHomePlanet),this.planetFeature.setVisible(this.discovered||O),this.planetFeature.setTint(this.selected&&(this.discovered||O)?2236962:this.featureColor)}}]),i}(qe),it=function(e){Object(Ae.a)(i,e);var t=Object(ve.a)(i);function i(e){var n,s;Object(fe.a)(this,i);var a=(n={},Object(Oe.a)(n,12,{colors:["0xff9c1b","0xff5e26"],scale:.15}),Object(Oe.a)(n,15,{colors:["0xffcc31","0xffef38"],scale:.2}),Object(Oe.a)(n,20,{colors:["0xfff95c","0x65d5ff"],scale:.3}),n);e.type="star";var o=A.chance.pick([12,15,20]);return e.diameter=e.diameter||o,e.fillColor=e.fillColor||A.chance.pick(a[o].colors),(s=t.call(this,e)).starImage=A.scene.add.image(s.x,s.y,"starEntity"),s.starImage.setScale(a[s.diameter].scale),s.starImage.setDepth(3),s.starImage[A.namespace]={type:"star image"},s.starImage.setTint(s.fillColor),s}return Object(ye.a)(i,[{key:"destroy",value:function(){this.starImage.destroy(),Object(Ye.a)(Object(Je.a)(i.prototype),"destroy",this).call(this)}},{key:"update",value:function(){Object(Ye.a)(Object(Je.a)(i.prototype),"update",this).call(this),this.starImage.setVisible(this.discovered||O),this.starImage.setTint(this.selected&&(this.discovered||O)?16777215:this.fillColor)}}]),i}(qe),nt=function(){return new Promise((function(e,t){A.gameStats.resources=1e3;var i=new tt({faction:A.userFactionName,colonized:!0,discovered:!0,isHomePlanet:!0,x:200,y:500}),n=new tt({faction:A.enemyFactionName,colonized:!0,discovered:!0,x:200,y:200});new Ke({faction:A.enemyFactionName,orbitingEntity:n}),new Ke({faction:A.enemyFactionName,x:330,y:200});var s=new tt({faction:A.enemyFactionName,colonized:!0,discovered:!0,x:500,y:200});new Ke({faction:A.enemyFactionName,orbitingEntity:s}),new Le({faction:A.enemyFactionName,orbitingEntity:n}),new Ze({x:350,y:700});for(var a=0;a<58;a+=1);return e({planet:i})}))},st=function(){return new Promise((function(e,t){var i;return A.scene.input.on("pointerdown",(function(){var e=A.scene.input.activePointer,t=e.worldX,n=e.worldY;(i=new Ve({alpha:.6,color:"cccccc",duration:1e3,radius:8,lineWidth:16,x:t,y:n})).promise.then((function(){console.log("long press event")})).catch((function(){})),i.graphics.alpha=0,setTimeout((function(){A.scene.tweens.add({targets:i.graphics,alpha:1,ease:"Linear",duration:300})}),100)})),A.scene.input.on("pointerup",(function(e){e.x,e.y;i&&i.remove()})),e()}))},at=function(){return new Promise((function(e,t){A.gameStats.resources=1e3;var i=A.scene.cameras.main;i.setViewport(0,0,3*window.screen.width,3*window.screen.height),i.setZoom(2),i.centerOn(200,200);var n=function(e,t,i,n){var s=20,a=n+12;A.scene.add.text(s,n,e,{fontFamily:"Roboto, sans-serif",fontSize:"10px",color:"#fff"});for(var o=t[0];o<t[1];o+=1){var c=et()("hsl("+o+", 60%, 50%)").brighten(10).toHex(),r=A.scene.add.graphics({fillStyle:{color:"0x".concat(c)}}),l=new V.a.Geom.Rectangle(s,a,3,4);r.fillRectShape(l),r.setInteractive(),s+=3}};n("cold",[150,240],0,30),n("gas",[0,330],0,50),n("hot",[0,40],0,70),n("ice",[210,250],0,90),n("moderate",[90,150],0,110),n("warm",[40,60],0,130);for(var s={},a=90,o=80,c=function(e){A.scene.add.text(a-60,o-20,e.climate,{fontFamily:"Roboto, sans-serif",fontSize:"10px",color:"#fff"});var t=function(e,t,i){var n=A.scene.add.graphics({fillStyle:{color:i}}),s=new V.a.Geom.Rectangle(e,t,10,10);n.fillRectShape(s)};t(a-60,o-20+14,e.fillColorLight),t(a-60,o-20+24,e.fillColor),t(a-60,o-20+34,e.fillColorDark)},r=0;r<6;r+=1){o+=110;var l="planet1".concat(r);s[l]=new tt({faction:A.userFactionName,discovered:!0,x:a,y:o}),c(s[l])}o=80;for(var d=0;d<6;d+=1){a=210,o+=110;var h="planet2".concat(d);s[h]=new tt({faction:A.userFactionName,discovered:!0,x:a,y:o}),c(s[h])}o=80;for(var u=0;u<6;u+=1)a=310,o+=110,s["star".concat(u)]=new it({discovered:!0,x:a,y:o});return e()}))},ot=function(){return new Promise((function(e,t){A.gameStats.resources=1e3,A.difficultyLevels.difficulty2.planetColonizeTime=200,A.difficultyLevels.difficulty2.shipBuildTime=200,A.difficultyLevels.difficulty2.userShipSpeed=1,new it({x:100,y:100});var i=new tt({faction:A.userFactionName,colonized:!0,discovered:!0,isHomePlanet:!0,isMiningResources:!0,x:100,y:300});return new tt({faction:A.userFactionName,colonized:!0,x:100,y:500}),new tt({faction:null,discovered:!0,x:250,y:500}),new Ze({x:250,y:100}),new Ze({x:250,y:200}),new Ke({faction:A.userFactionName,x:250,y:300}),e({planet:i})}))},ct=function(){return new Promise((function(e,t){for(var i=100,n=100,s=0;s<8;s+=1)new Ke({faction:A.userFactionName,x:50,y:i}),i+=50;for(var a=0;a<8;a+=1)new Ke({faction:A.userFactionName,x:100,y:n}),n+=50;var o,c=A.scene.add.graphics({lineStyle:{width:2,color:16776960}}),r=!1,l=0,d=0;return A.scene.input.on("pointerdown",(function(e){A.isSelectingShips&&(l=e.worldX,d=e.worldY,r=!0)})),A.scene.input.on("pointerup",(function(){c.clear(),Vt(!1),r=!1})),A.scene.input.on("pointermove",(function(e){if(r){var t,i,n=e.worldX-l,s=e.worldY-d,a=Math.abs(n),h=Math.abs(s);n<0&&(t=e.worldX,i=e.worldY,s>0&&(i=d)),n>0&&(t=l,i=d,s<0&&(i=e.worldY)),o=new V.a.Geom.Rectangle(t,i,a,h),c.clear(),c.strokeRectShape(o),Object.keys(A.ships).forEach((function(e){var t=A.ships[e];if(t.faction!==A.enemyFactionName){var i=t.formationRadius,n=new V.a.Geom.Rectangle(t.x-i/2,t.y-i/2,i,i);V.a.Geom.Intersects.GetRectangleIntersection(o,n).width?(A.selectedShips[e]=t.name,t.selected=!0):(delete A.selectedShips[e],t.selected=!1)}}))}})),e({planet:{x:100,y:100}})}))},rt=function(){return new Promise((function(e,t){A.gameStats.resources=1e3;var i=new tt({faction:A.userFactionName,colonized:!0,discovered:!0,isHomePlanet:!0,isMiningResources:!0,x:200,y:200});new Ke({faction:A.userFactionName,orbitingEntity:i});var n=new tt({faction:A.enemyFactionName,colonized:!0,discovered:!0,x:200,y:400});return new Ke({faction:A.enemyFactionName,orbitingEntity:n}),e({planet:i})}))},lt=function(){return new Promise((function(e,t){Lt(!1);var i=A.scene.cameras.main;i.setViewport(0,0,3*window.screen.width,3*window.screen.height),i.setZoom(2),i.centerOn(200,200);var n=function e(t){var i=t.key,n=t.x,s=t.y;Object(fe.a)(this,e),this.button=A.scene.add.text(n+4,s+4,i,{fill:"#fff"}),this.button.setInteractive(),this.rect=new V.a.Geom.Rectangle(n,s,300,30),this.graphics=A.scene.add.graphics({lineStyle:{width:2,color:16777215}}),this.graphics.strokeRectShape(this.rect),this.button.on("pointerdown",(function(){ce.play(i)}))};console.log("Config.scene.cache.audio.entries.entries",A.scene.cache.audio.entries.entries);var s=10;return Object.keys(A.scene.cache.audio.entries.entries).forEach((function(e){new n({key:e,x:10,y:s}),s+=30})),e()}))},dt=function(e){return new Promise((function(t,i){var n=100,s=n,a=document.createElement("canvas");a.width=n,a.height=n,a.id="entity-preview-".concat(e.id);var o=a.getContext("2d");if(document.querySelector("#".concat(A.entityPreviewHolderId)).appendChild(a),"star"===e.type){var c=new Image;return c.src="img/star-entity.png",c.addEventListener("load",(function(){var t=document.createElement("canvas"),i=t.getContext("2d");t.width=n,t.height=s,i.drawImage(c,0,0,n,s),i.globalCompositeOperation="source-atop",i.fillStyle=e.fillColor.replace("0x","#"),i.fillRect(0,0,n,s),i.globalCompositeOperation="source-over",o.drawImage(c,0,0,n,s),o.globalCompositeOperation="multiply",o.drawImage(t,0,0,n,s),o.globalCompositeOperation="source-over"})),t()}var r=e.fillColorLight.replace("0x","#"),l=e.fillColor.replace("0x",""),d=e.fillColorDark.replace("0x","#"),h=o.createRadialGradient(50,50,2,30,30,90);h.addColorStop(0,r),l&&h.addColorStop(.5,"#".concat(l)),h.addColorStop(.9,d),o.fillStyle=h,o.arc(50,50,34,0,2*Math.PI),o.fill();var u=8,m=u,g=68;return new Promise((function(t){var i=new Image;i.src="img/planet-feature".concat(e.featureId,".png"),i.addEventListener("load",(function(){var a=document.createElement("canvas");a.width=n,a.height=n;var c=a.getContext("2d");return c.drawImage(i,u,m,g,g),c.globalCompositeOperation="source-atop",c.fillStyle=e.featureColor.replace("0x","#"),c.fillRect(u,m,g,g),o.drawImage(a,u,m,n,s),o.globalCompositeOperation="source-over",t()}),!1)})).then((function(){return new Promise((function(e){m=u*=2;var t=new Image;t.src="img/planet-overlay.png",t.addEventListener("load",(function(){return o.drawImage(t,u,m,g,g),e()}))}))})).then((function(){return t()}))}))},ht=function(e){return new Promise((function(t){document.querySelector("#".concat(A.entityPreviewHolderId)).innerHTML="";var i=[];return Object.keys(e).forEach((function(t){i.push(dt(e[t]))})),Promise.all(i).then((function(){return t()}))}))},ut=function(){var e,t=A.boardSizes[A.boardSize],i=A.boardPadding,n=t.boardWidth/6,s=t.boardHeight/6,a=[{x:i,y:i},{x:t.boardWidth-n-i,y:i},{x:i,y:t.boardHeight-s-i},{x:t.boardWidth-n-i,y:t.boardHeight-s-i}];O&&a.forEach((function(e,t){var i=e.x,o=e.y,c=new V.a.Geom.Rectangle(i,o,n,s),r=A.scene.add.graphics({lineStyle:{width:2,color:16777215}}),l=A.scene.add.text(i+5,o+5,"".concat(t," - x:").concat(i," y:").concat(o),{fontFamily:"Roboto, sans-serif",fontSize:"17px",color:"#ffffff"});r.strokeRectShape(c),r[A.namespace]={type:"zone"},a[t].group=A.scene.add.group({classType:V.a.GameObjects.Sprite}),a[t].group.addMultiple([r,l])}));var o=V.a.Math.Between(0,a.length-1),c=a[o];c.isUser=!0;var r=a.find((function(e){return!e.isUser})),l=(e={},Object(Oe.a)(e,A.userFactionName,{x:V.a.Math.Between(c.x,c.x+n),y:V.a.Math.Between(c.y,c.y+s)}),Object(Oe.a)(e,A.enemyFactionName,{x:V.a.Math.Between(r.x,r.x+n),y:V.a.Math.Between(r.y,r.y+s)}),e);return A.enemyFactions.length&&(delete l[A.enemyFactionName],A.isDemo&&(l={}),A.enemyFactions.forEach((function(e,t){var i=a[t];l[e]={x:V.a.Math.Between(i.x,i.x+n),y:V.a.Math.Between(i.y,i.y+s)}}))),l},mt=function(e){var t=e.nonPlanetCount,i=e.startZones;return new Promise((function(e,n){var s={},a=function(e){Object(Ae.a)(i,e);var t=Object(ve.a)(i);function i(e,n){var a;Object(fe.a)(this,i),a=t.call(this,e,n);var o=n.faction,c=n.id,r=n.startCoords,l=r?r.x:a.randomCoords().x,d=r?r.y:a.randomCoords().y;return a.id=c,s[c]=Object(ke.a)(a),a.faction=o||!1,a.circle=new V.a.Geom.Circle(l,d,A.entityPlaceholderRadius),O&&(a.fillStyle(a.faction?"0xFF0000":"0xffffff"),a.fillCircleShape(a.circle),a.setDepth(1),a[A.namespace]={type:"placeholder"},a.text=A.scene.add.text(l,d,"".concat(a.id," x").concat(l," y").concat(d),{fontFamily:"Roboto, sans-serif",fontSize:"12px",color:a.faction?"#FFFFFF":"#FF0000"}),a.text.setDepth(2),a.text[A.namespace]={type:"placeholder text"},e.add.existing(a.text)),e.add.existing(Object(ke.a)(a)),a}return Object(ye.a)(i,[{key:"reposition",value:function(){var e=this.randomCoords().x,t=this.randomCoords().y;this.circle.x=e,this.circle.y=t,this.clear(),O&&(this.fillStyle(this.faction?"0xFF0000":"0xffffff"),this.fillCircleShape(this.circle),this.text.setText("".concat(this.id," x").concat(e," y").concat(t)),this.text.x=this.circle.x,this.text.y=this.circle.y)}},{key:"randomCoords",value:function(){return{x:V.a.Math.Between(A.boardPadding,A.boardSizes[A.boardSize].boardWidth-A.boardPadding),y:V.a.Math.Between(A.boardPadding,A.boardSizes[A.boardSize].boardHeight-A.boardPadding)}}}]),i}(V.a.GameObjects.Graphics),o={},c=A.boardSizes[A.boardSize].planetCount+t,r=Object.keys(i).length;A.isDemo?Object.keys(i).forEach((function(e,t){new a(A.scene,{faction:e,id:t,startCoords:i[e]})})):(new a(A.scene,{faction:A.userFactionName,id:0,startCoords:i[A.userFactionName]}),new a(A.scene,{faction:A.enemyFactionName,id:1,startCoords:i[A.enemyFactionName]}));for(var l=r;l<c;l+=1)new a(A.scene,{id:l});var d=A.entityPlaceholderCollisonAttempts,h=window.setInterval((function(){if(Object.keys(s).forEach((function(e){var t=s[e];Object.keys(s).forEach((function(e){var i=s[e];t.id!==i.id&&V.a.Geom.Intersects.CircleToCircle(t.circle,i.circle)&&!t.faction&&(t.reposition(),o[t.id]=!0)}))})),O&&console.log("placeholder collisions attempts",Object.keys(o).length,d),!d||!Object.keys(o).length){clearInterval(h);var t=Object.keys(s).map((function(e){var t=s[e],i=t.circle;return{faction:t.faction,id:t.id,x:i.x,y:i.y}}));return Object.keys(s).forEach((function(e){s[e].text&&s[e].text.destroy(),s[e].destroy(),delete s[e]})),e(t)}d-=1,o={}}),0)}))},gt=function(){return new Promise((function(e,t){var i=k(),n=A.difficultyLevels[A.difficulty],s=A.boardSizes[A.boardSize],a=s.artifactCount,o=s.starCountMax,c=s.starCountMin;if(A.gameStats.resources=n.resources,i&&(i.careerStats&&(A.careerStats=i.careerStats),!i.isResetting))return e(function(e){var t=Object.keys(e.entities).find((function(e){return e.isHomePlanet}));return Object.assign(A,e.config),A.gameStats=e.gameStats,Object.keys(e.artifacts).forEach((function(t){new Ze(Object(oe.a)(Object(oe.a)({},e.artifacts[t]),{},{id:t}))})),Object.keys(e.entities).forEach((function(i){var n=e.entities[i],s={};if(Object.keys(e.artifacts).forEach((function(t){e.artifacts[t].orbitingEntityId===i&&(s[t]={id:t})})),n.orbitingTowables=s,"planet"===n.type){var a=new tt(Object(oe.a)(Object(oe.a)({},n),{},{id:i}));t||a.faction!==A.userFactionName||(t=a)}"star"===n.type&&new it(Object(oe.a)({},n))})),Object.keys(e.ships).forEach((function(t){var i,n=e.ships[t];Object.keys(A.entities).forEach((function(e){var n=A.entities[e].orbitingShips;Object.keys(n).forEach((function(n){t===n&&(i=A.entities[e])}))})),"satellite"!==n.type?new Ke(Object(oe.a)(Object(oe.a)({},n),{},{orbitingEntity:i})):new Le(Object(oe.a)(Object(oe.a)({},n),{},{orbitingEntity:i}))})),{planet:t}}(i));var r=A.chance.integer({min:c,max:o})+a,l=ut();return mt({nonPlanetCount:r,startZones:l}).then((function(t){var i=0,s=new tt({faction:A.userFactionName,colonized:!0,discovered:!0,isHomePlanet:!0,isMiningResources:!0,x:t[0].x,y:t[0].y});t[0].assigned=!0;for(var o=0;o<n.userShipCount;o+=1)new Ke({faction:A.userFactionName,orbitingEntity:s,x:s.x,y:s.y});var c=new tt({faction:A.enemyFactionName,colonized:!0,isEnemyHomePlanet:!0,x:t[1].x,y:t[1].y});t[1].assigned=!0;for(var r=0;r<n.enemyShipCount;r+=1)new Ke({faction:A.enemyFactionName,orbitingEntity:c,x:c.x,y:c.y});for(var l=i=2;l<a+i;l+=1)new Ze({x:t[l].x,y:t[l].y}),t[l].assigned=!0;return i+=a,t.forEach((function(e,i){e.assigned||(new tt({x:t[i].x,y:t[i].y}),t[i].assigned=!0)})),e({planet:s})}))}))},pt=function(){return new Promise((function(e,t){var i=A.difficultyLevels[A.difficulty];A.gameStats.resources=i.resources,A.boardSize="size1",A.difficulty="difficulty3",A.enemyFactions=["opfor0","opfor1","opfor2","opfor3"];var n=ut();return mt({nonPlanetCount:0,startZones:n}).then((function(t){var i;return A.enemyFactions.forEach((function(e,n){!function(e,n){var s=new tt({faction:e,colonized:!0,isEnemyHomePlanet:!0,x:t[n].x,y:t[n].y,discovered:!0});0===n&&(i=s);for(var a=0;a<1;a+=1)new Ke({faction:e,orbitingEntity:s,x:s.x,y:s.y});new Le({faction:e,orbitingEntity:s,x:s.x,y:s.y})}(e,n),t[n].assigned=!0})),new Ke({faction:"opfor1",orbitingEntity:i,x:i.x,y:i.y}),new Ke({faction:"opfor2",orbitingEntity:i,x:i.x,y:i.y}),new Ke({faction:"opfor3",orbitingEntity:i,x:i.x,y:i.y}),t.forEach((function(e,i){e.assigned||(new tt({x:t[i].x,y:t[i].y,discovered:!0}),t[i].assigned=!0)})),e()}))}))},bt=function(e){var t=e.isDemo;return new Promise((function(e){if(t)return e(pt());var i={dev1:nt,dev2:st,devArtifacts:ot,devEntities:at,devSelectBox:ct,devSleep:rt,devSound:lt},n=Object.keys(i).find((function(e){return new RegExp(e).test(window.location.href)}));return e(i[n]?i[n]():gt())}))};var ft=function(e,t,i){e.scene.input.on("pointerdown",(function(){var t=e.scene.input.activePointer,i=t.worldX,n=t.worldY;for(var s in e.entities)e.entities[s].handlePointerdown(i,n);!function(e,t){var i=A.scene.matter.getMatterBodies().filter((function(e){var t=e[A.namespace];return!!t&&!!t.isTowableBody})),n=A.scene.matter.intersectRect(e-14,t-14,28,28,!1,i),s=A.scene.matter.intersectRect(e-.5,t-.5,1,1,!1,i),a=n.length?n:s;if(a.length){var o=a[0][A.namespace].towableId,c=A.towables[o];if(c.isDiscovered&&n.length&&!s.length)return;if(O&&console.log(c),c.towShipId&&(A.ships[c.towShipId].selected=!1,delete A.selectedShips[c.towShipId]),Object.keys(A.selectedShips).length)return;if(c.isSelected)return c.isSelected=!1,A.selectedTowableId=null,void di(null,!0);A.selectedTowableId=o,c.isSelected=!0,di(c)}else A.selectedTowableId&&(A.towables[A.selectedTowableId].isSelected=!1,A.selectedTowableId=null,di(null,!0))}(i,n),Ne(i,n)})),function(e){var t,i=e.scene.add.graphics({lineStyle:{width:2,color:6706135}}),n=!1,s=0,a=0;i[e.namespace]={type:"ship select box"},i.setDepth(7),e.scene.input.on("pointerdown",(function(t){e.isSelectingShips&&(s=t.worldX,a=t.worldY,n=!0)})),e.scene.input.on("pointerup",(function(){i.clear(),Vt(!1),n=!1})),e.scene.input.on("pointermove",(function(o){if(n){var c,r,l=o.worldX-s,d=o.worldY-a,h=Math.abs(l),u=Math.abs(d);l<0&&(c=o.worldX,r=o.worldY,d>0&&(r=a)),l>0&&(c=s,r=a,d<0&&(r=o.worldY)),t=new V.a.Geom.Rectangle(c,r,h,u),i.clear(),i.strokeRectShape(t),Object.keys(e.ships).forEach((function(i){var n=e.ships[i];if(!n.faction.includes(e.enemyFactionName)){var s=n.formationRadius,a=new V.a.Geom.Rectangle(n.x-s/2,n.y-s/2,s,s);V.a.Geom.Intersects.GetRectangleIntersection(t,a).width?(e.selectedShips[i]=n.name,n.selected=!0,Pt(n.id)):(delete e.selectedShips[i],n.selected=!1)}}))}}))}(e);var n,s=e.scene.cameras.main,a=e.boardPadding/2;e.scene.plugins.get("rexpinchplugin").add(e.scene).on("drag1",(function(n){if(Xt(!1),!e.isSelectingShips){var o=n.drag1Vector;s.scrollX-=o.x/s.zoom,s.scrollY-=o.y/s.zoom,s.worldView.x<=0-a||s.worldView.y<=0-a||s.worldView.x+s.worldView.width>=s._bounds.width-2*e.boardPadding+a||s.worldView.y+s.worldView.height>=s._bounds.height-2*e.boardPadding+a||(t.blitter.x-=o.x/s.zoom/4,t.blitter.y-=o.y/s.zoom/4,i.blitter.x+=o.x/s.zoom/4,i.blitter.y+=o.y/s.zoom/4)}})).on("pinch",(function(t){var i=t.scaleFactor;if(n){if(n>s.zoom&&s.zoom<e.zoomMin)return n=e.zoomMin,void s.zoomTo(e.zoomMin,0,"Linear",!0);if(n<s.zoom&&s.zoom>e.zoomMax)return n=e.zoomMax,void s.zoomTo(e.zoomMax,0,"Linear",!0)}n=s.zoom,s.zoomTo(s.zoom*=i,0,"Linear",!0)}),e.scene)},yt=function(){function e(){Object(fe.a)(this,e),this.active=!1}return Object(ye.a)(e,[{key:"hide",value:function(){A.scene.cameras.remove(this.camera),this.active=!1}},{key:"show",value:function(){var e=this,t=A.scene.cameras.main,i=new V.a.Geom.Rectangle(0,60,300,300),n={size1:{coords:3.8,zoom:.27,origin:.37},size2:{coords:4.3,zoom:.23,origin:.3},size3:{coords:4.8,zoom:.2,origin:.25}};this.active=!0,this.camera=A.scene.cameras.add(i.x,i.y,i.width,i.height).setZoom(n[A.boardSize].zoom).setName("mini").setOrigin(n[A.boardSize].origin),this.camera.setBackgroundColor(1838906),this.camera.scrollX=i.width,this.camera.scrollY=i.height,A.scene.input.on("pointerdown",(function(s){if(e.active){e.hide(),Kt(!1);var a=new V.a.Geom.Rectangle(s.x,s.y,1,1),o=V.a.Geom.Intersects.GetRectangleIntersection(i,a);if(o.width){o.x-=i.x,o.y-=i.y;var c={x:o.x*n[A.boardSize].coords,y:o.y*n[A.boardSize].coords};t.pan(c.x,c.y,300,"Linear",!0),t.zoomTo(A.zoomDefault,10)}}}))}}]),e}();function At(){Object.keys(A.ships).forEach((function(e){var t=A.ships[e];Object.keys(A.entities).filter((function(e){var t=A.entities[e];return t.faction===A.userFactionName&&!!t.sensorCircle})).forEach((function(e){if(t.faction!==A.userFactionName){var i=A.entities[e],n=V.a.Geom.Intersects.CircleToCircle(t.shipCircle,i.sensorCircle);t.isDetected||(t.isDetected=n)}})),Object.keys(A.ships).forEach((function(e){var i=A.ships[e];if(t.faction!==i.faction){var n=V.a.Geom.Intersects.CircleToCircle(t.sensorCircle,i.shipCircle),s=V.a.Geom.Intersects.CircleToCircle(t.proximityCircle,i.shipCircle);if(i.isDetected||(i.isDetected=n,n&&!A.soundTriggers.shipSensorWarnSound&&(A.soundTriggers.shipSensorWarnSound=!0,ce.shipSensor())),n&&s&&(t.sprite.setAwake(),t.fighting=!0,t.weaponTimer.paused=!1,Object.keys(t.weaponTargets).length||(t.weaponTargets[i.id]={x:A.ships[i.id].x,y:A.ships[i.id].y}),t.faction.includes(A.enemyFactionName)&&"satellite"!==t.type&&!t.orbitingEntity&&!i.orbitingEntity&&i.faction===A.userFactionName&&(!t.following||t.following===i.id))){var a=t.proximityCircle.radius/2;if(i.x<t.x-a||i.x>t.x+a||i.y<t.y-a||i.y>t.y+a){var o=i.x,c=i.y;i.x<t.x&&(o+=3*t.diameter),i.x>t.x&&(o-=3*t.diameter),i.y<t.y&&(c+=3*t.diameter),i.y>t.y&&(c-=3*t.diameter),t.following||(t.following=i.id),ue({ship:t,x:o,y:c})}}}}))}));var e=A.scene.matter.getMatterBodies(),t=e.filter((function(e){var t;return null===(t=e[A.namespace])||void 0===t?void 0:t.isOrbitBody})),i=e.filter((function(e){var t;return null===(t=e[A.namespace])||void 0===t?void 0:t.isMoveMarker})),n=e.filter((function(e){var t;return null===(t=e[A.namespace])||void 0===t?void 0:t.isShipBody})),s=e.filter((function(e){var t;return null===(t=e[A.namespace])||void 0===t?void 0:t.isTowableBody}));A.scene.matter.overlap(t,i,(function(e,t){var i=e[A.namespace].entityId,n=A.entities[i],s=t[A.namespace].shipId,a=A.ships[s],o=a.sprite.body;A.scene.matter.overlap(e,o,(function(e,t){a.orbitingEntity=n,a.graphics&&a.graphics.clear(),a.moveMarker&&a.moveMarker.destroy(),a.moving=!1,"planet"===n.type&&n.faction===A.userFactionName?Object.keys(a.towedTowables).forEach((function(e){Xe(n,e)})):a.detachTowables()}))})),A.scene.matter.overlap(n,s,(function(e,t){var i=t[A.namespace].towableId,n=e[A.namespace].shipId,s=A.towables[i],a=A.ships[n];Object.keys(a.towedTowables).length===A.shipMaxTowables||a.faction.includes(A.enemyFactionName)||s.addConstraint(a)}))}var vt=i(34),xt=i.n(vt),jt=function(e){var t=e.positive,i=e.amount;return Object(x.jsxs)("span",{className:"toolbar__menu-button-cost",children:[t?"+":"-",Object(x.jsx)("img",{alt:"resources",className:"toolbar__menu-button-cost-icon",src:"".concat("/ge","/img/resources-green.png")}),i]})},Ot=function(e){var t=e.amount,i=e.className,n=e.disabled,s=e.hidden,a=e.iconClassName,o=e.id,c=e.image,r=e.label,l=e.onClick,d=e.positive;return s?null:Object(x.jsxs)("button",{type:"button","data-label":r,disabled:n,className:xt()("toolbar__menu-item",i,{"toolbar__menu-item--disabled":n}),onClick:l,children:[Object(x.jsx)("img",{className:xt()("toolbar__icon",a),src:c,alt:o}),t?Object(x.jsx)(jt,{amount:t,positive:d}):null]})},wt=function(e){var t=e.items;return Object(x.jsx)("div",{className:"toolbar__menu",children:t.map((function(e,t){return Object(x.jsx)(Ot,Object(oe.a)({},e),"toolbar-menu-item-".concat(t))}))})},St=function(e,t){if(e){var i=e.x,n=e.y,s=A.difficultyLevels[A.difficulty],a=s.shipResourceCost,o=s.shipBuildTime;t&&(a=s.satelliteResourceCost,o=s.satelliteBuildTime,e.isBuildingSatellite=!0),e.statusLabel.setText("Building"),e.isBuildingShip=!0,A.gameStats.resources-=a,(new je).resourceAnim({x:i,y:n,num:a,positive:!1}),ci(),new Ve({color:A.colorGreen,duration:o,radius:e.diameter+2,reverse:!0,x:i,y:n}).promise.then((function(){A.gameStats.shipsBuilt+=1,e.isBuildingShip=!1,t&&(e.isBuildingSatellite=!1),e.statusLabel.setText("");var s={faction:A.userFactionName,orbitingEntity:e,x:i,y:n},a=t?new Le(s):new Ke(s);A.ships[a.id]=a,Ft({html:'<span style="color: #'.concat(A.colorGreen,'">').concat(e.name,"</span> has built a ").concat(a.type),coords:{x:i,y:n}}),ce.constructionComplete(),ci()}))}},Ct=function(e){if(e){var t=e.x,i=e.y,n=A.difficultyLevels[A.difficulty],s=e.faction===A.enemyFactionName;e.isColonizing=!0,ci();var a=new Ve({color:A.colorGreen,duration:n.planetColonizeTime,radius:e.diameter+2,reverse:!0,x:t,y:i});e.statusLabel.setText(s?"Conquering":"Colonizing"),a.promise.then((function(){e.statusLabel.setText(""),A.gameStats.resources+=n.planetResourceBonus,s?(A.gameStats.planetsConquered+=1,A.gameStats.score+=n.planetConquerPoints,(new je).scoreAnim({x:t,y:i,num:n.planetConquerPoints,positive:!0})):(A.gameStats.planetsColonized+=1,A.gameStats.score+=n.planetColonizePoints,(new je).scoreAnim({x:t,y:i,num:n.planetColonizePoints,positive:!0})),setTimeout((function(){(new je).resourceAnim({x:t,y:i,num:n.planetResourceBonus,positive:!0})}),A.pointAnimDelay);var a=A.userFactionName;O&&(a=e.faction===A.userFactionName?A.enemyFactionName:A.userFactionName),e.faction=a,e.colonized=!0,e.isColonizing=!1,Ft({html:'The planet <span style="color: #'.concat(A.colorGreen,'">').concat(e.name,"</span> has been ").concat(s?"conquered":"colonized"),coords:{x:t,y:i}}),ce.colonize(),B("".concat(e.name," colonize")),Te("".concat(e.name," colonize")),setTimeout((function(){ci()}),100)}))}},kt=function(){var e=A.difficultyLevels[A.difficulty],t=[];Object.keys(A.selectedShips).forEach((function(i){var n=A.ships[i],s=n.name,a=n.type,o=n.x,c=n.y;t.push(s),(new je).disband({scale:n.scale,texture:n.texture,x:o,y:c});var r="satellite"===a?e.satelliteResourceDisbandSalvage:e.shipResourceDisbandSalvage;A.gameStats.resources+=r,ce.disband(),(new je).resourceAnim({x:o,y:c,num:r,positive:!0})}));var i=t[0],n='The ship <span style="color: #'.concat(A.colorGreen,'">').concat(i,"</span> has been dismantled");Object.keys(A.selectedShips).length>1&&(i=t.join(", "),n='The ships <span style="color: #'.concat(A.colorGreen,'">').concat(i,"</span> have been dismantled")),Ft({html:n}),Object.keys(A.selectedShips).forEach((function(e){A.ships[e].destroy()})),ci(),B("handleDisbandClick")},Bt=function(e){var t,i,n=e.entity,s=e.ship,a=e.selectedShipIds,o=e.setModalContentType,c=e.toggleGameOverOverlay,r=e.toggleModal,l=e.towable,d=A.scene.cameras.main;n&&(i="entity",t=n,n.deselect()),s&&1===Object.keys(a).length&&(i="ship",t=s,me()),l&&(i="towable",t=l,l.deselect()),t&&(d.pan(t.x,t.y,300,"Linear",!0),d.zoomTo(A.zoomDefault,A.zoomDefaultTime)),c(!1),i&&o(i),r()},Rt=function(e){if(e){var t=e.x,i=e.y,n=A.difficultyLevels[A.difficulty];e.isBuildingMine=!0,e.statusLabel.setText("Building"),A.gameStats.resources-=n.planetMineResourceCost,(new je).resourceAnim({x:t,y:i,num:n.planetMineResourceCost,positive:!1}),ci(),new Ve({color:A.colorGreen,duration:n.planetMineBuildTime,radius:e.diameter+2,reverse:!0,x:t,y:i}).promise.then((function(){A.gameStats.score+=n.planetMineBuildPoints,(new je).scoreAnim({x:t,y:i,num:n.planetMineBuildPoints,positive:!0}),e.statusLabel.setText(""),e.isMiningResources=!0,e.isBuildingMine=!1,Ft({html:'The planet <span style="color: #'.concat(A.colorGreen,'">').concat(e.name,"</span> is now producing resources"),coords:{x:t,y:i}}),ce.mine(),ci(),B("handleMineClick")}))}},Mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAA1VBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////CNNypAAAARnRSTlMADA4PEBESExUxMzQ2Nzg5Ojw9R0pLTU5PUFFWWVpbXGBhYnBzdHd5en2BhIiur7GztLa4uby/6+zt7u/w8fLz9ff4+fr7quzaOwAAAAFiS0dERhe6+e0AAAE6SURBVHja7dhXVgJBEEDRVswg5qyIkQEMgAlGMAxY+1+SC4CWno+qPnLe20DdjwnV7RwR0T+s2PmQsT6fylbz9zKZ2OjYZn6hJ576yyaAini7MAEkfkDDBFD3A5oAAAAAAACACeDKD7g1AZT8gC2blejeN79ttBPOPUye3yqYrcXl67uxbjY5LhAR0ey31u77dxEZdErK83cz+bvhoe7VUFem9b6kCTiT6VU1AbUAgOodUT0A0AQAAMBMA5LYgEpswEIaGeAOhpEBbv35Ky6AWzIAAAAAAAAAAAAAAAAAiA5YfewGHNGl1yrqzN/5lsCyfY35828SXKpxa30qOaoqAGp5AA3bh9/mdQAAAEB0QBL7Q3SeB3CpAFhMw+cPVjR+h0ej0Pk/JzoLwcZLFrQNvG47IiIiIqIc/QLbavKTEmdQMgAAAABJRU5ErkJggg==",Et=(i(123),function(){var e=Object(n.useContext)(ai),t=e.hamburgerIsOpen,i=e.isGameLoading,s=e.isGameOver,a=e.isModalOpen,o=e.isMuted,c=e.isPaused,d=e.isSelectingShips,h=e.lastSelectedShipId,u=e.minimapOpen,m=e.modalContentType,g=e.selectedEntityId,p=e.selectedShipIds,b=e.selectedTowableId,f=e.setHamburgerIsOpen,y=e.setIsMuted,v=e.setMinimapOpen,j=e.setModalContentType,O=e.toggleGameOverOverlay,w=e.toggleModal,S=e.togglePaused,C=Object(n.useState)(0),k=Object(r.a)(C,2),B=k[0],R=k[1],M=Object(l.e)(),E=A.difficultyLevels[A.difficulty],G=A.entities[g],F=A.ships[h],D=A.towables[b],N=Object.keys(A.ships).filter((function(e){var t=A.ships[e];return t.faction===A.userFactionName&&"satellite"!==t.type})),I=Object.keys(p).length>0,z=!!(null===D||void 0===D?void 0:D.isSelected),H=!!(null===G||void 0===G?void 0:G.selected),Q=A.scene.cameras,T=null===Q||void 0===Q?void 0:Q.main;Object(n.useEffect)((function(){if(G){var e=Object.keys(G.orbitingShips).filter((function(e){return"satellite"===G.orbitingShips[e].type})).length;R(e)}}),[G]);var K=function(e){ce.buttonClick(),Vt(!1),w(!1),f(!1),H&&(G.selected=!1),z&&(D.isSelected=!1)},L=function(){var e;u&&(v(!1),null===A||void 0===A||null===(e=A.minimap)||void 0===e||e.hide())},V=(null===G||void 0===G?void 0:G.colonized)&&(null===G||void 0===G?void 0:G.faction)===A.userFactionName,P=G&&Object.keys(G.orbitingShips).find((function(e){var t=A.ships[e];return"satellite"!==(null===t||void 0===t?void 0:t.type)&&(null===t||void 0===t?void 0:t.faction)===A.userFactionName})),U=G&&Object.keys(G.orbitingShips).find((function(e){var t=A.ships[e];return(null===t||void 0===t?void 0:t.faction)===A.enemyFactionName})),W=(null===G||void 0===G?void 0:G.selected)||F&&1===Object.keys(p).length||(null===D||void 0===D?void 0:D.isSelected),Y=!s&&P&&(null===G||void 0===G?void 0:G.selected)&&"planet"===(null===G||void 0===G?void 0:G.type)&&!V,J=!s&&(null===G||void 0===G?void 0:G.selected)&&"planet"===(null===G||void 0===G?void 0:G.type)&&!(null===G||void 0===G?void 0:G.isMiningResources)&&V,Z=!s&&(null===G||void 0===G?void 0:G.selected)&&(null===G||void 0===G?void 0:G.faction)===A.userFactionName,X=F&&!s&&Object.keys(p).length>0,q=(null===G||void 0===G?void 0:G.isBuildingMine)||(null===G||void 0===G?void 0:G.isBuildingShip)||A.gameStats.resources<E.satelliteResourceCost||B>=A.satelliteMax,_=function(){return Bt({entity:G,selectedShipIds:p,setModalContentType:j,ship:F,toggleGameOverOverlay:O,toggleModal:w,towable:D})};return i||c?null:Object(x.jsxs)("div",{className:"toolbar",children:[I?Object(x.jsx)(wt,{id:"ship",items:[{image:Mt,label:"Details",onClick:function(){K(),_()},hidden:!W,disabled:!1},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEnklEQVR4nO2bXYhWRRzGnzHTNbPNbFmiD0wzSSnoezcKMoKim8QiEvrAiyKJyF1329SbigyKNLwyqKtuCwwqurOgsGUz8k6WyMIgNGXbtYXdbPf9dXHOofX9+J8558x73ovOc/nOzP95npk5M3P+Z16pQoUKFSpU+N/CdYIU6JJ0qaTL4p/OSZp2zs2WraXtHQAsltQn6QFJ90haL+k6SYvqqtYknZQ0LumIpMOSRp1zc+3W2BYAG4H3gFPkxylgP7Ch0368AdwOfArUChivRw04BNzWaX8tAawEDgBzAY0364iPgJ5O+70AwCbg9zYar8dp4OFO+5YkAbuA+RLNJ5gHXu2kcUc05fNiAvgF+BU4VyDOAaD87RzYl0FkDfgWGAD6gUuaxFsG3AsMA0cydsK7ZZvf4SnsPPABsCYHxwbgQ/wfrx3t8NpMWH9sLA3fAOsC8N0K/ObZ2X0hPFpilhM9txZqwG6g/qSXl9N3tgGcAJaH4G0l5q0UAX8DWwPyDWQwn2BvKP56MdfHBluhBjwTkC+PeYBZYHUoHQsFHSyr5wuYT3AwlJZEUC8wYxAeAy4OxDXoafKsUTYD9IbQ4yvq7pJ4EowAD6bUGQihKRF2zCD6PBCHt/kFbb406v0YQpeAa1ME3ReAI7P5uN1DKfWvLqpNwLMGwUkKnsPxX/D2NGm7KNbQCk+l8fscVu4yyg455/CI0RTATkn7PaqOOOcadhnnXE3SF0a71LXJpwPWG2Xfe7RvCmBQks9LzB7n3DtG+ahRdmM2VU1AdLxshZtzxhzynPbDHrFuMdr/nEdfPcGEQZA5NYX/grfbM95VRoyz2R03Elhvfkszxgo28gtiLjXinM/uuJFg1iBoSGwYcYKO/IK4XUasmeyOGwnOGATXeMYY9jQ/lENfrxHvj+yOGwnGDYI7PNq3zXwcv8+IeTytvc82+JNRdmeKuFckWVtYgiHnXN68nrUTWdol+XXAuFHW36ogNv+2R/wh59w+j3qtsMkos7T7AdhiTLFJYFmTNjs9p/2ugtq6gD+N+I8WiZ+QXIGdmd1aV3/E0/xgAG1PGPHngJVFORKirwyio8QJ0JLNO+AHg+Nwcef/kW1LMfR0meZjTdboA2wLwZOQrcA+Ev9VsvnLsV+DJ4AVIbgWkr7habIVgqSoiKb+xylcr4fgqidehb3itt18rOPNFK4JYFUovnryl3KYD/IJm2jkX/PgezEEXysRi4GxDOaDfLAkeuY/8eAbAy4KwWmJWQtMeYiZBJ6keM7wcfw+jk4Ca0P5TBO1Gf+7QKNEW5Z37gBYAjyG/2ybI+epL/foAC9IyvIJakLSZ4pyeGOSTse/zUvqlrRa0kZF9wkfkZRlIdvunHs/Q/0wIDog/eM5Su3AHLC9dON1nbCFYnd88mIK2NxR8wmAddjn8tA4CtzQad8XgGiLfJloNW4XponOAks67bclgB6imyQ+W6UvpoC9wJWd9ucNoBt4nuh6XJ6LlPNEF62eA7rbpbOUC4bxyN2vKIV2k6Q1knoU/WdAkqYlnZF0QtJxSd9J+to5V/zDRoUKFSpUqFChQgv8CyF3TDyZN6X6AAAAAElFTkSuQmCC",label:"Disband",onClick:function(){K(),kt()},amount:"satellite"===(null===F||void 0===F?void 0:F.type)?E.satelliteResourceDisbandSalvage:E.shipResourceDisbandSalvage,positive:!0,hidden:!X,disabled:!1}]}):null,z?Object(x.jsx)(wt,{id:"towable",items:[{id:"details",image:Mt,label:"Details",onClick:function(){K(),_()},hidden:!1,disabled:!1}]}):null,H?Object(x.jsx)(wt,{id:"entity",items:[{image:Mt,label:"Details",onClick:function(){K(),_()},hidden:!1,disabled:!1},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAEzUlEQVR4nO2da2gcZRSGH01v0IhBpaK12njFmnihSkVpFRRFUVHrBUSEgghaaQuKWCwI5ocWQS1V/+gvoX8MWNGKULBivVDFWIy3qnilF5PGWqNNizZ9/XEChslmszPzbfa0ex4YyOzOfN+7++zOnAm7ZyEIgiAIgiAIjniOGr0iKXv/HOB+4BrgAqAf+AB4BXhrEvI1HdWEPAKsrrLvp8B1wED6WM3LeEKeBVbUsH8/cCGwK22s5qWSkLuAdTnGeA+4Ml2k5ubozPopwGM5x7gCWJwmTpAVcj0wr8A4NyfIEjBWSEfBcYpIDCowJbM+o+A408sGqUIrJvxM4DTgZOB4YCbQAhwC9gN/AruBHcDPwDbgxzrmKsssYDl2/t0KdAF9WSH9BQf/vXiuMbQBVwOLgAXY9U9R4buALcBm4E3ghxQBS3IC8CRw76jbLgPuwSrW/5F0k4rxtCRKLCdJWiFps6Thghlq4StJqySdWjJvkWWmpDUT5NuQFYKk9QUeaGeBgNMk3S3p/QLzpWDLyPxTq2RMtayUdLCGTAOVhLRLGsrxwJ7IGa5d0vOS9uWYo57sk7RWliu1iCWSdufIMlhJCJLmq7Yn7Jkc4S6RtDFHuEbwjqRFKiehTdKjkvoKzD+uECTNkjRQZeeHagx4uaRPCoRrJNsk3abaJbRKukPShpLzDmarrNH0AzuxErMS31bZF+BSYC1w8QTbeeQcoBsrodcBHwG/AH9jlwptWAnegVVIC4GpKSauJqQoZwEvY2Xr4c5s7L/ek0b2Sr0sXcB3HBkyGkJKIY8DqxKO15SkEtIKLEs0VlOTSsgc4LhEYzU1qYSkPhc1LameyDGfjgiKEa9sZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQXyiE+GJ7Pb6nPhkMYa2X9gIHsG9wTQOOxfppHdO4aKVYfTgIGcB6BfcAXwDfA79iXRUqMQNox7osLACupXinvMliD3A7sMmrkI+B9cBGrNtaHg4A34ws3cDDmKA7gSXA2elilmYIazr6XMV7KzRV6a3SKOWGUdvNK9l0RZK2Slou6cQKOVIu8yW9liBvGf6SdQyaoky+Rp/Uh4AXgHOBi4A1QF+d5+wBbsW+W/96nefKshNYijWveQo4mN2gUUJ+Au7Dgj2INaycbLYDtwCd2KGxnmzCWvDOBl4EhsfbMJWQQaw76ER8jvWLPx14Cfg30fxl+BI78Z+BvVvHKxby0gusxKq+q4C3c4+QPZ6p9nMIkt6osu1nkhZWGN/j0iJpsaRXJf1R5TFl2SGpW9JSSXOLzj/Rz1X0Ym/pStwIjO6i2YaVp+eNum0b8ADwbu5Xhw9asNatncBcrMXrdOAf7BroN+zw+zWJegSnLHv3AudjfeA7gA+p/7G53gxjRUDPZE2Y+jrkEFb7dycet2lodNkbZAghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzphIyJ6C9wUFmUjIMuwDZWC/xrx/5O8u7KfkgiAIgiAIgiAI8vIfpsj6Wku9zJUAAAAASUVORK5CYII=",label:"Colonize",onClick:function(){K(),Ct(G)},amount:E.planetResourceBonus,positive:!0,hidden:!Y,disabled:(null===G||void 0===G?void 0:G.isColonizing)||U},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABHCAYAAACkuwGSAAAEHUlEQVR4nO3cSYgcdRTH8c/0tIka0eRg0EsEDagnjcGDBr0oIi54EfEgxu0iKiJ4cAkqoyYoKlFBxY0EBLecJBANYsAFIhqXOIcsGncUFQ24ZDHx7+GlSM+kl0y6u6prur5Q0NT0vP9/fvNf3qt67z+SUtKBOTgfZ2AeZmAnvsHHeBt/dzJSWlJKra4FKaXXUkq7U3v+SSk9n1Ka38ZWaa9mN2emlJanlPZ2EGYyO1NKy1JKc4r+o3p5jaSJU+xorMY5XQzK7XgEj+OvLuwMBI0CjeItnNcj279gKZ7Brh7ZzJ1aw+c79U4cmIvl2ILrUe+h7dzIRtBx+BKz+tjWZtyD19Fx6xwUshF0jf6KAyfjVXyCi/vcVs/IBLo0xzZPFxvB+zg3x3YPiWyK7cDhBfXhTSzBhoLab0tNTK2ixIEL8ZFYm04tsB9NGUkpjWJP0R3Zx168hPtEKFM4NdxUdCcaGMViseM9KXbXQqnh+KI70YQZuFm4HstEwFwItc5fKZRZuAPbcDeOyrsDgy5Qxmw8gK9wqxhhuVAWgTKy8GUrrpND+FI2gTLm4QWM4wqM9KuhsgqU0ffwpewCZTSGL908yzqA6SJQxiK8izVY2AuDNQVsnTnQs/ClJrzX6cgILscXWIETDsXIdJtizcjCly14whTDl2EQKGMGbjHF8GWYBMpoDF+W6DCihlGgjNm4XzxWeU546QcwzAJlzMQN2CS88glUAu1nDl7GVY03K4EmUhMuwaLGGxUTGcVKMfUqgVpwknicUgnUhmupBGrHQhxTCdSaGuZXArXniOzNakVztteUNG8nB3ZhSzXFWvMOdlcCteYpqm2+FevES4BKoCb8Kp5AohJoMr/jAnyf3agE2s+Hotzis8ablUDx1mMxzsa3k384zD7QGxjTITdyGAVah7uw/mC+PEwCbRDCrJ3KLw3DGrRZPIw/0xTFYXqPoO/EGrNSF1m801Gg30SV0dOiMrIr6jiyWyMDwp94DI/u+9wT6jisV8YKYqcYLUvF6OkpZZ5ie8T6MibWm75QRoESVonas039bqxsAq0VvkxulUFlEWi9EGZd3g0PuqM4jstwlgLEYXAF+hpX4zQRVBZG3WAV2P6MB/EsdhfcF4RAfxTdCXEYwcOiRmygDiOo64NzNQV2iMzThwzGP+oA6vi8gHb/FcUoY/ipgPYPmpGU0lz8IJ+Q4z+R5navqP0aeGrijI1VObS1GgtEDmApxGF/3fyJ2Kg/iQzviXNBPuiD7b6T+UHbRBFtL/kUF4nTFUopDhMdxRW4XawT3bAVV4oMrTVd2iqcyQcswSVih2maed6GH8Wu9KLBOaiga5oJRKTp34YbcWwHG+PiSd4rwq+ZVrQSKKMuShwX4RSRjb5HvODfKHJoxvvcx0L5HzVbjBCq3q78AAAAAElFTkSuQmCC",iconClassName:"toolbar__icon--ship",label:"Build Ship",onClick:function(){K(),St(G)},amount:E.shipResourceCost,hidden:!Z,disabled:(null===G||void 0===G?void 0:G.isBuildingMine)||(null===G||void 0===G?void 0:G.isBuildingShip)||A.gameStats.resources<E.shipResourceCost||N.length>=A.shipMax},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAYAAAA9zQYyAAAKsklEQVR4nO3df5CVVR3H8fcNlDBICHBRt+yXxWASJCYCNuYPUgMJGzDtj5IsE/sxTWVTE9OklTUyjk2WWThDVv6oyLSMnELCAkWHiR+KpOigrIKkgCOwgSz0x3evbrt3d+/ee/Z+zznP5zWzAyzw7Gd2P3v2PM99nnNARETiVOr4h0OHDnnlyNWxwAxgAjAc2AO0AKuAvwL7/KLlp1QqMdA7RKYmANcA0+g0aHTwIvBDYAHQ2qBc2dMIHd5Xge9B1YPFBmAW8Hi/JSqIUqmkQgd2FTC/hv+3HZgMPBk2TrGo0GHNAW6n+ylGb9YDp2LzbKlBqVTidd4hMjEM+Am1lxngRODrYeIUlwodxmXAiADH+SIwNMBxCkuFDuOiQMcZApwf6FiFpELXbwgwLuDxTgt4rMJRoet3DPXNnTt7W8BjFY4KXb9RgY93RODjFYoKXb+Qo7PUSYWWrKjQkhUVWrKiQktWVGjJigotWVGhJSsqtGRFhZasqNCSFRVasqJCS1ZUaMmKCi1ZUaElKyq0ZEWFlqyo0JIVFVqyotVHazcaW49uVuDjTgU2Y0uDrQEeBFYAuwJ/nCxpbbvqDQY+CJwLfAg4voEf+yCwFvhL+9sKoK2BHz8JWqyxd4cB5wAXYisaxbJM13+A32OLQy4H9IVDhe7JO4BPA58Emnyj9OpJYCGwCNjmG8WXCt3VZODLwEdI74R5H/Ar4DpsEfXCUaFfMwW4Gpsjp+4gsBj4FvCYc5aGUqFhLHAtcJ53kH5wEJuGfBPY6hulMYpc6KHAd4B55H/pcje258sC4BXnLP2qqIWeDtwINHsHabB12InuQ95B+kvRtqR4I/Yj+I8Ur8xga1ivBL6LXY7MUlFG6EnAr4G3eweJxMPAx4EnvIOEVJQR+nLg76jMHZ2MTT2mewcJLedCHw7cjO1ONcg5S4yGAXdjV0GyWeM61ynHcOC3wJneQRKxCNvJa79zjrrkepVjNLYx/Hu8gyTmb8BMYK93kFrlOIc+DrgflbkWZwH3Akd6B6lHTiN0M1Zm7SJVn1XA2cDL3kH6KqcR+ihgKSpzCKdgJ4tJ7saVQ6GPwObM7/IOkpHTgduAAc45+iz1Qg/APvEhd3IVcz7wI+8QfZV6oRegvbH70+Xtb8lI+aTwY9joLP1rPzYFecA5R69Svg49BlhNoicuCdoCjAd2eAfpSapXOQ4HbkVlbqQ3Az/3DlGNFAt9FTDBO0QBXQDM9Q7Rm9SmHCdhF/6Tu5yUiV3ACcBz3kEqSW3KMRB7XF9l9jOMyC/lpVToediJifi6AJjmHaI7qUw5RgCPA2/yDiIAbAROBA54B+kopSnHfFTmmIwBPuMdopIURuhm7Nm313sHkf/zLLZgZat3kLJURuhvoDLH6FjsKZeoxD5CH40tRjjYO4hU9Aw2Skfx6FYKI/Q8VOaYvQW7pyYaMY/Qg4AWYKR3EOnRamCidwiIf4T+KCpzCk5qf4tCzIW+1DuAVC2ar1WsU45m4Gni/oaT1+zElo9wPTmMecoxG5U5JcOxZRDcxVqaOd4BpM9meweAOKccI4HnifebTSprwR4EcBPrlGMaKnOKmoF3e4eIsThneweQmrlvuhRjoad6B5CauRc6tjl0EwXfPDJxL2DLsrkUKcY5dBQvoUrNRmK78LqJrdBa0it9rl/DaqccQ7BrwzOx1+2byH9/P4nHDuyxr3uAO7BbiruoZuWkEvBZbC0M3SgkMTgA/AzbG2Znx7/ordCDsb039KqdxOgJbKHOjeV39FToAdgGlec2Kp1IDVqAU9t/7fEqx5WozBK/ZmxO/eriQ5VG6KOATdgG7yIpuARY1N0IfRkqs6TlS+XfVCr0zAYGEQlhHO1bX3cu9GC0VK2kaSJ0LXRThfeJpOBo6FreKBYMEanBfuha6O1AW+OziNTtOeha6APA2sZnEanbeqg8X/5Dg4OI1Gsd8BRULvRNJLhxuRTa9eXfVCr0duD7jcsiUpcHgVvKf+jp5qQ/E/FeGiLYouuTqOLmpDZgFnZDtUiMNmErBLR0fGdPL6Lsxe43vQJ7+FEkBgeAnwKnAI91/su+PIL1CeA8bGu10egVRWmcncC/gaXAL7Cb+7uIcfP6C4HbvUNIXSYAazw+cIzLGKz2DiB1+S+wwTNAbIXehF02lDQ9hPP9QLEVGmCFdwCp2UrvADEWeql3AKnZMu8AsZ0Ugi0ltck7hPTZbmztln1eAWI8KQRbFWdjr/9KYrMMxzKXxVhogDu9A0ifLfYOAHFOOQDei9O1TKnJPuzxvZc8Q8Q65QB7yMD1eqb0yT04l7ks1kIDLPQOIFW72TtAWaxTDoAR2O2Bg7yDSI+2AG8FDjrniHrKAfAicJt3COnVj4mgzGUxj9AAY4FH6JRTorEb25twl3cQiH+EBjsxXOIdQrq1kEjKXBb7CA22BcbDaJSOTSv2qu5W7yBlKYzQYLeU3u0dQrq4gYjKXJbCCA0wBlt74TDvIALYJj7Ht/8ajVRGaLB7O270DiGv+jaRlbkslREaYBhW7CbvIAW3BjgZe1g1KimN0GBn01/wDlFwbcClRFjmspQKDfAb4C7vEAV2HZE/95nSlKNsJPAvbAckaZx1wPuJ4J7n7qQ25Sh7AbiIiH/sZagVuJiIy1yWYqEB/gnM9w5RIFcAj3qHqEaKU46yErag5DneQTJ3E7bfe/RiXDmpr0YCDwDv9A6SqfuwHYWT2Hsnh0KDlXklMMo7SGY2AJOJ5EmUaqR6UtjZJmAGCX3iE9ACfJgEP6c5FBpgFbYD7l7vIBl4HjgD2Oycoya5FBpgOVbqPd5BErYVK3PF5WpTkMMcurMp2FPIR3oHSczTwJnYQj9JymUO3dkK4AN02qpAerQWmErCZS7LsdBgL9NOQovVVGMJcBqZDAC5FhpsCYQpwK3eQSJ1CLgGu0KUzb6UOc6hK/k8cC1a46NsJzCXzHYNzuWFlWqNw0brE7yDOFuGbQC1xTtIaLmeFHZnHTAR+AHFvFNvF/A54CwyLHNZkUbojsZjzyhO8g7SAIeAXwJXYi+aZKtoI3RHa7D7FOYS4aP4AT0CnI5NMbIuc1lRR+iO3oD9KP4KdvdeDjYDV2ObuhdmelW0k8LeDAXmYQ/iHuOcpVYbgOux3VaTuOUzJBW6ssOBOdhN7VOcs1SjDbgXWwV0CTZnLiQVundjgUuA2cBxzlk6exTbRvoW4BnnLFFQoatXwp54nok98jWexi8euQe7T+U+4E8k8oxfI6nQtWvCbuaZil1FGN8PH2MntlzD/dhmpO7bDsdOhQ5jKvCPgMdbi91fke2LH/2lyNehY/YyKnPNVGjJigotWVGhJSsqtGRFhZasqNCSFRVasqJCS1ZUaMmKCi1ZUaElKyq0ZEWFlqyo0JIVFVqyokJLVlRoyYoKLVlRoSUrKnT9WgMfT09210GFrt+zkR+vUFTo+m0j7FPaqwIeq3BU6DB+F+g4B4G7Ah2rkFToMG4AXglwnDvIZDcqLyp0GE9hW13UYwfwtQBZCk1LgYUzEFvW9owa/m8bMA1biFFqpKXAwjoATMeWuO2Ll7C17FTmAFTosFqBi4FPUd3eLXdiy/Qu6c9QRaIpR/8ZjI3YM4D3AaOwefI2YDmwGFjvli5DpVKjl+wWERGRgvofsKolPTZleVwAAAAASUVORK5CYII=",label:"Build Satellite",onClick:function(){K();St(G,!0),R(B+1)},amount:E.satelliteResourceCost,hidden:!Z,disabled:q},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAELElEQVR4nN2bTYiWVRTHf8+MI5n0aYykhGik5kxa+LUoC9zpzMIKQRciJCguBIcYaBGzcMBF5GIW7dxYNBhKUQwIRTjIGBF+0FRO2agghg6FRRmajnPiwE1GfX3f+/k8N38wm+Gee+//vud+nHPvgy0iUuZfISKdIvKNiFwSkTdFpNm2/SSUKL5JRPrlbgbNwNzXA6C/8kAN8f+xIvYANKUZLi+mAF8AHXWMn0/RaA5MBYaA5Q36ci52XwvbgsnmFjwAHAcWWZSdBlxrVKgorGVV7gHTge+AuRZl37MR70qVHvAIMAI8aVl+DnDepuD/wQOeAH4CHrcsf8pWvCtV7AKzzGJmK17pStWZsqeAzvUfzapvy7hZ/MZtDVymQJkeoKv8aUfxSq+LeFfK8oClwDFP21bgVxeD3DzglQDxQ67iXUk9AJ3AYIB9d8S+1CTlFNgI9Af07Yo5K0y4GuYwBbYFilfe8hHvSgoPULd9J0Lf9Nf/08ewSg/YFUn8x77ik9EgCaGZmr46iQxX2kISKy7EmAJax17gjUiDP2YCJO+DR5nBkE6h/cD6wHom0xUi3pUQD2gGPgPWRu6TVdKjHmV4gNp9Cbwc0tEaDAPXI9dZF59dQIOZrxOIVxYDZ4EXEtRdE9cBUPf81gQ3qdDMzwlgwCROshkA/eV/ABYm7M9kOkwg1AO0lNTmvRGRtyPu8678JSIdKW6GXHaBUeDpaCPqx/fAa8DP9axTHYV/iSrFj3aTVXofeChGhS4D8G5EIaFsMrHCdnMeSY+ZXzHP+7EYE5GXyowFNLn5CTC/lJG354g5lf7tsgb4HoXV7nXgA3O3lwtngGeKorB2A998gDZwEHg0s7VBd6l5LgahCZF/TAZotnHBHHC5cYqeEnvRZHNaKxyIGUVRXLYtHDsldtTc/e2IXK8teotkLd4Jj9TUwyLyYYnb4e5cH0ktFJGRxOK7c38lpkHMtkTit4YEQ2U9kNBe/ZGg3g3ARyEVlHU7XJhgyvY5jA166jtUs7EMn8i0Rxav2+1XMSoqawB6I9UzYfKFw5HqK2UK6HH5d1/jSWi2uA0YbVQwtymwJUIdelX+LHAhQl23kdoDmk3nQyJGPdktAH6zNcjpicyqQPEXTXRnLd6V1B5wMuCFt8b2SzTB4WpYRkLEhqcCXnfqKr/S944wlyng+8BJ9/dlKR5G1yKVB+i8v+rRn8/NCe+mh+0tcvCAdR42B4A1oeJdSeEBhVm9Zzr0RV+YbI31MKJqD3jOUfyemOKT4RD71/vq6056AvMMWTySmsxjDjm5nUCfbfsuVBkL2J77N5sLzsqJ7QF6anuwQRndIT5NKbwqD2ixEL8aOByxzWBi7gI3zN39vViem3gl9jb4ao3/jZtY3vejiaTEHgD9vE2zNvpL626wz5wJ9EOp/AD+BfEdgvv24Mt0AAAAAElFTkSuQmCC",label:"Mine Resources",onClick:function(){K(),Rt(G)},amount:E.planetMineResourceCost,hidden:!J,disabled:(null===G||void 0===G?void 0:G.isBuildingMine)||(null===G||void 0===G?void 0:G.isBuildingShip)||A.gameStats.resources<E.planetMineResourceCost}]}):null,t?Object(x.jsx)(wt,{id:"main",items:[{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABaCAYAAABOkvOJAAAE8klEQVR4nO2dWYhcRRRAT3fmQ43BzAhCjEhQHIiO4IKEEQxB/HBU3MUNQ0QlH4JEYhBUEARB0A8XEIlK3HGPUVFBECJuWfTD5cMFQYQQkeQjUWOMdssNV22H7p6XV1Wv7ntzz2em+1a9Ot3vVlfdV2l1u10awNOAXMjyul/KiIE+hNAGXgQu0RgHAZernFpS52/IAmA9sGTav38MXAT8lKlfQbTr2GngZOCTPjKESf3bSRn6FUwdhZwLfAgcPeQ1i4CPgKkK+xWFuglZCbwJHFzgtfKat4AbKuhXNOok5G7gkRLvWwvclaA/SahLUn8KuCYwxhPAtZH6kwzrQuYDG4ClkeK9pzOwXZHiRceykOOB14FjI8f9Bjgf+Dpy3ChYzSFn6SwptgxhXH+rLEsQOxiLQlYA7wKHJWxjVG9fVydsoxTWhNwOrKuorRbwDHBrRe0VwlIOeQy4LlPbDwM3Zmr7f1gQMhd4TfNGTt4GLgZ+z9mJ3EIkab8BLM7ZiR6+BM4DfsjVgZw5RH5bbDIkQ5gANgOn5+pALiEyu9kIHJ6p/WEcAbwPXJaj8RxCbtPZjWXm6MbXzVX3seoc8ihwfZUNRuAh4KaqGqtKiMykXgbOrqKxBGzQreG9qRuqQsginUlNpG4oMZ/qGti2lM2kziGynbq1ATKEU4EtwCkpG0kp5CpdILQ4kyrLkTpVvyBVA6mE3AE8myh2bkZ0ZSHJDCxFDllbt33sAO6PLSamkHk6d6/rTKosr+jt+Y8YwWIJOUanhk1I3mWQvHIhsD00UIwcslRnH7NVBlqwF2UGFipkua5JjYV2pAEc1fNNKU2IkDuBJ2e7hWmMaL1x6URfNoes071vZzAPAKtSCxnVNakzXUQh1usa2L6ibzgQIZK0XwWOS9b9ZrJFn1/5scjVFc0hU1ri7zIOnNM02U8WeWcRISu1inxuxRfSJOThog+K7ELOJOSekhXnTv+xlpWMNcPGZlAOkSKyF3LtK88CBtaB9ROyUIuck677O/vrwOQD/2vvUEy/ZU1WsQnj7GdKx3p8kJArtfxlgY9XZSzW2eu/VZv/CJH9i+ca8Nx6HRnVav9L0RxygpZQOvkZl2/IahdhhjVt/SXp2GBJXU9yaCxtLQBzbLBVkvqJwOcuxAQT8g35YhaV7VhGHuf7qnfpZJnucMlJO4cCnSHnTnX0djempfvOf/wF7NSxaw0Yl5aO3y/AZ1rftZEBa1lSX3XIDEK6KiLVs+R15jt9AqtTQMhvwO7eP/T7Zb57+ouGEKU4rGHImPxc9pJCpr1tv131Zc6Qb8aM+O8QY7gQY7gQY7gQY7gQY7gQY7gQY7gQY7gQY7gQY7gQY1gv++nqUvafET48Hb3esZC1ptRYF7JL92m2RRKyUA/ynxepf9GxLkQG8XvdN4jBXo1pFus5pKXHjcdivuXbFZ7U7eFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjBEqJPXzIe3IH5rY8foRNCYhneto8UFKpI09EePvqWALd9+QRwFnJPTTkvqMlG+BHRHj7dCYKQkak1Ah9yW+uHsjx+tW0Oeg+KFC5KynWwJjDEIeFX4pQdzngQcTxEVPtN4cEiDW/45wjp5eekaE0iI5UvVxHbiUXKEP68tB+iFIHpWD3+Sw0HeCIgF/A8iK96/YLxc2AAAAAElFTkSuQmCC",label:"Main Menu",onClick:function(){K(),M.push("starbase")},hidden:!1,disabled:!1},{image:o?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAflBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vroaSAAAAKXRSTlMAAQIFBwoSExYZHB4qMTU/QEFLUVlbX2JmeZWYmqOvtczR097i6ev3+RBjW40AAAFDSURBVFjD7dXbVsIwEIXhST2g1SqCJyoWFaHd7/+CXNAkM23UCXPn6tzB6v8tKNNANM1/n9nDbWHpnwDsLk/vXwAAjbFHZ+wBaw9rD2sPaw9rD2sPaw9rHwF3M7j0qtD0AXA1KnFp2W4KRY/YQwhlC4yERA/Wc6FsgV6Y3d3Pj7PCj8Cyf1WJHliRe8fvIz6BF3y/KegRKkAKrKcPJcAF3lOnBaLwynuCGogC73MAKfgdyAG4EHYoCyDX9O9+hh3MA/z9ZzuZBcQ+CjkA74OQAfi+E8JeDYT9OxPPxVoLsP0Vz8W1EhD7L4X1XgGIfvR0+7nY/gWE/fOCBJIC/wrsDDwK1fBQTQjsJooz1NWJPiXEn7GRZ7Crq9Qfy0jI/msbCmQVyCqQVSCrQFaBrAJZBTIK32QUnk8H6PwNXwuaZhrFHAAQSsSl06tScQAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABdFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wdlxEAAAAe3RSTlMAAQIDBAUGBwgJCgsNDhAREhMUFRYXGBocHSAhIiMqKywtLi81Nzg5Ojs8PT5AQktMTk9QVldbXV5hYmZpa21vc3d4eXt8gIKDhYyOj5GUl5iam52eoKWqq7Cytbm8wMHDxcfIyszO0dPV19ne4OLk5unr7fHz9ff5+/0vCZtlAAACcklEQVRYw+2XZ1MTURSGn00WEbGholgRQRSxISoKKvZeUFREsESwgBURJHn+vB+yYVBiuBtmHJ3xfMpk533m7tlT3gv/42+PVe274+Xo9xf0e3OZB3FdkP6Qqt+ixfrcZE2wXlcv1uvLTLDetb8+6VB9EKxfDOCSaleovgyAIdXGQH05QO20Oh6o/xnQ/rYGYI/qkTD9QkB0Xl9kAO6rsyuC9AsBj1VvANQX1N4g/ULA1rxqG8AZdTYbov8pB22qX7NArerREH0JENfOl0A/wHX1TYg+AcS5sSyQ+aDmVwCbVNcF6IuAOKf3AHap9gB8VE8G6IuALtV2gBfqF4BedRSoOTeRt1IUX+FRKXvNqluAJtUMmUmXiCQHM0kDRd/UU0BGtYmDhgE4oX4AuKCOlF6mk8uhgFh1I9CiFiLgitrH7VAAT5PKWam6CuhWB7gTDOhWbwHk1SagVX2eArBbfQUwpjYD29R3KQBN6hTAk6ShNqtTKQANah7gntoJrFfz1ZxgMDnBhpQnmM/BcJKDLSlzMP8V3idfYYf6PEUdDCd1EKnWA+3qQMpK3ASsU42AHrWvil44rD4DuKl2pu9GhtQ+gE/FXNT0TxQCAA9L86BOdXvpRybVRNoHcFadiZJWGE0/E2vz6kWAu2Vm4tJTmYHSX9lCuam85F7Yr/oY4ID6OvVmasyrNgBM/HY/V9iNDdOqV0udUX43VtrOI6qfYyCaUE+n9gdxTt0JcLySP6jgUOJcca2tmavoUCp4pLgPIBpXx6PqXdq1JV1aZZ94SvVY9U51r+rgcr1y9g+49eJ9Ya6l+vsC1He0LuvG8j/+lfgBSr6rvcCrc9EAAAAASUVORK5CYII=",label:"Mute",onClick:function(){K(),c||y(!o)},hidden:!1,disabled:!1},{image:"data:image/png;base64,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",label:"Provide Feedback",onClick:function(){K(),window.open("https://docs.google.com/forms/d/e/1FAIpQLSefvVxczFDNc2C_oLjlOVDcOTdFTrCHYEavpu4kWp4X7Jrwwg/viewform?usp=sf_link")},hidden:!1,disabled:!1}]}):null,Object(x.jsx)("button",{className:xt()("toolbar__button",{"toolbar__button--active":t}),onClick:function(){K(),me(),L(),f(!t)},children:Object(x.jsx)("img",{className:"toolbar__icon toolbar__icon--hamburger",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAD1BMVEUAAAD///////////////+PQt5oAAAABHRSTlMAR+Ljkw3fcwAAAAFiS0dEBI9o2VEAAAA2SURBVEjHY2AYBYMKCLtgBYZwBSbYFTjBFbjgAPRUQNCRQtgVKI4mgNH0MJoeRtPDaHoYGgAANv6WynRTcqkAAAAASUVORK5CYII=",alt:"menu"})}),Object(x.jsx)("button",{className:xt()("toolbar__button",{"toolbar__button--active":a&&"compass"===m}),onClick:function(){K(),me(),G&&G.deselect(),O(!1),j("compass"),w(),L()},children:Object(x.jsx)("img",{className:"toolbar__icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABqlBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////eFPMCAAAAjXRSTlMAAQIDBAUGBwgJCgsMDRARExQVFhcYGRobHB4gIiMkJicoKy0uLzAxMjQ3ODk6Oz0+P0JFRkpNTlFSVVlbXF1eX2FjZmdoaW9wcXN1d3t+f4CFhomLj5GSlJWXmJqbnaCio6WmqKutsLK3ubq8vsDBw8XHyM7P0dXX2drc3uDi5Obo6evt7/Hz9ff5+/2RStiZAAACs0lEQVQYGZXBiUMMUQAG8O/Nzm6XI1lCSBGl5CwS5WaRs1yRMzlXiSIpSdLOfv+zndmjmXlvZt7+flAzGy+MZ1live1rMKBNNA9TlrmzHVqMrl8M8P2AQKQjSwwxtxfhNqQZ4VUNQnQz2kobgsSGqWVAQCkxQU2vDChUf6O2DyYklbMsw3gMPuYXluW1gId4yzLdh0eK+u7T0QWXPdS1crGylY7sRpSYf6jnd48JTDLvq0DRDWr5fkgA2MGiHhQkqWO8BY4xFmUqkfeM0UYbkJfkqhQctYw0VIeih1xlJWC7zXDWtRqUrKVbL3KMDMP87U/AZYBuP5DTyhDzXQbcKrL02ATgAQN9bRfwOkev8wCWGeBdE/xi/+g1Aayj2twWyI7Tz8R+qh2FTCzQbyv6qbRkQNZJSQeGqNQLhWlKzuIjVTJx2GJXFmZPCxQ0U3YX01RJwSbSzBlGQZqyESxSpRq2Njrq4dhGhTFYVBiEo4+ODjheUCGNRSrUwtFGRz1stVQZwzRlL5En0sx5DMcgVUaQpmwbCmKp3z/7BGzVVLqLIUrSUEhR6Sz6KWmGLG5RqQP76TcNhV6qbcV6+nVCtn6JaiawTK8FAb8tTxlgAsADeh2HT9N7BjoPoJUe/2JwE+1TDLEZgJGh2zm4GF3zDDML2226ZCtQkjizzHCnYNtAlwEUrbluMYKVgOM5V61FXt09RruKvCRLHsLRMEoNVhUKbrEoiZyWCWo5iaL4EvPGAHF4hnqmBEpamLfD7FmkpmwSLtdoW768Qm3dcBMfWKZH8IpPsSxvBHyq5liGyRgkNTPU9ikOhcQkNY0aUIqNUMtNgSAnGC3TjhB144wwugbhjv1liPk2RDK6Fxhg5qCADrH7CWXW4E7oM5sufeYq6/2Z7QbKVlW/a1/ngZbGTRUI9h92Xb8Rc0N77wAAAABJRU5ErkJggg==",alt:"compass"})}),Object(x.jsx)("button",{className:xt()("toolbar__button",{"toolbar__button--active":u}),onClick:function(){var e;c||(K(),v(!u),A.scene.cameras.cameras.find((function(e){return"mini"===e.name}))?null===A||void 0===A||null===(e=A.minimap)||void 0===e||e.hide():A.minimap.show())},children:Object(x.jsx)("img",{className:"toolbar__icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABm1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8scpb8AAAAiHRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESFRYXGRweHyAiIyQlJigpKy0uLzIzNjk7PD0+QEJERUlKS0xNTk9QUVdYWVtcXV5fYmNmZ2lrbHBxdHV3eHl8goaIiYuMj5KXmJqbnZ6goqWoqqutsLW3ury+wMfIyszP1dfZ2tzg4uTm6Onr7e/x8/X3+fv9c38cjgAAAhlJREFUGBm1wQdXUmEABuCXyxIh04qiPc2GlZntbUk2jBw0KRs2JILK0DTTYt33Z3esc797L3zfHZzT80Bp/ZGxmfJqfan05NrOEPzquDJPq5cH4EdkXGez8iF4dqJCmQ8JeBJ8SoVqHzyIFKl2Ca6iZTpJw0XwM52dh7NputkOJ2foaiUMtVidNguT6cv3XjVok4XaY1qNdeGvwN4irZJQWUeLYgKmkzpN01AZpemFBqstVZo6ofCTQkGD3S6azkFuI4VGDM2GKcxCbpDCMFpoyxQ0SE1QiKHVTQobIJWnoQSJzRT2Qeo7DROQCFM4BqkqDTcgQ2EIUjUaRiARoDAEqSUaJiERoXAcUp9o+AaJbRR6IfWQQhda3aGwCVJnKWTQIlyhEIRUkqYeNHtAoQCFBQpzIdgdpWkACqdpykdg1adTqIWgEPxN02IKgjZKizSUrtLq9Q4NazoHl2mhR6EUrtOmUXg29Waedhk4uEV3cTiI6nSThaMM3fTAUZwunsNFls6ScNFNR+/gKkcnW+EqSQcf4cEM1fbAgxSVvsCTPFUOwpPdVJiHRyXK9cOjXkr9CMCrOcqcgmeHKfFLg2eBRba6CB8G2KIWgg/aCpuNwJcLbKJH4UuwQrv78Ok67eLwKVyn1RR8u02rbvjWodOUQxvGaUqiDQkKb9GWRzSk0JZ4nf/k0Kb9da6ZDaFdibtfV9/3B/Bf/QEJavznDlJ4YgAAAABJRU5ErkJggg==",alt:"map"})}),Object(x.jsx)("button",{className:xt()("toolbar__button",{"toolbar__button--active":d}),onClick:function(){K(),L(),c||(me(),Vt(!d))},children:Object(x.jsx)("img",{className:"toolbar__icon",src:"data:image/png;base64,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",alt:"select"})}),Object(x.jsx)("button",{className:xt()("toolbar__button",{"toolbar__button--disabled":!(T.zoom<A.zoomMax)}),disabled:T.zoom>=A.zoomMax,onClick:function(){K(),L(),T.zoom<A.zoomMax&&T.zoomTo(T.zoom+=A.zoomStep,0,"Linear",!0),ci()},children:Object(x.jsx)("img",{className:"toolbar__icon",src:"data:image/png;base64,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",alt:"zoom in"})}),Object(x.jsx)("button",{className:"toolbar__button",disabled:T.zoom<=A.zoomMin,onClick:function(){K(),L(),T.zoom>A.zoomMin&&T.zoomTo(T.zoom-=A.zoomStep,0,"Linear",!0),ci()},children:Object(x.jsx)("img",{className:"toolbar__icon",src:"data:image/png;base64,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",alt:"zoom out"})}),Object(x.jsx)("button",{className:xt()("toolbar__button",{"toolbar__button--active":c}),onClick:function(){K(),L(),A.scene.game.scene.pause("default"),S(!c),w(!1),c&&A.scene.game.scene.resume("default")},children:Object(x.jsx)("img",{className:"toolbar__icon",src:c?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9RKvvlAAAAHnRSTlMAAw0OGBkaHh8vMExVZm+InaKqsbK71t7f5ev1/P3zjImMAAAAAWJLR0QecgogKwAAAMhJREFUWMPtl0kSgkAQBMENdxQFFyT//0zPisBAHgwN8gEZQTHTXRNFI//FLJGC6+OwUAKgTKdOAPd97ARQbKUA8rUUUGVLJxiYJi8MSJM3eqdJjZ5p1gVUWeIE/dLkM7dd7ARQbKQA8pUUUB3nTgBlOnGCgDTppCNNAmhNM0TQmiZhNKdJKE1pEs7ZCk5f/QQZov2N8iDJoywvk7zOdqDIkSaHqhzrcrHY1SaXq1zvsmDIimNLlqx5smjKquvK9sXWff3gGPldnlZMg7/O7FPBAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAD1BMVEUAAAD///////////////+PQt5oAAAABHRSTlMAR+Ljkw3fcwAAAAFiS0dEBI9o2VEAAAA5SURBVEjHY2AYBXAg7AIFhpg8MDCBCTlh8sDABQ4weaMKRhWMKhhVMKpgcCggWJgLwYQUMXmjAAIAcrj9h6Ox9PcAAAAASUVORK5CYII=",alt:"pause/play"})})]})}),Gt=function(){return O?Object(x.jsxs)("div",{className:"debug-buttons",children:[Object(x.jsx)("button",{className:"side-menu__button",onClick:function(){return function(){var e=A.difficultyLevels[A.difficulty];Object.keys(A.entities).forEach((function(e){var t=A.entities[e];t.faction=A.userFactionName,t.colonized=!0,t.isColonizing=!1})),Object.keys(A.ships).forEach((function(e){var t=A.ships[e];t.faction.includes(A.enemyFactionName)&&t.destroy()})),Object.keys(A.artifacts).forEach((function(e){A.artifacts[e].isDiscovered=!0})),A.gameStats.planetsColonized+=1,A.gameStats.score+=e.planetColonizePoints,Te()}()},children:"Simulate Victory"}),Object(x.jsx)("button",{className:"side-menu__button",onClick:function(){return function(){var e=A.difficultyLevels[A.difficulty];Object.keys(A.entities).forEach((function(e){var t=A.entities[e];t.faction=A.enemyFactionName,t.colonized=!0,t.discovered=!0,t.isColonizing=!1,t.isHomePlanet=!1})),Object.keys(A.ships).forEach((function(e){var t=A.ships[e];t&&t.faction===A.userFactionName&&t.destroy()})),Object.keys(A.artifacts).forEach((function(e){A.artifacts[e].isDiscovered=!0})),A.gameStats.planetsLost+=1,A.gameStats.score-=e.planetColonizePoints,Te()}()},children:"Simulate Loss"}),Object(x.jsx)("button",{className:"side-menu__button",onClick:function(){Object.keys(A.ships).forEach((function(e){A.ships[e].destroy()}))},children:"Destroy Ships"})]}):null};i(124);window.onbeforeunload=function(){window.location.href.includes("launch")&&(Zt(!1),Object.keys(A.towables).forEach((function(e){var t=A.towables[e];t.isBeingTowed=!1,t.towShipId=null})),B("onbeforeunload"))};var Ft,Dt,Nt,It,zt,Ht,Qt,Tt,Kt,Lt,Vt,Pt,Ut,Wt,Yt,Jt,Zt,Xt,qt=function(){B("unmount"),zt(!0),A.scene.sys&&A.scene.sys.game.destroy(!0),A.artifacts={},A.scene={},A.entities={},A.ships={},A.enemyFactions=[]},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDemo;function i(){zt(!0),Qt(!1),this.load.on("progress",(function(e){Ht(Math.round(e/1*100))})),this.load.image("artifact","./img/artifact.png"),this.load.image("artifactRed","./img/artifact-red.png"),this.load.image("artifactGreen","./img/artifact-green.png"),this.load.image("artifactWhite","./img/artifact-white.png"),this.load.image("blitterStar1","./img/blitter-star-1.png"),this.load.image("blitterStar2","./img/blitter-star-2.png"),this.load.image("disbandWhite","./img/disband-white.png"),this.load.image("flagGreen","./img/flag-green.png"),this.load.image("flagRed","./img/flag-red.png"),this.load.image("flagBlue","./img/flag-blue.png"),this.load.image("flagOrange","./img/flag-orange.png"),this.load.image("hammer","./img/hammer-white.png"),this.load.image("homeGreen","./img/home-green.png"),this.load.image("homeRed","./img/home-red.png"),this.load.image("moveMarker","./img/move-marker.png"),this.load.image("nebula1","./img/nebula1.png"),this.load.image("nebula2","./img/nebula2.png"),this.load.image("nebula3","./img/nebula3.png"),this.load.image("nebula4","./img/nebula4.png"),this.load.image("nebula5","./img/nebula5.png"),this.load.image("nebula6","./img/nebula6.png"),this.load.image("nebula7","./img/nebula7.png"),this.load.image("nebula8","./img/nebula8.png"),this.load.image("nebula9","./img/nebula9.png"),this.load.image("nebula10","./img/nebula10.png"),this.load.image("nebula11","./img/nebula11.png"),this.load.image("nebula12","./img/nebula12.png"),this.load.image("particleWhite","./img/particle-white.png"),this.load.image("planetOverlay","./img/planet-overlay.png"),this.load.image("planetFeature1","./img/planet-feature1.png"),this.load.image("planetFeature2","./img/planet-feature2.png"),this.load.image("planetFeature3","./img/planet-feature3.png"),this.load.image("planetFeature4","./img/planet-feature4.png"),this.load.image("planetFeature5","./img/planet-feature5.png"),this.load.image("planetFeature6","./img/planet-feature6.png"),this.load.image("planetFeature7","./img/planet-feature7.png"),this.load.image("planetFeature8","./img/planet-feature8.png"),this.load.image("question","./img/question.png"),this.load.image("resourcesGreen","./img/resources-green.png"),this.load.image("resourcesWhite","./img/resources-white.png"),this.load.image("satelliteGreen","./img/satellite-green.png"),this.load.image("satelliteGreenRank1","./img/satellite-green-rank-1.png"),this.load.image("satelliteGreenRank2","./img/satellite-green-rank-2.png"),this.load.image("satelliteGreenRank3","./img/satellite-green-rank-3.png"),this.load.image("satelliteRed","./img/satellite-red.png"),this.load.image("satelliteWhite","./img/satellite-white.png"),this.load.image("satelliteBlue","./img/satellite-blue.png"),this.load.image("satelliteOrange","./img/satellite-orange.png"),this.load.image("score","./img/score.png"),this.load.image("selectShips","./img/select-ships.png"),this.load.image("shipGreen","./img/ship-green.png"),this.load.image("shipGreenRank1","./img/ship-green-rank-1.png"),this.load.image("shipGreenRank2","./img/ship-green-rank-2.png"),this.load.image("shipGreenRank3","./img/ship-green-rank-3.png"),this.load.image("shipRed","./img/ship-red.png"),this.load.image("shipWhite","./img/ship-white.png"),this.load.image("shipBlue","./img/ship-blue.png"),this.load.image("shipOrange","./img/ship-orange.png"),this.load.image("starEntity","./img/star-entity.png"),this.load.image("star","./img/star.png"),this.load.image("undiscovered","./img/undiscovered.png"),this.load.audio("soundButtonClick",["./sound/button-click.mp3"]),this.load.audio("soundConstructionComplete",["./sound/construction-complete.mp3"]),this.load.audio("soundEntitySelect1",["./sound/entity-select-1.mp3"]),this.load.audio("soundGameWin",["./sound/game-win.mp3"]),this.load.audio("soundGameLose",["./sound/game-lose.mp3"]),this.load.audio("soundMoveMarker1",["./sound/ship-move-marker-1.mp3"]),this.load.audio("soundPlanetColonize",["./sound/planet-colonize.mp3"]),this.load.audio("soundPlanetMine",["./sound/planet-mine.mp3"]),this.load.audio("soundResourcesAdd",["./sound/resources-add.mp3"]),this.load.audio("soundResourcesSubtract",["./sound/resources-subtract.mp3"]),this.load.audio("soundScore1",["./sound/score-1.mp3"]),this.load.audio("soundShipEnterOrbit1",["./sound/ship-enter-orbit-1.mp3"]),this.load.audio("soundShipDisband",["./sound/ship-disband.mp3"]),this.load.audio("soundShipExplode1",["./sound/ship-explode-1.mp3"]),this.load.audio("soundShipExplode2",["./sound/ship-explode-2.mp3"]),this.load.audio("soundShipSensor1",["./sound/ship-sensor-1.mp3"]),this.load.audio("soundShipSelect1",["./sound/ship-select-1.mp3"]),this.load.audio("soundShipShoot1",["./sound/ship-shoot-1.mp3"]),this.load.audio("soundTrack1",["./sound/track-1.mp3"]),this.load.audio("soundTrack2",["./sound/track-2.mp3"]),this.load.audio("soundTrack3",["./sound/track-3.mp3"]),this.load.audio("soundTrack4",["./sound/track-4.mp3"]),this.load.audio("soundTractorBeam1",["./sound/tractor-beam-1.mp3"]),this.load.plugin("rexpinchplugin","./plugins/rexpinchplugin.min.js",!0)}function n(){var e=this;A.scene=this,A.chance=new be.a,A.isDemo=t,!t&&ce.init(this),this.matter.world.update30Hz(),this.matter.world.engine.world.gravity.x=0,this.matter.world.engine.world.gravity.y=0,O&&(this.matter.world.debugConfig.showSleeping=!0);var i=A.difficultyLevels[A.difficulty];this.time.addEvent({delay:A.autoSaveInterval,callback:function(){return B("autosave")},loop:!0}),this.time.addEvent({delay:i.enemyMoveInterval,callback:We,loop:!0}),this.time.addEvent({delay:i.planetMineResourceDelay,callback:function(){A.isGameOver||(Object.keys(A.entities).forEach((function(e){var t=A.entities[e];t.isMiningResources&&(A.gameStats.resources+=i.planetMineResourceRate,(new je).resourceAnim({x:t.x,y:t.y,num:i.planetMineResourceRate,positive:!0,type:"resources"}))})),ci(),B("resource timer"))},loop:!0}),A.isDemo&&this.time.addEvent({delay:5e3,callback:C,loop:!0}),A.soundTriggers={},A.soundTriggers.shipSensorWarnSound=!1,A.scene.time.addEvent({delay:15e3,callback:function(){A.soundTriggers.shipSensorWarnSound=!1},loop:!0}),ce.atmospheric(),A.scene.time.addEvent({delay:15e3,callback:function(){ce.atmospheric()}}),A.scene.matter.grid.create({bucketHeight:200,bucketWidth:200}),bt({isDemo:t}).then((function(i){O&&console.log("Config",A),A.scene.sound.setMute(A.isMuted);var n=e.cameras.main,s=A.boardSizes[A.boardSize];if(n.setBounds(-A.boardPadding,-A.boardPadding,s.boardWidth+2*A.boardPadding,s.boardHeight+2*A.boardPadding),zt(!1),t||O){if(t){var a=S(s);n.zoomTo(2,0),n.centerOn(a.center.x,a.center.y),n.pan(a.topCenter.x,a.topCenter.y+300,1e4,"Linear",!0),n.zoomTo(A.zoomDefault,A.zoomDefaultTime)}}else if(Te(),null===i||void 0===i?void 0:i.planet){var o=i.planet;n.centerOn(o.x,o.y),n.zoomTo(A.zoomDefault,A.zoomDefaultTime),B("create"),A.minimap=new yt,A.isGameOver||(Ft(),Ft({html:'Starting on the planet <span style="color: #'.concat(A.colorGreen,'">').concat(o.name,"</span>"),coords:{x:o.x,y:o.y}}))}A.scene.matter.world.setBounds(0,0,s.boardWidth,s.boardHeight);var c=new V.a.Geom.Rectangle(0,0,s.boardWidth,s.boardHeight),r=A.scene.add.graphics({lineStyle:{width:2,color:16777215,alpha:.1}});r.strokeRectShape(c),r.setDepth(1),r[A.namespace]={type:"boardGraphics boundary"};var l=A.boardSizes[A.boardSize].blitterStarCount,d=2*s.boardWidth,h=2*s.boardHeight;new Re({alpha:.35,count:l/2,texture:"blitterStar1"}),new Re({alpha:.45,count:l/2,texture:"blitterStar2"});var u=new Re({alpha:.35,count:l,height:h,texture:"blitterStar1",width:d,x:-d/4,y:-h/4}),m=new Re({alpha:.5,count:l,height:h,texture:"blitterStar2",width:d,x:-d/4,y:-h/4});ft(A,u,m);for(var g=0;g<12;g+=1)new Be({startOnScreen:g<=6});var p=null;A.scene.scale.on("orientationchange",(function(e){p=e})),A.scene.game.scale.on("resize",(function(e,t,i,n,s){if(e.width!==window.innerWidth||e.height!==window.innerHeight){if(O&&console.log("Resize"),A.scene.game.scale.resize(window.innerWidth,window.innerHeight),p){var a=A.scene.cameras.main.worldView,o=a.x,c=a.y;A.scene.cameras.main.centerOn(o+n/2.5,c+s/2.5),p=null}A.minimap&&A.minimap.hide(),A.minimap=new yt,Kt(!1),Vt(!1),Ut(!1),me(),ci()}}))})).then((function(){t||ht(A.entities)}))}function s(e,t){for(var i in A.entities)A.entities[i].update(e,t);for(var n in A.ships)A.ships[n].update(e,t);for(var s in A.towables)A.towables[s].update(e,t);for(var a in A.timers)A.timers[a].update(e,t);At(),Yt(A.selectedShips)}new V.a.Game({width:"100%",height:"100%",backgroundColor:"#000",transparent:!0,parent:"game",pixelArt:!1,clearBeforeRender:!1,scene:{preload:i,create:n,update:s},physics:{default:"matter",matter:{debug:O,debugShowBody:O,debugShowVelocity:O,debugShowStaticBody:O,debugShowSleeping:O,debugWireframes:O,constraintIterations:1,positionIterations:1,velocityIterations:1,enableSleeping:!0}}})},$t=function(){var e=Object(n.useContext)(ai),t=e.isGameLoading,i=e.isPaused,s=e.togglePaused;return Object(n.useEffect)((function(){return _t(),function(){qt()}}),[]),Object(x.jsxs)("div",{className:"launch",children:[i&&Object(x.jsx)("div",{className:"launch-paused-overlay",onClick:function(){s(!1),A.scene.game.scene.resume("default")},children:"Paused"}),Object(x.jsx)(Gt,{}),Object(x.jsx)(Me,{}),Object(x.jsx)(Ce,{hide:!t}),Object(x.jsx)(re,{}),Object(x.jsx)(ge,{}),Object(x.jsx)(le,{}),Object(x.jsx)(Et,{}),Object(x.jsx)("div",{id:"game",className:"game",onPointerUp:ri}),Object(x.jsx)("div",{className:"launch-bg"}),Object(x.jsx)("div",{id:A.entityPreviewHolderId,className:"display-none"})]})},ei=(i(125),function(){var e=Object(n.useContext)(ai).isGameLoading,t=Object(n.useState)(!0),i=Object(r.a)(t,2),s=i[0],a=i[1];return Object(n.useEffect)((function(){return _t({isDemo:!0}),function(){qt()}}),[]),Object(n.useEffect)((function(){e||a(!1)}),[e]),Object(x.jsx)(z.a,{id:"game",sx:{width:"100%",height:"100%"},className:xt()("demo",{ready:!s})})}),ti=(i(126),function(){var e=Object(l.e)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Q.a,{maxWidth:!1,children:Object(x.jsx)(z.a,{className:"masthead",sx:{display:"flex",alignItems:"flex-end",justifyContent:"center"},children:Object(x.jsx)("img",{className:"masthead-logo",src:T,alt:"logo",onLoad:function(e){e.target.classList.add("masthead-logo--loaded")}})})}),Object(x.jsx)(Q.a,{maxWidth:"xl",children:Object(x.jsxs)(z.a,{sx:{pt:{xs:2,md:15},pb:{xs:2,md:20},position:"relative",overflow:"hidden"},children:[Object(x.jsx)(z.a,{sx:{position:"relative",zIndex:1},children:Object(x.jsxs)(z.a,{sx:{p:4,pt:8},children:[Object(x.jsx)(H.a,{component:"h1",variant:"h3",align:"center",color:"text.primary",sx:{fontSize:{xs:"2rem",md:"3rem"},mb:3},children:"Greetings Admiral, Your Fleet Awaits..."}),Object(x.jsx)(I.a,{sx:{pt:4},direction:{xs:"column",sm:"row"},spacing:2,justifyContent:"center",children:Object(x.jsx)(F.a,{size:"large",variant:"contained-1",onClick:function(){qt(),e.push("starbase")},className:"cta",sx:{padding:{xs:"15px 50px",md:"15px 100px"}},children:"Launch"})})]})}),Object(x.jsxs)(z.a,{sx:{position:"absolute",zIndex:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},children:[Object(x.jsx)(z.a,{className:"gr-left",display:{xs:"none",md:"block"}}),Object(x.jsx)(z.a,{sx:{position:"absolute",zIndex:2,background:"#000",opacity:.6,width:"100%",height:"100%"}}),Object(x.jsx)(ei,{}),Object(x.jsx)(z.a,{className:"gr-right",display:{xs:"none",md:"block"}})]})]})}),Object(x.jsx)(Q.a,{maxWidth:!1,className:"bg-1",children:Object(x.jsxs)(z.a,{maxWidth:"sm",sx:{m:"auto",p:8},children:[Object(x.jsx)(z.a,{sx:{mb:4,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(x.jsx)("img",{src:"data:image/png;base64,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",className:"section-icon",alt:"app icon"})}),Object(x.jsx)(H.a,{component:"h2",variant:"h4",align:"center",color:"text.primary",children:"What is Galactic Endeavor?"}),Object(x.jsxs)(H.a,{variant:"h6",align:"center",sx:{mt:5},children:[Object(x.jsx)("strong",{children:"Galactic Endeavor"})," is a space-based RTS where you must lead your faction to victory by exploring and colonizing the star system."]})]})}),Object(x.jsx)(N.a,{}),Object(x.jsx)(Q.a,{maxWidth:!1,align:"center",className:"bg-3",children:Object(x.jsxs)(z.a,{maxWidth:"md",sx:{margin:"auto",p:10},children:[Object(x.jsx)(z.a,{sx:{mb:4,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(x.jsx)("img",{src:K,className:"section-icon",alt:"planet"})}),Object(x.jsx)(H.a,{component:"h4",variant:"h4",color:"text.primary",gutterBottom:!0,sx:{mb:8},children:"Current Features"}),Object(x.jsxs)(D.a,{container:!0,spacing:5,wrap:"wrap",sx:{mb:5},children:[Object(x.jsxs)(D.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(H.a,{component:"h5",variant:"h5",children:"Explore new worlds"}),Object(x.jsx)(H.a,{component:"p",children:"Discover new planets, colonize them, and extract resources"})]}),Object(x.jsxs)(D.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(H.a,{component:"h5",variant:"h5",children:"Resource Management"}),Object(x.jsx)(H.a,{component:"p",children:"Gather and balance resources to fuel your fleet"})]}),Object(x.jsxs)(D.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(H.a,{component:"h5",variant:"h5",children:"Alien Artifacts"}),Object(x.jsx)(H.a,{component:"p",children:"Discover alien artifacts scattered amongst the stars"})]}),Object(x.jsxs)(D.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(H.a,{component:"h5",variant:"h5",children:"Enemy Faction"}),Object(x.jsx)(H.a,{component:"p",children:"Fend off the enemy and conquer hostile worlds"})]}),Object(x.jsxs)(D.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(H.a,{component:"h5",variant:"h5",children:"Starships"}),Object(x.jsx)(H.a,{component:"p",children:"Build and rank up starships to engage the enemy"})]}),Object(x.jsxs)(D.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(H.a,{component:"h5",variant:"h5",children:"Satellites"}),Object(x.jsx)(H.a,{component:"p",children:"Construct satellites to defend your colonies"})]})]})]})})]})}),ii=(i(127),function(){var e=k();return e&&e.careerStats?Object(x.jsxs)(E,{className:"achievements",children:[Object(x.jsx)("h1",{children:"Achievements"}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col col-25",children:Object(x.jsx)("h2",{children:"Score"})}),Object(x.jsx)("div",{className:"col col-75 text-align-right",children:Object(x.jsx)("h2",{children:e.careerStats.score.toLocaleString()})})]}),Object(x.jsx)("table",{children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Victories"}),Object(x.jsx)("td",{className:"text-align-right",children:e.careerStats.victories})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Losses"}),Object(x.jsx)("td",{className:"text-align-right",children:e.careerStats.losses})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Artifacts Collected"}),Object(x.jsx)("td",{className:"text-align-right",children:e.careerStats.artifactsCollected})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Planets Colonized"}),Object(x.jsx)("td",{className:"text-align-right",children:e.careerStats.planetsColonized})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Planets Conquered"}),Object(x.jsx)("td",{className:"text-align-right",children:e.careerStats.planetsConquered})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Planets Lost"}),Object(x.jsx)("td",{className:"text-align-right",children:e.careerStats.planetsLost})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Ships Built"}),Object(x.jsx)("td",{className:"text-align-right",children:e.careerStats.shipsBuilt})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Ships Destroyed"}),Object(x.jsx)("td",{className:"text-align-right",children:e.careerStats.shipsDestroyed})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Ships Lost"}),Object(x.jsx)("td",{className:"text-align-right",children:e.careerStats.shipsLost})]})]})}),Object(x.jsx)(v.a,{className:"button-1",to:"starbase",children:"Back"})]}):null}),ni=function(){return Object(x.jsx)(E,{children:Object(x.jsx)("h1",{children:"404"})})},si=(i(128),function(){var e=k(),t=Object(n.useContext)(ai),i=t.setGameLoadingPercent,s=t.togglePaused;return Object(x.jsxs)(E,{className:"home",children:[Object(x.jsx)(v.a,{className:"button-1",to:"configure",children:"New Mission"}),e&&e.entities&&Object.keys(e.entities).length?Object(x.jsx)(v.a,{className:"button-1",to:"launch",onClick:function(){i(0),s(!1)},children:"Resume Mission"}):null,e&&e.careerStats&&e.careerStats.score?Object(x.jsx)(v.a,{className:"button-1",to:"achievements",children:"Achievements"}):null]})}),ai=(i(129),i(130),i(131),i(132),s.a.createContext()),oi=function(e){var t=Object(n.useState)(),i=Object(r.a)(t,2)[1],s=Object(n.useCallback)((function(){return i({})}),[]),a=Object(n.useState)(A),o=Object(r.a)(a,2),l=o[0],d=o[1],h=Object(n.useState)(!1),u=Object(r.a)(h,2),m=u[0],g=u[1],p=Object(n.useState)(!1),b=Object(r.a)(p,2),f=b[0],y=b[1],v=Object(n.useState)(!1),j=Object(r.a)(v,2),O=j[0],w=j[1],S=Object(n.useState)(null),C=Object(r.a)(S,2),B=C[0],R=C[1],M=Object(n.useState)(null),E=Object(r.a)(M,2),G=E[0],F=E[1],D=Object(n.useState)(null),N=Object(r.a)(D,2),I=N[0],z=N[1],H=Object(n.useState)({}),Q=Object(r.a)(H,2),T=Q[0],K=Q[1],L=Object(n.useState)(null),V=Object(r.a)(L,2),P=V[0],U=V[1],W=Object(n.useState)(!0),Y=Object(r.a)(W,2),J=Y[0],Z=Y[1],X=Object(n.useState)(0),q=Object(r.a)(X,2),_=q[0],$=q[1],ee=Object(n.useState)(!1),te=Object(r.a)(ee,2),ie=te[0],ne=te[1],se=Object(n.useState)(!1),ae=Object(r.a)(se,2),oe=ae[0],ce=ae[1],re=Object(n.useState)([]),le=Object(r.a)(re,2),de=le[0],he=le[1],ue=Object(n.useState)(!1),me=Object(r.a)(ue,2),ge=me[0],pe=me[1],be=Object(n.useState)(!1),fe=Object(r.a)(be,2),ye=fe[0],Ae=fe[1],ve=Object(n.useState)(!1),xe=Object(r.a)(ve,2),je=xe[0],Oe=xe[1],we=Object(n.useState)(!1),Se=Object(r.a)(we,2),Ce=Se[0],ke=Se[1];return Object(n.useEffect)((function(){var e=k();(null===e||void 0===e?void 0:e.config.isMuted)&&Ae(e.config.isMuted)}),[]),Object(n.useEffect)((function(){var e=k();e&&(A.isMuted=ye,e.config.isMuted=ye,A.scene.sound&&A.scene.sound.setMute(ye),window.localStorage.setItem(A.namespace,JSON.stringify(e)))}),[ye]),Xt=ke,Nt=G,It=T,d,Tt=g,Pt=F,Kt=y,Ut=w,Wt=z,Yt=K,Jt=U,zt=function(e){Z(e),A.isGameLoading=e},Ht=function(e){$(e)},Qt=ne,Lt=Ae,pe,Vt=function(e){ce(e),A.isSelectingShips=e},Dt=s,Ft=function(e){return e&&(e.timestamp=Date.now()),he((function(t){return e?[].concat(Object(c.a)(t),[e]):[]}))},Zt=function(e){pe(null==e?!ge:e),ge||(Oe(ye),Ae(!0)),ge&&(je||Ae(!1))},Object(x.jsx)(ai.Provider,{value:{config:l,eventLog:de,gameLoadingPercent:_,hamburgerIsOpen:Ce,isGameLoading:J,isGameOver:ie,isGameOverOverlayOpen:m,isModalOpen:O,isMuted:ye,isPaused:ge,isSelectingShips:oe,lastSelectedShipId:G,modalContentType:B,minimapOpen:f,setIsMuted:Ae,setMinimapOpen:y,selectedEntityId:I,selectedShipIds:T,selectedTowableId:P,setIsSelectingShips:ce,setGameLoading:function(e){return Z(e)},setGameLoadingPercent:$,setIsPaused:pe,setGameOver:function(e){return ne(e)},setModalContentType:function(e){R(e)},setWasMutedBeforePause:Oe,toggleGameOverOverlay:function(e){return g(null==e?!m:e)},toggleModal:function(e){return w(null==e?!O:e)},setModalOpenState:w,togglePaused:Zt,setHamburgerIsOpen:ke,wasMutedBeforePause:je},children:e.children})},ci=function(){Dt()},ri=function(){var e=Object.keys(A.entities).find((function(e){return A.entities[e].selected}));Wt(e),Ut(!1),Tt(!0),Xt(!1)},li=function(e,t){if(e&&Pt(e.id),!e&&1===Object.keys(It).length){var i=Object.keys(It).find((function(e){return e}));i!==Nt&&Pt(i)}Ut(!1),ci()},di=function(e,t){Jt(e?e.id:null),Ut(!1),ci()};d.a.initialize("UA-168702830-1");var hi=Object(h.a)();hi.listen((function(e){d.a.set({page:e.pathname}),d.a.pageview(e.pathname)}));var ui=function(){var e="/ge";return Object(x.jsx)(oi,{children:Object(x.jsxs)(u.a,{theme:g,children:[Object(x.jsx)(p.a,{}),Object(x.jsx)(l.b,{history:hi,children:Object(x.jsxs)("div",{className:"app",children:[Object(x.jsx)(l.a,{exact:!0,path:"".concat(e,"/"),component:ti}),Object(x.jsx)(l.a,{path:"".concat(e,"/configure"),component:G}),Object(x.jsx)(l.a,{path:"".concat(e,"/launch"),component:$t}),Object(x.jsx)(l.a,{path:"".concat(e,"/launch-debug"),component:$t}),Object(x.jsx)(l.a,{path:"".concat(e,"/achievements"),component:ii}),Object(x.jsx)(l.a,{path:"".concat(e,"/starbase"),component:si}),Object(x.jsx)(l.a,{path:"".concat(e,"/demo"),component:ei}),Object(x.jsx)(l.a,{path:"".concat(e,"/404"),children:Object(x.jsx)(ni,{})})]})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(x.jsx)(ui,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,i){},89:function(e,t,i){},90:function(e,t,i){},97:function(e,t,i){},98:function(e,t,i){},99:function(e,t,i){}},[[133,1,2]]]);
//# sourceMappingURL=main.502e46a7.chunk.js.map