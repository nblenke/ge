{"version":3,"sources":["components/app/theme.js","components/launch/config.js","components/radio-group/radio-group.js","components/launch/utils.js","components/launch/store.js","components/page/img/bottom.png","components/page/img/logo.png","components/page/page.js","components/configure/configure.js","components/landing/img/masthead-logo.png","components/landing/img/planet-2.png","components/landing/img/sunrise.png","components/entity/preview.js","components/modal/utils.js","components/modal/unknown-content.js","components/modal/entity-info.js","components/modal/ship-info.js","components/modal/towable-info.js","components/modal/artifacts-info.js","components/modal/atlas-list.js","components/modal/events-list.js","components/modal/fleet-list.js","components/game-over/stats.js","components/modal/resources-info.js","components/modal/score-info.js","components/launch/audio.js","components/modal/modal.js","components/event-log/event-log.js","components/ship/utils.js","components/score/score.js","components/effects/particle.js","components/effects/effects.js","components/load-splash/load-splash.js","components/nebula/nebula.js","components/blitter-star-pattern/blitter-star-pattern.js","components/game-over/overlay.js","components/ship/formation.js","components/ship/health-bar.js","components/ship/move.js","components/ship/orbit.js","components/ship/pointer-down.js","components/ship/missile.js","components/ship/shoot.js","components/game-over/utils.js","components/ship/ship.js","components/satellite/satellite.js","components/arc-timer/arc-timer.js","components/opponent/opponent.js","components/artifact/artifact.js","components/towable/towable.js","components/entity/utils.js","components/entity/entity.js","components/radial-gradient-arc/radial-gradient-arc.js","components/planet/planet.js","components/star/star.js","components/launch/dev-1.js","components/launch/dev-2.js","components/launch/dev-entities.js","components/launch/dev-artifacts.js","components/launch/dev-select-box.js","components/launch/dev-sleep.js","components/launch/dev-sound.js","components/launch/setup.js","components/launch/pointer.js","components/towable/pointer-down.js","components/minimap/minimap.js","components/launch/overlap.js","components/toolbar/cost.js","components/toolbar/toolbar-menu-item.js","components/toolbar/toolbar-menu.js","components/toolbar/build-ship-click.js","components/toolbar/colonize-click.js","components/toolbar/disband-click.js","components/toolbar/info-click.js","components/toolbar/mine-click.js","components/toolbar/img/info.png","components/toolbar/toolbar.js","components/toolbar/img/disband-white.png","components/toolbar/img/flag-white.png","components/toolbar/img/ship-white.png","components/toolbar/img/satellite-white.png","components/toolbar/img/resources-white.png","components/toolbar/img/home.png","components/toolbar/img/mute.png","components/toolbar/img/unmute.png","components/toolbar/img/feedback.png","components/toolbar/img/bars.png","components/toolbar/img/compass.png","components/toolbar/img/map-marker.png","components/toolbar/img/select-ships.png","components/toolbar/img/zoom-in.png","components/toolbar/img/zoom-out.png","components/toolbar/img/play.png","components/toolbar/img/pause.png","components/launch/debug-buttons.js","components/launch/launch.js","components/app/app.js","components/demo/demo.js","components/landing/landing.js","components/landing/img/icon.png","components/achievements/achievements.js","components/404/index.js","components/starbase/starbase.js","serviceWorker.js","index.js"],"names":["theme","createTheme","palette","mode","typography","fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","h1","h2","h3","h4","h5","components","MuiButton","variants","props","variant","style","padding","minWidth","background","color","borderRadius","fontWeight","defaultGameStats","artifactsCollected","gameId","planetsColonized","planetsConquered","planetsLost","resources","score","shipsBuilt","shipsDestroyed","shipsLost","victory","defaultDifficulty","defaultBoardSize","Config","artifacts","autoSaveInterval","boardSize","boardSizes","size1","artifactCount","blitterStarCount","boardWidth","boardHeight","planetCount","starCountMax","starCountMin","size2","size3","boardPadding","careerStats","victories","losses","colorRed","colorGreen","colorBlue","colorOrange","difficulty","difficultyLevels","difficulty1","enemyMoveInterval","enemySatelliteMax","enemyShipCount","enemyShipHealRate","enemyShipHealOrbitRate","enemyShipMax","enemyShipSpeed","enemyShipWeaponSpeed","enemyShipWeaponDamage","planetTowablePoints","planetColonizeTime","planetColonizePoints","planetConquerPoints","planetDiscoverPoints","planetMineBuildTime","planetMineBuildPoints","planetMineResourceCost","planetMineResourceRate","planetMineResourceDelay","planetResourceBonus","planetSensorRange","satelliteBuildTime","satelliteResourceCost","satelliteResourceDisbandSalvage","satelliteSensorRange","shipBuildTime","shipDestroyPoints","shipHitTowablePoints","shipProximityRange","shipResourceCost","shipResourceDisbandSalvage","shipResourceSalvage","userShipCount","difficulty2","difficulty3","enemyFactions","enemyFactionName","entities","entityPreviewHolderId","entityPlaceholderRadius","entityPlaceholderCollisonAttempts","gameStats","isGameLoading","isGameOver","isResetting","isSelectingShips","isDemo","moveLineAlpha","moveLineSelectedAlpha","moveMarkerAlpha","moveMarkerSelectedAlpha","orbitDistance","planetCollisions","planetMaxSize","planetMinSize","planetSpacing","pointAnimDelay","pointAnimDuration","satelliteMax","scene","selectedShips","selectedTowableId","shipFormations","shipMax","shipMaxHealth","shipMaxTowables","shipRanks","rank0","satelliteProximityRange","shipHealRate","shipHealOrbitRate","shipSensorRange","shipSpeed","shipWeaponSpeed","shipWeaponDamage","rank1","rank2","rank3","ships","namespace","timers","towables","userFactionName","zoomDefault","zoomDefaultTime","zoomStep","zoomMax","zoomMin","RadioGroup","items","defaultChecked","name","onChange","className","map","index","label","value","type","ev","target","isDebug","window","location","href","includes","isLaunchDev","getBoardPoints","topLeft","x","y","topCenter","topRight","centerLeft","center","centerRight","bottomRight","bottomCenter","bottomLeft","demoPan","camera","cameras","main","panTime","fightingShipUuid","Object","keys","find","key","fighting","pan","zoomTo","setTimeout","getStoredState","storedState","localStorage","getItem","JSON","parse","Promise","resolve","reject","time","Date","getTime","assign","saveGame","trigger","config","forEach","artifact","isDiscovered","isInOrbit","isBeingTowed","orbitingEntityId","orbitingEntity","id","towShipId","entity","climate","colonized","diameter","discovered","isHomePlanet","isMiningResources","faction","featureColor","featureId","fillColor","orbitingShips","ship","angle","health","rank","state","isMuted","console","log","setItem","stringify","Page","children","history","useHistory","onClick","push","src","logo","alt","bottom","Configure","useContext","AppContext","setGameLoadingPercent","setModalOpenState","setIsPaused","useState","setDifficulty","size","setSize","onSubmit","preventDefault","to","EntityPreview","isModalOpen","useEffect","oldCanvas","document","querySelector","newCanvas","createElement","context","getContext","parent","width","height","drawImage","innerHTML","appendChild","mountPreview","getFactionTextColor","headingColor","UnknownContent","EntityInfo","seconds","toFixed","process","ranks","Rank","Box","sx","ml","display","filled","m","p","opacity","ShipInfo","component","TowableInfo","towable","imgName","ArtifactsInfo","collectedArtifacts","filter","isCollected","length","AtlasList","setModalContentType","toggleGameOverOverlay","toggleModal","filtered","satellites","pad","n","EventsList","eventLog","sorted","slice","sort","a","b","timestamp","coords","html","date","hours","getHours","minutes","getMinutes","getSeconds","dangerouslySetInnerHTML","__html","FleetList","selected","GameOverStats","toLocaleString","ResourcesInfo","ScoreInfo","audio","entries","atmospheric","this","sound","play","chance","d4","volume","buttonClick","colonize","constructionComplete","disband","entitySelect","lose","mine","moveMarker","options","positive","shipDestroy","bool","shipEnterOrbit","shipSelect","shipSensor","shipShoot","tractorBeam","init","cache","win","Modal","lastSelectedShipId","modalContentType","selectedEntityId","activeTabIndex","setActiveTabIndex","selectedEntity","selectedShip","selectedTowable","handleToggleModal","buildTabClassName","stopPropagation","EventLog","setShipDestination","numShips","leavingOrbit","enteringOrbit","centeringOnPlanet","orbitGroup","remove","sprite","Matter","Sleeping","set","body","moving","destroy","matter","add","setDepth","isSensor","isStatic","isMoveMarker","shipId","setScale","setVisible","alpha","deselectAllShips","Score","handleClick","Particle","scale","scaleX","scaleY","Phaser","GameObjects","Image","Effects","blastRadius","i","floating","min","max","particle","Math","Between","existing","tweens","targets","from","ease","duration","onComplete","tween","delayIncr","radius","delay","ringGraphics","graphics","lineStyle","ringCircle","Geom","Circle","strokeCircleShape","onUpdate","clear","minRadius","maxRadius","yoyo","texture","pulse","num","imageKey","group","classType","Sprite","toString","symbol","text","fontStyle","setOrigin","setResolution","devicePixelRatio","image","make","getChildren","pointAnim","LoadSplash","hide","gameLoadingPercent","mt","Typography","textAlign","mb","LinearProgress","linearProgressClasses","colorPrimary","backgroundColor","bar","Nebula","textures","list","source","setAlpha","setStart","startOnScreen","isReversed","speed","FloatBetween","delta","TileSprite","BlitterStarPattern","count","tintCount","blitter","depth","create","bob","setTint","random","GameOverOverlay","isGameOverOverlayOpen","setMinimapOpen","Grid","container","spacing","wrap","item","xs","sm","minimap","formation","otherShip","Intersects","CircleToCircle","formationRadius","bodyA","bodyB","distance","Distance","position","constraint","healthBar","rect","healthBarRect","isDetected","setX","setY","setFillStyle","maxHealth","floor","getHealthBarColor","isUser","isEnemy","healRate","move","vector","Vector","moveVector","Body","setAngle","setVelocity","cos","sin","shipHitMoveMarker","overlap","shipX","shipY","moveMarkerX","moveMarkerY","buffer","world","orbit","orbitGraphics","detachTowables","orbitPoint","Point","Actions","RotateAroundDistance","orbitSpeed","orbitAngle","handleShipPointerDown","worldX","worldY","shipBodies","getMatterBodies","customProps","isShipBody","isFriendly","intersection","intersectPoint","handleShipClick","Missile","frame","shoot","missile","setPosition","weaponSpeed","velocityMultiplier","positionPrev","velocity","abs","damage","on","gameOverCheck","enemyPlanets","enemyShips","friendlyPlanets","friendlyShips","party","screen","minmax","spread","angularVelocity","_setGameOver","_setGameOverlayOpenState","lastSavedGameId","_addToEventLog","then","Ship","matterConfig","proximityRange","selectedTexture","sensorRange","handlePointerdown","pointerDown","guid","capitalize","pick","word","syllables","constraints","towedTowables","towLines","defaultTexture","at","setTexture","setCircle","originX","density","friction","frictionAir","restitution","sleepThreshold","shipCircle","sensorCircle","proximityCircle","weaponTargets","weaponTimer","addEvent","callback","targetKeys","loop","paused","rectangle","towLine","line","setTo","strokeLineShape","rotate","explode","victorShip","scoreAnim","resourceAnim","forceAppUpdate","removeConstraint","Satellite","enemyTextureMap","ArcTimer","hidden","lineWidth","reverse","endAngle","startAngle","promise","timedEvent","delayedCall","percentage","getProgress","beginPath","arc","DegToRad","strokePath","dispatchShips","idleShips","targetPlanets","randomPlanetKey","targetPlanet","shipKey","following","allowedShipIndex","entityKey","opposingShipsInOrbit","isColonizing","catch","e","spawnShips","enemyPlanetKeys","randomEntityKey","shipConfig","d20","enemyMove","Artifact","timedEffect","isMoving","ringGrowFade","setTintFill","isSelected","movingThreshold","frictionStatic","isTowableBody","towableId","undiscoveredImage","addConstraint","orbitingTowables","damping","Line","orbitTowable","Entity","isEnemyHomePlanet","Chance","Display","Color","circle","isEntityBody","entityId","orbitBody","isOrbitBody","labelWidth","align","fixedWidth","statusLabel","labelsHidden","Cameras","Scene2D","Events","ZOOM_COMPLETE","zoom","destination","orbitRing","sensorGraphics","hasOrbitingTowables","hasDetectedOrbitingShips","hasFriendlyOrbitingShips","hasEnemyOrbitingShips","RadialGradientArc","innerColor","middleColor","outerColor","textureName","startX","startY","canvas","ctx","radialGradient","createRadialGradient","addColorStop","fillStyle","PI","fill","addCanvas","Planet","climateMap","cold","hue","integer","gas","hot","ice","moderate","warm","tinycolor","brighten","toHex","fillColorHex","replace","fillColorLight","fillColorDark","darken","isBuildingShip","isBuildingSatellite","isBuildingMine","iconRowY","iconDepth","enemyFlagTextureMap","flag","getFlagTexture","homeSprite","resourcesSprite","gradientArc","planetOverlay","generateFeatureColor","planetFeature","selectionGraphics","fillCircleShape","flagTexture","colors","tetrad","t","toHexString","chosen","complementColor","ValueToColor","blue","green","red","RGBToString","Star","sizeMap","randDiameter","starImage","dev1","homePlanet","enemyPlanet","enemyPlanet2","planet","dev2","longPressArc","input","activePointer","devEntities","setViewport","setZoom","centerOn","createColorsFromClimate","range","swatchRow1X","swatchRow1Y","g","s","Rectangle","fillRectShape","setInteractive","showPlanetDetails","createSwatch","r","devArtifacts","userShipSpeed","devSelectBox","shipY1","shipY2","draw","pointer","_setIsSelectingShips","endX","endY","strokeRectShape","shipRect","GetRectangleIntersection","devSleep","devSound","_setIsMuted","SoundButton","button","createEntityPreview","img","addEventListener","imgCanvas","imgCtx","globalCompositeOperation","fillRect","imgX","imgY","imgDiameter","featureImg","glossImg","generateEntityPreviews","promises","all","getStartZones","zones","addMultiple","userStartZoneIndex","userStartZone","enemyStartZone","data","zone","getEntityPositions","nonPlanetCount","startZones","placeholders","Placeholder","startCoords","randomCoords","setText","Graphics","placeholderCollisions","placeholderCount","startZoneCount","placeholderAttempts","placeholderCollisionTimer","setInterval","aKey","bKey","reposition","clearInterval","entityPositions","defaultScene","stored","startingPlanet","artifactKey","buildSceneFromStore","manualInsertIndex","assigned","demoScene","conflict0","addEnemy","chooseScene","scenes","RegExp","test","bindScenePointerEvents","parallaxStars1","parallaxStars2","towableBodies","undiscoveredIntersection","intersectRect","undiscoveredClickArea","actualIntersection","actualClickArea","handleTowableClick","handleTowablePointerDown","_setLastSelectedShipId","bindShipSelectPointerEvents","lastPinchZoom","moveBoundaryPadding","plugins","get","dragScale","_setHamburgerIsOpen","drag1Vector","scrollX","scrollY","worldView","_bounds","pinch","scaleFactor","Minimap","active","miniRect","miniBoardSizeMap","origin","setName","setBackgroundColor","_setMinimapOpen","pointerRect","handleOverlap","shipInSensorRange","otherShipKey","otherShipInSensorRange","otherShipInProximityRange","soundTriggers","shipSensorWarnSound","setAwake","minDistance","bodies","entityOrbitBodies","moveMarkerBodies","moveMarkerBody","shipBody","towableBody","Cost","amount","ToolbarMenuItem","disabled","iconClassName","classnames","ToolbarMenu","handleBuildShipClick","isSatellite","resourceCost","handleColonizeClick","conquering","handleDisbandClick","shipNamesArr","salvage","shipNames","join","handleInfoClick","camTarget","modalType","selectedShipIds","cam","deselect","handleMineClick","Toolbar","hamburgerIsOpen","isPaused","minimapOpen","setHamburgerIsOpen","setIsMuted","togglePaused","satelliteCount","setSatelliteCount","shipIsSelected","towableIsSelected","entityIsSelected","genericBtnAction","args","closeMinimap","isFriendlyPlanet","hasFriendlyOrbitingShip","hasEnemyOrbitingShip","showInfoButton","showColonizeButton","showMineResourcesButton","showBuildShipButton","showDisbandButton","satelliteButtonDisabled","infoClick","infoImg","open","show","game","pause","resume","DebugButtons","simulateVictory","simulateLoss","onbeforeunload","_togglePaused","_forceUpdate","_lastSelectedShipId","_selectedShipIds","_setGameLoading","_setGameLoadingPercent","_setModalOpenState","_setSelectedEntityId","_setSelectedShipIds","_setSelectedTowableId","destroyGame","sys","initGame","preload","load","round","plugin","update30Hz","engine","gravity","debugConfig","showSleeping","grid","bucketHeight","bucketWidth","setMute","setBounds","boardRect","boardGraphics","parallaxStarsWidth","parallaxStarsHeight","orientation","o","gameSize","baseSize","displaySize","previousWidth","previousHeight","innerWidth","innerHeight","resize","cameraX","cameraY","update","Game","transparent","pixelArt","clearBeforeRender","physics","default","debug","debugShowBody","debugShowVelocity","debugShowStaticBody","debugShowSleeping","debugWireframes","constraintIterations","positionIterations","velocityIterations","enableSleeping","Launch","onPointerUp","handleBoardClick","Demo","loading","setLoading","ready","Landing","Container","maxWidth","alignItems","justifyContent","mastheadLogo","onLoad","classList","pt","md","pb","overflow","zIndex","Stack","direction","Button","top","left","right","Divider","margin","planet2","gutterBottom","Achievements","NotFound","Starbase","React","createContext","AppProvider","updateState","forceUpdate","useCallback","setConfig","gameOverOverlayOpenState","setGameOverOverlayOpenState","modalOpenState","setLastSelectedShipId","setSelectedEntityId","setSelectedShipIds","setSelectedTowableId","setGameLoading","setGameOver","setIsSelectingShips","addToEventLog","wasMutedBeforePause","setWasMutedBeforePause","store","newValue","now","prevArray","Provider","close","selectedShipId","ReactGA","initialize","createBrowserHistory","listen","page","pathname","pageview","App","folder","ThemeProvider","CssBaseline","exact","path","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.502e46a7.chunk.js","sourcesContent":["import {createTheme} from '@mui/material/styles'\n\nconst theme = createTheme({\n    palette: {\n        mode: 'dark',\n    },\n    typography: {\n        fontFamily: `\"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\n        fontSize: 14,\n        fontWeightLight: 300,\n        fontWeightRegular: 400,\n        fontWeightMedium: 500,\n        h1: {\n            fontFamily: `\"Nunito\", \"Helvetica\", \"Arial\", sans-serif`,\n        },\n        h2: {\n            fontFamily: `\"Nunito\", \"Helvetica\", \"Arial\", sans-serif`,\n        },\n        h3: {\n            fontFamily: `\"Nunito\", \"Helvetica\", \"Arial\", sans-serif`,\n        },\n        h4: {\n            fontFamily: `\"Nunito\", \"Helvetica\", \"Arial\", sans-serif`,\n        },\n        h5: {\n            fontFamily: `\"Nunito\", \"Helvetica\", \"Arial\", sans-serif`,\n        },\n    },\n    components: {\n        MuiButton: {\n            variants: [\n                {\n                    props: {variant: 'contained-1'},\n                    style: {\n                        fontFamily: `\"Nunito\", \"Helvetica\", \"Arial\", sans-serif`,\n                        padding: '10px 50px',\n                        minWidth: '140px',\n                        background: '#490ec0',\n                        color: '#fff',\n                        borderRadius: '20px',\n                        fontWeight: 'bold',\n                    },\n                },\n                {\n                    props: {variant: 'contained-2'},\n                    style: {\n                        fontFamily: `\"Nunito\", \"Helvetica\", \"Arial\", sans-serif`,\n                        padding: '10px 50px',\n                        minWidth: '140px',\n                        background: '#f9188d',\n                        color: '#fff',\n                        borderRadius: '20px',\n                        fontWeight: 'bold',\n                    },\n                },\n            ],\n        },\n    },\n})\n\nexport default theme\n","export const defaultGameStats = {\n    artifactsCollected: 0,\n    gameId: null,\n    planetsColonized: 0,\n    planetsConquered: 0,\n    planetsLost: 0,\n    resources: 0,\n    score: 0,\n    shipsBuilt: 0,\n    shipsDestroyed: 0,\n    shipsLost: 0,\n    victory: false,\n}\nexport const defaultDifficulty = 'difficulty2'\nexport const defaultBoardSize = 'size2'\n\nconst Config = {\n    artifacts: {},\n    autoSaveInterval: 10000,\n    boardSize: defaultBoardSize,\n    boardSizes: {\n        size1: {\n            artifactCount: 3,\n            blitterStarCount: 2000,\n            boardWidth: 1100,\n            boardHeight: 1100,\n            planetCount: 9,\n            starCountMax: 2,\n            starCountMin: 1,\n        },\n        size2: {\n            artifactCount: 4,\n            blitterStarCount: 3200,\n            boardWidth: 1300,\n            boardHeight: 1300,\n            planetCount: 12,\n            starCountMax: 2,\n            starCountMin: 1,\n        },\n        size3: {\n            artifactCount: 5,\n            blitterStarCount: 3400,\n            boardWidth: 1500,\n            boardHeight: 1500,\n            planetCount: 15,\n            starCountMax: 3,\n            starCountMin: 1,\n        },\n        // size4: {\n        //     artifactCount: 5,\n        //     blitterStarCount: 3600,\n        //     boardWidth: 1700,\n        //     boardHeight: 1700,\n        //     planetCount: 20,\n        //     starCountMax: 4,\n        //     starCountMin: 1,\n        // },\n    },\n    boardPadding: 200,\n    careerStats: {\n        artifactsCollected: 0,\n        planetsColonized: 0,\n        planetsConquered: 0,\n        planetsLost: 0,\n        score: 0,\n        shipsBuilt: 0,\n        shipsDestroyed: 0,\n        shipsLost: 0,\n        victories: 0,\n        losses: 0,\n    },\n    colorRed: 'ca242f',\n    colorGreen: '77cf0f',\n    colorBlue: '00aeef',\n    colorOrange: 'ffbe0b',\n    difficulty: defaultDifficulty,\n    difficultyLevels: {\n        difficulty1: {\n            enemyMoveInterval: 10000,\n            enemySatelliteMax: 1,\n            enemyShipCount: 1,\n            enemyShipHealRate: 0.03,\n            enemyShipHealOrbitRate: 0.04,\n            enemyShipMax: 8,\n            enemyShipSpeed: 0.5,\n            enemyShipWeaponSpeed: 500,\n            enemyShipWeaponDamage: [1, 2, 3, 4],\n            planetTowablePoints: 50,\n            planetColonizeTime: 5000,\n            planetColonizePoints: 15,\n            planetConquerPoints: 25,\n            planetDiscoverPoints: 5,\n            planetMineBuildTime: 5000,\n            planetMineBuildPoints: 15,\n            planetMineResourceCost: 50,\n            planetMineResourceRate: 5,\n            planetMineResourceDelay: 10000,\n            planetResourceBonus: 50,\n            planetSensorRange: 200,\n            resources: 600,\n            satelliteBuildTime: 2000,\n            satelliteResourceCost: 50,\n            satelliteResourceDisbandSalvage: 40,\n            satelliteSensorRange: 200,\n            shipBuildTime: 4000,\n            shipDestroyPoints: 20,\n            shipHitTowablePoints: 20,\n            shipProximityRange: 90,\n            shipResourceCost: 100,\n            shipResourceDisbandSalvage: 90,\n            shipResourceSalvage: 25,\n            userShipCount: 3,\n        },\n        difficulty2: {\n            enemyMoveInterval: 8000,\n            enemySatelliteMax: 1,\n            enemyShipCount: 3,\n            enemyShipHealRate: 0.03,\n            enemyShipHealOrbitRate: 0.04,\n            enemyShipMax: 9,\n            enemyShipSpeed: 0.55,\n            enemyShipWeaponSpeed: 500,\n            enemyShipWeaponDamage: [1, 2, 3, 4],\n            planetTowablePoints: 55,\n            planetColonizeTime: 6000,\n            planetColonizePoints: 20,\n            planetConquerPoints: 30,\n            planetDiscoverPoints: 10,\n            planetMineBuildTime: 6000,\n            planetMineBuildPoints: 20,\n            planetMineResourceCost: 50,\n            planetMineResourceRate: 5,\n            planetMineResourceDelay: 15000,\n            planetResourceBonus: 50,\n            planetSensorRange: 200,\n            resources: 400,\n            satelliteBuildTime: 2500,\n            satelliteResourceCost: 50,\n            satelliteResourceDisbandSalvage: 35,\n            satelliteSensorRange: 200,\n            shipBuildTime: 5000,\n            shipDestroyPoints: 25,\n            shipHitTowablePoints: 25,\n            shipProximityRange: 90,\n            shipResourceCost: 100,\n            shipResourceDisbandSalvage: 85,\n            shipResourceSalvage: 25,\n            userShipCount: 2,\n        },\n        difficulty3: {\n            enemyMoveInterval: 5000,\n            enemySatelliteMax: 1,\n            enemyShipCount: 6,\n            enemyShipHealRate: 0.03,\n            enemyShipHealOrbitRate: 0.04,\n            enemyShipMax: 10,\n            enemyShipSpeed: 0.6,\n            enemyShipWeaponSpeed: 500,\n            enemyShipWeaponDamage: [1, 2, 3, 4],\n            planetTowablePoints: 60,\n            planetColonizeTime: 7000,\n            planetColonizePoints: 25,\n            planetConquerPoints: 35,\n            planetDiscoverPoints: 15,\n            planetMineBuildTime: 7000,\n            planetMineBuildPoints: 25,\n            planetMineResourceCost: 50,\n            planetMineResourceRate: 5,\n            planetMineResourceDelay: 15000,\n            planetResourceBonus: 50,\n            planetSensorRange: 280,\n            resources: 200,\n            satelliteBuildTime: 3000,\n            satelliteResourceCost: 50,\n            satelliteResourceDisbandSalvage: 30,\n            satelliteSensorRange: 200,\n            shipBuildTime: 6000,\n            shipDestroyPoints: 30,\n            shipHitTowablePoints: 30,\n            shipProximityRange: 90,\n            shipResourceCost: 100,\n            shipResourceDisbandSalvage: 80,\n            shipResourceSalvage: 25,\n            userShipCount: 1,\n        },\n    },\n    enemyFactions: [],\n    enemyFactionName: 'opfor',\n    entities: {},\n    entityPreviewHolderId: 'entity-preview-holder',\n    entityPlaceholderRadius: 70,\n    entityPlaceholderCollisonAttempts: 50,\n    gameStats: defaultGameStats,\n    isGameLoading: false,\n    isGameOver: false,\n    isResetting: false,\n    isSelectingShips: false,\n    isDemo: false,\n    moveLineAlpha: 0.5,\n    moveLineSelectedAlpha: 0.7,\n    moveMarkerAlpha: 0.8,\n    moveMarkerSelectedAlpha: 1,\n    orbitDistance: 50,\n    planetCollisions: {},\n    planetMaxSize: 15,\n    planetMinSize: 8,\n    planetSpacing: 80,\n    pointAnimDelay: 600,\n    pointAnimDuration: 1500,\n    satelliteMax: 1,\n    scene: {},\n    selectedShips: {},\n    selectedTowableId: null,\n    shipFormations: {},\n    shipMax: 10,\n    shipMaxHealth: 100,\n    shipMaxTowables: 99,\n    shipRanks: {\n        rank0: {\n            satelliteProximityRange: 95,\n            shipHealRate: 0.03,\n            shipHealOrbitRate: 0.06,\n            shipProximityRange: 90,\n            shipSensorRange: 200,\n            shipSpeed: 0.7,\n            shipWeaponSpeed: 500,\n            shipWeaponDamage: [1, 2, 3, 4],\n        },\n        rank1: {\n            satelliteProximityRange: 97,\n            shipHealRate: 0.032,\n            shipHealOrbitRate: 0.062,\n            shipProximityRange: 92,\n            shipSensorRange: 205,\n            shipSpeed: 0.72,\n            shipWeaponSpeed: 495,\n            shipWeaponDamage: [2, 3, 4, 5],\n        },\n        rank2: {\n            satelliteProximityRange: 100,\n            shipHealRate: 0.034,\n            shipHealOrbitRate: 0.064,\n            shipProximityRange: 95,\n            shipSensorRange: 210,\n            shipSpeed: 0.74,\n            shipWeaponSpeed: 490,\n            shipWeaponDamage: [3, 4, 5, 6],\n        },\n        rank3: {\n            satelliteProximityRange: 105,\n            shipHealRate: 0.04,\n            shipHealOrbitRate: 0.07,\n            shipProximityRange: 100,\n            shipSensorRange: 215,\n            shipSpeed: 0.76,\n            shipWeaponSpeed: 485,\n            shipWeaponDamage: [4, 5, 6, 7],\n        },\n    },\n    ships: {},\n    namespace: '_ge',\n    timers: {},\n    towables: {},\n    userFactionName: 'user',\n    zoomDefault: 1.25,\n    zoomDefaultTime: 1000,\n    zoomStep: 0.25,\n    zoomMax: 2,\n    zoomMin: 0.6,\n}\n\nexport default Config\n","import React from 'react'\n\nimport './radio-group.css'\n\nconst RadioGroup = ({items, defaultChecked, name, onChange}) => {\n    return (\n        <div className=\"radio-group\">\n            {items.map(({label, value}, index) => (\n                <div key={`${name}-${index}`} className=\"radio-group__item\">\n                    <label className=\"radio-group__label\">\n                        <input\n                            className=\"radio-group__input\"\n                            type=\"radio\"\n                            name={name}\n                            value={value}\n                            defaultChecked={value === defaultChecked}\n                            onChange={(ev) => onChange(ev.target.value)}\n                        />\n                        <div className=\"radio-group__input-label\">{label}</div>\n                    </label>\n                </div>\n            ))}\n        </div>\n    )\n}\n\nexport default RadioGroup\n","import Config from './config'\n\nexport const isDebug = window.location.href.includes('debug')\nexport const isLaunchDev = window.location.href.includes('launch?dev')\nexport const isLaunchDevArtifacts = window.location.href.includes(\n    'launch?devArtifacts'\n)\nexport const getBoardPoints = (boardSize) => {\n    return {\n        topLeft: {\n            x: 0,\n            y: 0,\n        },\n        topCenter: {\n            x: boardSize.boardWidth / 2,\n            y: 0,\n        },\n        topRight: {\n            x: boardSize.boardWidth,\n            y: 0,\n        },\n        centerLeft: {\n            x: 0,\n            y: boardSize.boardHeight / 2,\n        },\n        center: {\n            x: boardSize.boardWidth / 2,\n            y: boardSize.boardHeight / 2,\n        },\n        centerRight: {\n            x: boardSize.boardWidth,\n            y: boardSize.boardHeight / 2,\n        },\n        bottomRight: {\n            x: boardSize.boardWidth,\n            y: boardSize.boardHeight,\n        },\n        bottomCenter: {\n            x: boardSize.boardWidth / 2,\n            y: boardSize.boardHeight,\n        },\n        bottomLeft: {\n            x: 0,\n            y: boardSize.boardHeight,\n        },\n    }\n}\n\nexport const demoPan = () => {\n    const camera = Config.scene.cameras.main\n    const panTime = 10000\n    const fightingShipUuid = Object.keys(Config.ships).find(\n        (key) => Config.ships[key].fighting\n    )\n\n    if (fightingShipUuid) {\n        const {x, y} = Config.ships[fightingShipUuid]\n        camera.pan(x, y, panTime, 'Linear', false)\n        camera.zoomTo(1.2, panTime)\n\n        setTimeout(() => {\n            camera.zoomTo(0.9, panTime)\n        }, panTime)\n    }\n}\n","import Config, {defaultGameStats} from './config'\nimport {isLaunchDev} from './utils'\nimport {isDebug} from '../launch/utils'\n\nexport const resetGameStore = () => {\n    return new Promise((resolve, reject) => {\n        // Assign id to game to be compared in game over check\n        const time = new Date().getTime()\n        defaultGameStats.gameId = time\n\n        Config.artifacts = {}\n        Config.entities = {}\n        Config.gameStats = Object.assign({}, defaultGameStats)\n        Config.ships = {}\n        return resolve()\n    })\n}\n\nexport const getStoredState = () => {\n    let storedState = window.localStorage.getItem(Config.namespace)\n    storedState = storedState ? JSON.parse(storedState) : null\n\n    // Resetting the game\n    if (Config.isResetting) {\n        Config.isResetting = false\n\n        resetGameStore()\n\n        return {\n            careerStats: storedState\n                ? storedState.careerStats\n                : Config.careerStats,\n            gameStats: Object.assign({}, defaultGameStats),\n            isResetting: true,\n        }\n    }\n\n    return storedState\n}\n\nexport const saveGame = (trigger) => {\n    return new Promise((resolve, reject) => {\n        if (isLaunchDev || Config.isDemo) {\n            return\n        }\n\n        const config = Config\n        const artifacts = {}\n        const entities = {}\n        const ships = {}\n\n        // Select which artifact props we want to store\n        Object.keys(config.artifacts).forEach((key) => {\n            const artifact = Object.assign({}, config.artifacts[key])\n\n            artifacts[key] = {\n                isDiscovered: artifact.isDiscovered,\n                isInOrbit: artifact.isInOrbit,\n                isBeingTowed: artifact.isBeingTowed,\n                orbitingEntityId: artifact.orbitingEntity?.id,\n                towShipId: artifact.towShipId,\n                x: artifact.x,\n                y: artifact.y,\n            }\n        })\n\n        // Select which entity props we want to store\n        Object.keys(config.entities).forEach((key) => {\n            const entity = Object.assign({}, config.entities[key])\n\n            entities[key] = {\n                climate: entity.climate,\n                colonized: entity.colonized,\n                diameter: entity.diameter,\n                discovered: entity.discovered,\n                isHomePlanet: entity.isHomePlanet,\n                isMiningResources: entity.isMiningResources,\n                faction: entity.faction,\n                featureColor: entity.featureColor,\n                featureId: entity.featureId,\n                fillColor: entity.fillColor,\n                name: entity.name,\n                orbitingShips: entity.orbitingShips,\n                type: entity.type,\n                x: entity.x,\n                y: entity.y,\n            }\n        })\n\n        // Select which ship props we want to store\n        Object.keys(config.ships).forEach((key) => {\n            const ship = Object.assign({}, config.ships[key])\n\n            ships[key] = {\n                angle: ship.angle,\n                faction: ship.faction,\n                health: ship.health,\n                id: ship.id,\n                name: ship.name,\n                orbitingEntityId: ship.orbitingEntity\n                    ? ship.orbitingEntity.id\n                    : null,\n                rank: ship.rank,\n                type: ship.type,\n                x: ship.x,\n                y: ship.y,\n            }\n        })\n\n        const state = {\n            artifacts,\n            careerStats: config.careerStats,\n            config: {\n                boardSize: config.boardSize,\n                difficulty: config.difficulty,\n                isMuted: config.isMuted,\n            },\n            entities,\n            gameStats: config.gameStats,\n            ships,\n        }\n\n        isDebug && console.log('Saving...', trigger)\n\n        window.localStorage.setItem(config.namespace, JSON.stringify(state))\n\n        return resolve()\n    })\n}\n\nexport const addGameStatsToCareer = () => {\n    return new Promise((resolve, reject) => {\n        const {gameStats} = Config\n\n        if (gameStats.victory) {\n            Config.careerStats.victories += 1\n        } else {\n            Config.careerStats.losses += 1\n        }\n\n        Config.careerStats.artifactsCollected += gameStats.artifactsCollected\n        Config.careerStats.planetsColonized += gameStats.planetsColonized\n        Config.careerStats.planetsConquered += gameStats.planetsConquered\n        Config.careerStats.planetsLost += gameStats.planetsLost\n        Config.careerStats.score += gameStats.score\n        Config.careerStats.shipsBuilt += gameStats.shipsBuilt\n        Config.careerStats.shipsDestroyed += gameStats.shipsDestroyed\n        Config.careerStats.shipsLost += gameStats.shipsLost\n\n        isDebug &&\n            console.log('addGameStatsToCareer', gameStats, Config.careerStats)\n\n        return resolve()\n    })\n}\n","export default __webpack_public_path__ + \"static/media/bottom.d101fe30.png\";","export default __webpack_public_path__ + \"static/media/logo.9382a034.png\";","import React from 'react'\nimport {useHistory} from 'react-router-dom'\n\nimport bottom from './img/bottom.png'\nimport logo from './img/logo.png'\n\nimport './page.css'\n\nconst Page = ({children, className = ''}) => {\n    const history = useHistory()\n\n    return (\n        <div className={`page ${className}`}>\n            <div\n                className=\"page__logo\"\n                onClick={() => {\n                    history.push('/ge/')\n                }}\n            >\n                <img className=\"page__logo_img\" src={logo} alt=\"logo\" />\n            </div>\n            <div className=\"page__content\">{children}</div>\n            <div className=\"page__bg--top\" />\n            <div className=\"page__bg--bottom\">\n                <img src={bottom} alt=\"moon\" className=\"page__bg--bottom_img\" />\n            </div>\n        </div>\n    )\n}\n\nexport default Page\n","import React, {useContext, useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useHistory} from 'react-router-dom'\nimport {AppContext} from '../app/app'\n\nimport RadioGroup from '../radio-group/radio-group'\nimport Config, {defaultBoardSize, defaultDifficulty} from '../launch/config'\nimport {saveGame} from '../launch/store'\n\nimport './configure.css'\nimport Page from '../page/page'\n\nconst Configure = () => {\n    const {setGameLoadingPercent, setModalOpenState, setIsPaused} = useContext(\n        AppContext\n    )\n    const history = useHistory()\n    const [difficulty, setDifficulty] = useState(defaultDifficulty)\n    const [size, setSize] = useState(defaultBoardSize)\n    const handleSubmit = (ev) => {\n        ev.preventDefault()\n\n        setGameLoadingPercent(0)\n        setModalOpenState(false)\n        setIsPaused(false)\n        Config.isResetting = true\n        Config.difficulty = difficulty\n        Config.boardSize = size\n        Config.selectedShips = {}\n        Config.isGameOver = false\n\n        saveGame('configure')\n        history.push('launch')\n    }\n\n    return (\n        <Page className=\"configure\">\n            <h1>Mission Settings</h1>\n\n            <form onSubmit={handleSubmit}>\n                <h3 className=\"configure__sub-heading\">Difficulty</h3>\n\n                <RadioGroup\n                    items={[\n                        {\n                            label: 'Easy',\n                            value: 'difficulty1',\n                        },\n                        {\n                            label: 'Normal',\n                            value: 'difficulty2',\n                        },\n                        {\n                            label: 'Hard',\n                            value: 'difficulty3',\n                        },\n                    ]}\n                    defaultChecked={defaultDifficulty}\n                    name=\"difficulty\"\n                    onChange={(value) => setDifficulty(value)}\n                />\n\n                <h3 className=\"configure__sub-heading\">Map Size</h3>\n\n                <RadioGroup\n                    items={[\n                        {\n                            label: 'Small',\n                            value: 'size1',\n                        },\n                        {\n                            label: 'Medium',\n                            value: 'size2',\n                        },\n                        {\n                            label: 'Large',\n                            value: 'size3',\n                        },\n                    ]}\n                    defaultChecked={defaultBoardSize}\n                    name=\"size\"\n                    onChange={(value) => setSize(value)}\n                />\n\n                <br />\n\n                <button type=\"submit\" className=\"button-1\">\n                    Launch\n                </button>\n\n                <Link to=\"starbase\" className=\"button-1 button-1--alt\">\n                    Back\n                </Link>\n            </form>\n        </Page>\n    )\n}\n\nexport default Configure\n","export default __webpack_public_path__ + \"static/media/masthead-logo.af3e9d20.png\";","export default __webpack_public_path__ + \"static/media/planet-2.0ada9ece.png\";","export default __webpack_public_path__ + \"static/media/sunrise.1a806da2.png\";","import React, {useEffect} from 'react'\n\nconst mountPreview = ({id}) => {\n    const oldCanvas = document.querySelector(`#entity-preview-${id}`)\n    const newCanvas = document.createElement('canvas')\n    const context = newCanvas.getContext('2d')\n    const parent = document.querySelector(`#entity-preview-display-${id}`)\n\n    newCanvas.width = oldCanvas.width\n    newCanvas.height = oldCanvas.height\n\n    context.drawImage(oldCanvas, 0, 0)\n\n    parent.innerHTML = ''\n    parent.appendChild(newCanvas)\n}\n\nconst EntityPreview = ({entity, isModalOpen}) => {\n    useEffect(() => {\n        if (isModalOpen) {\n            mountPreview(entity)\n        }\n    }, [entity, isModalOpen])\n\n    return <div id={`entity-preview-display-${entity.id}`} />\n}\n\nexport default EntityPreview\n","import Config from '../launch/config'\n\nexport const getFactionTextColor = (faction) => {\n    let headingColor = 'ffffff'\n\n    if (faction === Config.userFactionName) {\n        headingColor = Config.colorGreen\n    }\n\n    if (faction === Config.enemyFactionName) {\n        headingColor = Config.colorRed\n    }\n\n    return headingColor\n}\n","import React from 'react'\n\nconst UnknownContent = () => {\n    return (\n        <div>\n            <h1 className=\"modal-heading\">Unknown</h1>\n            <p>\n                Scanners have detected that there's something here. We'll need\n                to dispatch a ship to find out more.\n            </p>\n        </div>\n    )\n}\n\nexport default UnknownContent\n","import React, {Fragment} from 'react'\nimport Config from '../launch/config'\nimport EntityPreview from '../entity/preview'\nimport {getFactionTextColor} from './utils'\nimport UnknownContent from './unknown-content'\n\nimport './css/entity-info.css'\n\nconst EntityInfo = ({entity, isModalOpen}) => {\n    const {\n        colonized,\n        discovered,\n        faction,\n        isHomePlanet,\n        isMiningResources,\n        name,\n        type,\n    } = entity\n    const difficulty = Config.difficultyLevels[Config.difficulty]\n    const seconds = (\n        (difficulty.planetMineResourceDelay % 60000) /\n        1000\n    ).toFixed(0)\n\n    if (!discovered) {\n        return <UnknownContent />\n    }\n\n    return (\n        <Fragment>\n            <div className=\"entity-info__preview\">\n                <EntityPreview entity={entity} isModalOpen={isModalOpen} />\n            </div>\n            <div className=\"entity-info__description\">\n                <h1 className=\"modal-heading\">\n                    {isHomePlanet && (\n                        <Fragment>\n                            <img\n                                alt=\"home\"\n                                src={`${process.env.PUBLIC_URL}/img/home-green.png`}\n                                style={{height: '16px'}}\n                            />{' '}\n                        </Fragment>\n                    )}\n                    <span style={{color: `#${getFactionTextColor(faction)}`}}>\n                        {name}\n                    </span>{' '}\n                    <span className=\"modal-value\">({type})</span>\n                </h1>\n\n                {colonized && faction === Config.userFactionName && (\n                    <p style={{color: `#${Config.colorGreen}`}}>\n                        {isHomePlanet ? 'Home' : 'Colonized'}\n                    </p>\n                )}\n                {isMiningResources && (\n                    <p>\n                        This {type} is currently producing{' '}\n                        <img\n                            alt=\"resources\"\n                            className=\"modal-inline-img\"\n                            src={`${process.env.PUBLIC_URL}/img/resources-green.png`}\n                        />\n                        <span style={{color: `#${Config.colorGreen}`}}>\n                            {difficulty.planetMineResourceRate}\n                        </span>{' '}\n                        every {seconds} seconds\n                    </p>\n                )}\n            </div>\n        </Fragment>\n    )\n}\n\nexport default EntityInfo\n","import React from 'react'\nimport Config from '../launch/config'\nimport Box from '@mui/material/Box'\n\nconst ranks = {\n    0: 'Cadet',\n    1: 'Ensign',\n    2: 'Commander',\n    3: 'Captain',\n}\n\nconst Rank = ({rank}) => {\n    return (\n        <Box sx={{ml: 1, display: 'flex'}}>\n            {Object.keys(ranks).map((key, index) => {\n                const filled = key <= rank\n                return (\n                    <Box\n                        sx={{\n                            m: '2px',\n                            p: 1,\n                            background: '#490ec0',\n                            borderRadius: 1,\n                            fontSize: 10,\n                            opacity: filled ? 1 : 0.3,\n                        }}\n                    />\n                )\n            })}\n        </Box>\n    )\n}\n\nconst ShipInfo = ({ship}) => {\n    if (!ship) {\n        return null\n    }\n\n    const {name, type} = ship\n\n    return (\n        <div>\n            <h1 className=\"modal-heading\">\n                <span style={{color: `#${Config.colorGreen}`}}>{name}</span>{' '}\n                <span className=\"modal-value\">({type})</span>\n            </h1>\n            <Box sx={{m: 2, ml: 0, display: 'flex'}}>\n                Rank:{' '}\n                <Box sx={{ml: 1}} component=\"span\">\n                    {ranks[ship.rank]}\n                </Box>\n            </Box>\n            <Box sx={{m: 2, ml: 0, display: 'flex'}}>\n                Level: <Rank rank={ship.rank} />\n            </Box>\n        </div>\n    )\n}\n\nexport default ShipInfo\n","import React, {Fragment} from 'react'\nimport Config from '../launch/config'\nimport UnknownContent from './unknown-content'\n\nimport './css/towable-info.css'\n\nconst TowableInfo = ({towable}) => {\n    if (!towable) {\n        return null\n    }\n\n    const {faction, isDiscovered, type} = towable\n\n    if (!isDiscovered || type === 'default') {\n        return <UnknownContent />\n    }\n\n    let imgName = 'artifact'\n\n    if (faction?.includes(Config.enemyFactionName)) {\n        imgName += '-red'\n    }\n\n    if (faction === Config.userFactionName) {\n        imgName += '-green'\n    }\n\n    return (\n        <Fragment>\n            <div className=\"towable-info__preview\">\n                <img\n                    alt=\"artifact\"\n                    className=\"towable-info__preview-img\"\n                    src={`${process.env.PUBLIC_URL}/img/${imgName}.png`}\n                />\n            </div>\n            <div className=\"towable-info__description\">\n                <h1 className=\"modal-heading\">Artifact</h1>\n                <p>A shiny object of unknown origin.</p>\n                {!faction && (\n                    <p>\n                        Bring this artifact into orbit of a colonized planet to\n                        collect it.\n                    </p>\n                )}\n\n                {faction?.includes(Config.enemyFactionName) && (\n                    <p\n                        className={`artifact__status-row ${Config.enemyFactionName}`}\n                    >\n                        <img\n                            alt=\"close\"\n                            className=\"artifact__status-icon\"\n                            src={`${process.env.PUBLIC_URL}/img/close-red.png`}\n                        />\n                        Enemy Controlled\n                    </p>\n                )}\n                {faction === Config.userFactionName && (\n                    <p\n                        className={`artifact__status-row ${Config.userFactionName}`}\n                    >\n                        <img\n                            alt=\"check\"\n                            className=\"artifact__status-icon\"\n                            src={`${process.env.PUBLIC_URL}/img/check-green.png`}\n                        />\n                        Collected\n                    </p>\n                )}\n            </div>\n        </Fragment>\n    )\n}\n\nexport default TowableInfo\n","import React, {Fragment} from 'react'\nimport Config from '../launch/config'\n\nimport './css/artifacts-info.css'\n\nconst ArtifactsInfo = () => {\n    const collectedArtifacts = Object.keys(Config.artifacts).filter(\n        (key) => Config.artifacts[key].isCollected\n    ).length\n\n    return (\n        <Fragment>\n            <div className=\"artifacts-info__preview\">\n                <img\n                    alt=\"artifact\"\n                    className=\"artifacts-info__preview-img\"\n                    src={`${process.env.PUBLIC_URL}/img/artifact.png`}\n                />\n            </div>\n            <div className=\"artifacts-info__description\">\n                <h1 className=\"modal-heading\">Artifacts</h1>\n                <p>\n                    These mysterious objects of unknown origin are scattered\n                    across the star system. Bring an artifact into orbit of a\n                    colonized planet to collect it.\n                </p>\n                {Config.artifacts && (\n                    <p>\n                        {collectedArtifacts} out of{' '}\n                        {Object.keys(Config.artifacts).length} artifacts have\n                        been collected.\n                    </p>\n                )}\n            </div>\n        </Fragment>\n    )\n}\n\nexport default ArtifactsInfo\n","import React, {Fragment, useContext} from 'react'\nimport {AppContext} from '../app/app'\nimport Config from '../launch/config'\nimport EntityPreview from '../entity/preview'\nimport {getFactionTextColor} from './utils'\n\nimport './css/atlas-list.css'\n\nconst AtlasList = ({isModalOpen}) => {\n    const {\n        config,\n        setModalContentType,\n        toggleGameOverOverlay,\n        toggleModal,\n    } = useContext(AppContext)\n\n    const filtered = Object.keys(config.entities).filter(\n        (key) => config.entities[key].discovered\n    )\n\n    if (!isModalOpen) {\n        return null\n    }\n\n    return (\n        <Fragment>\n            {filtered.map((key, index) => {\n                const entity = config.entities[key]\n                const {faction, name, orbitingShips, x, y} = entity\n\n                const ships = Object.keys(orbitingShips).filter((key) => {\n                    const ship = config.ships[key]\n                    return (\n                        ship &&\n                        ship.faction === Config.userFactionName &&\n                        ship.type !== 'satellite'\n                    )\n                })\n\n                const satellites = Object.keys(orbitingShips).filter((key) => {\n                    const ship = config.ships[key]\n                    return (\n                        ship &&\n                        ship.faction === Config.userFactionName &&\n                        ship.type === 'satellite'\n                    )\n                })\n\n                return (\n                    <div\n                        className=\"atlas-list__item\"\n                        key={index}\n                        onClick={() => {\n                            Config.scene.cameras.main.pan(\n                                x,\n                                y,\n                                300,\n                                'Linear',\n                                true\n                            )\n                            setModalContentType(null)\n                            toggleModal()\n                            toggleGameOverOverlay(true)\n                        }}\n                    >\n                        <EntityPreview\n                            entity={entity}\n                            isModalOpen={isModalOpen}\n                        />\n                        <div className=\"atlas-list__description\">\n                            <div\n                                style={{\n                                    color: `#${getFactionTextColor(faction)}`,\n                                }}\n                            >\n                                {name}\n                            </div>\n                            <div className=\"atlas-list__ships\">\n                                {ships.length > 0 ? (\n                                    <div className=\"atlas-list__ships-item\">\n                                        <img\n                                            alt=\"ship\"\n                                            className=\"atlas-list__icon atlas-list__icon--ship\"\n                                            src={`${process.env.PUBLIC_URL}/img/ship-green.png`}\n                                        />\n\n                                        {ships.length}\n                                    </div>\n                                ) : null}\n\n                                {satellites.length > 0 ? (\n                                    <div className=\"atlas-list__ships-item\">\n                                        <img\n                                            alt=\"satellite\"\n                                            className=\"atlas-list__icon\"\n                                            src={`${process.env.PUBLIC_URL}/img/satellite-green.png`}\n                                        />\n\n                                        {satellites.length}\n                                    </div>\n                                ) : null}\n                            </div>\n                        </div>\n                    </div>\n                )\n            })}\n        </Fragment>\n    )\n}\n\nexport default AtlasList\n","import React, {Fragment, useContext} from 'react'\nimport {AppContext} from '../app/app'\nimport Config from '../launch/config'\n\nimport './css/events-list.css'\n\nconst pad = (n) => {\n    return n < 10 ? '0' + n : n\n}\n\nconst EventsList = ({entity}) => {\n    const {\n        eventLog,\n        setModalContentType,\n        toggleGameOverOverlay,\n        toggleModal,\n    } = useContext(AppContext)\n    const sorted = eventLog\n        .slice()\n        .sort((a, b) => (a.timestamp < b.timestamp ? 1 : -1))\n\n    return (\n        <Fragment>\n            {sorted.map((props, index) => {\n                if (!props) {\n                    return null\n                }\n\n                const {coords, html, timestamp} = props\n\n                const date = new Date(timestamp)\n                const hours = pad(date.getHours() % 12 || 12)\n                const minutes = pad(date.getMinutes())\n                const seconds = pad(date.getSeconds())\n\n                return (\n                    <div className=\"events-list__message\" key={index}>\n                        <span className=\"events-list__number\">\n                            {`${hours}:${minutes}:${seconds}`}\n                        </span>\n                        <span\n                            dangerouslySetInnerHTML={{\n                                __html: html,\n                            }}\n                            onClick={() => {\n                                coords &&\n                                    Config.scene.cameras.main.pan(\n                                        coords.x,\n                                        coords.y,\n                                        300,\n                                        'Linear',\n                                        true\n                                    )\n                                setModalContentType(null)\n                                toggleModal()\n                                toggleGameOverOverlay(true)\n                            }}\n                        />\n                    </div>\n                )\n            })}\n        </Fragment>\n    )\n}\n\nexport default EventsList\n","import React, {Fragment, useContext} from 'react'\nimport {AppContext} from '../app/app'\nimport Config from '../launch/config'\n\nimport './css/fleet-list.css'\n\nconst FleetList = () => {\n    const {\n        config,\n        setModalContentType,\n        toggleGameOverOverlay,\n        toggleModal,\n    } = useContext(AppContext)\n\n    const filtered = Object.keys(config.ships).filter((key) => {\n        const ship = config.ships[key]\n        return (\n            ship &&\n            ship.faction === Config.userFactionName &&\n            ship.type !== 'satellite'\n        )\n    })\n\n    return (\n        <Fragment>\n            {filtered.map((key, index) => {\n                const ship = config.ships[key]\n                const {name, orbitingEntity, type} = ship\n\n                return (\n                    <div\n                        className=\"fleet-list__item\"\n                        key={index}\n                        onClick={() => {\n                            Config.scene.cameras.main.pan(\n                                ship.x,\n                                ship.y,\n                                300,\n                                'Linear',\n                                true\n                            )\n                            setModalContentType(null)\n                            toggleModal()\n                            toggleGameOverOverlay(true)\n\n                            ship.selected = true\n                            Config.selectedShips[ship.id] = ship.name\n                        }}\n                    >\n                        {type === 'satellite' && (\n                            <img\n                                alt=\"resources\"\n                                className=\"fleet-list__icon\"\n                                src={`${process.env.PUBLIC_URL}/img/satellite-white.png`}\n                            />\n                        )}\n                        {type === 'ship' && (\n                            <img\n                                alt=\"resources\"\n                                className=\"fleet-list__icon fleet-list__icon--ship\"\n                                src={`${process.env.PUBLIC_URL}/img/ship-white.png`}\n                            />\n                        )}\n\n                        {name}\n\n                        {orbitingEntity && (\n                            <Fragment>\n                                <div className=\"fleet-list__orb\" />\n                                <span>Orbiting {orbitingEntity.name}</span>\n                            </Fragment>\n                        )}\n                    </div>\n                )\n            })}\n        </Fragment>\n    )\n}\n\nexport default FleetList\n","import React, {Fragment, useContext} from 'react'\nimport {AppContext} from '../app/app'\n\nconst GameOverStats = () => {\n    const {config} = useContext(AppContext)\n    const {gameStats} = config\n\n    return (\n        <Fragment>\n            <h2>{gameStats.victory ? 'You Won!' : 'You Lost'}</h2>\n\n            <div className=\"row\">\n                <div className=\"col col-25\">\n                    <h2>Score</h2>\n                </div>\n                <div className=\"col col-75 text-align-right\">\n                    <h2>\n                        {gameStats.score && gameStats.score.toLocaleString()}\n                    </h2>\n                </div>\n            </div>\n\n            <table>\n                <tbody>\n                    <tr>\n                        <td>Artifacts Collected</td>\n                        <td className=\"text-align-right\">\n                            {gameStats.artifactsCollected}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Planets Colonized</td>\n                        <td className=\"text-align-right\">\n                            {gameStats.planetsColonized}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Planets Conquered</td>\n                        <td className=\"text-align-right\">\n                            {gameStats.planetsConquered}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Planets Lost</td>\n                        <td className=\"text-align-right\">\n                            {gameStats.planetsLost}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Ships Built</td>\n                        <td className=\"text-align-right\">\n                            {gameStats.shipsBuilt}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Ships Destroyed</td>\n                        <td className=\"text-align-right\">\n                            {gameStats.shipsDestroyed}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Ships Lost</td>\n                        <td className=\"text-align-right\">\n                            {gameStats.shipsLost}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </Fragment>\n    )\n}\n\nexport default GameOverStats\n","import React, {Fragment} from 'react'\n// import Config from '../launch/config'\n\nimport './css/resources-info.css'\n\nconst ResourcesInfo = () => {\n    return (\n        <Fragment>\n            <div className=\"resources-info__preview\">\n                <img\n                    alt=\"resource\"\n                    className=\"resources-info__preview-img\"\n                    src={`${process.env.PUBLIC_URL}/img/resources-green.png`}\n                />\n            </div>\n            <div className=\"resources-info__description\">\n                <h1 className=\"modal-heading\">Resources</h1>\n                <p>\n                    Resources allow you to construct ships and satellites. They\n                    can be gathered from destroying enemy ships, colonizing\n                    planets, or mining colonized planets.\n                </p>\n            </div>\n        </Fragment>\n    )\n}\n\nexport default ResourcesInfo\n","import React, {Fragment} from 'react'\n// import Config from '../launch/config'\n\nimport './css/score-info.css'\n\nconst ScoreInfo = () => {\n    return (\n        <Fragment>\n            <div className=\"score-info__preview\">\n                <img\n                    alt=\"resource\"\n                    className=\"score-info__preview-img\"\n                    src={`${process.env.PUBLIC_URL}/img/score.png`}\n                />\n            </div>\n            <div className=\"score-info__description\">\n                <h1 className=\"modal-heading\">Game Score</h1>\n                <p>\n                    The game score which contributes to your overall career\n                    score.\n                </p>\n            </div>\n        </Fragment>\n    )\n}\n\nexport default ScoreInfo\n","import Config from './config'\n\nconst audio = {\n    entries: {},\n    atmospheric() {\n        if (Config.isMuted) return\n        this.scene?.sound.play(`soundTrack${Config.chance.d4()}`, {\n            volume: 0.03,\n        })\n    },\n    buttonClick() {\n        if (Config.isMuted) return\n        this.scene?.sound.play(`soundButtonClick`, {\n            volume: 0.03,\n        })\n    },\n    colonize() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundPlanetColonize', {\n            volume: 0.1,\n        })\n    },\n    constructionComplete() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundConstructionComplete', {\n            volume: 0.05,\n        })\n    },\n    disband() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundShipDisband', {\n            volume: 0.07,\n        })\n    },\n    entitySelect() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundEntitySelect1', {\n            volume: 0.06,\n        })\n    },\n    lose() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundGameLose', {\n            volume: 0.07,\n        })\n    },\n    mine() {\n        this.scene?.sound.play('soundPlanetMine', {\n            volume: 0.2,\n        })\n    },\n    moveMarker() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundMoveMarker1', {\n            volume: 0.06,\n        })\n    },\n    play(key, options) {\n        if (Config.isMuted) return\n        this.scene?.sound.play(key, {\n            volume: options ? options.volume : 1,\n        })\n    },\n    resources(positive) {\n        if (Config.isMuted) return\n        this.scene?.sound.play(\n            positive ? 'soundResourcesAdd' : 'soundResourcesSubtract',\n            {\n                volume: 0.2,\n            }\n        )\n    },\n    scene: null,\n    score() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundScore1', {\n            volume: 0.02,\n        })\n    },\n    shipDestroy() {\n        if (Config.isMuted) return\n        this.scene?.sound.play(\n            Config.chance.bool() ? 'soundShipExplode1' : 'soundShipExplode2',\n            {\n                volume: 0.05,\n            }\n        )\n    },\n    shipEnterOrbit() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundShipEnterOrbit1', {\n            volume: 0.009,\n        })\n    },\n    shipSelect() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundShipSelect1', {\n            volume: 0.04,\n        })\n    },\n    shipSensor() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundShipSensor1', {\n            volume: 0.03,\n        })\n    },\n    shipShoot() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundShipShoot1', {\n            volume: 0.1,\n        })\n    },\n    tractorBeam() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundTractorBeam1', {\n            volume: 0.05,\n        })\n    },\n    init(scene) {\n        if (Config.isMuted) return\n        this.scene = scene\n        this.entries = {...scene.cache.audio.entries.entries}\n    },\n    win() {\n        if (Config.isMuted) return\n        this.scene?.sound.play('soundGameWin', {\n            volume: 0.2,\n        })\n    },\n}\n\nexport default audio\n","import React, {Fragment, useContext, useState} from 'react'\nimport {AppContext} from '../app/app'\nimport EntityInfo from './entity-info'\nimport ShipInfo from './ship-info'\nimport TowableInfo from './towable-info'\nimport ArtifactsInfo from './artifacts-info'\nimport AtlasList from './atlas-list'\nimport EventsList from './events-list'\nimport FleetList from './fleet-list'\nimport GameOverStats from '../game-over/stats'\nimport ResourcesInfo from './resources-info'\nimport ScoreInfo from './score-info'\nimport audio from '../launch/audio'\n\nimport './css/modal.css'\n\nconst Modal = () => {\n    const {\n        config,\n        isGameLoading,\n        isModalOpen,\n        lastSelectedShipId,\n        modalContentType,\n        selectedEntityId,\n        selectedTowableId,\n        setModalContentType,\n        toggleGameOverOverlay,\n        toggleModal,\n    } = useContext(AppContext)\n    const [activeTabIndex, setActiveTabIndex] = useState(0)\n    const selectedEntity = config.entities[selectedEntityId]\n    const selectedShip = config.ships[lastSelectedShipId]\n    const selectedTowable = config.towables[selectedTowableId]\n\n    const handleToggleModal = () => {\n        toggleGameOverOverlay(true)\n        toggleModal()\n        setModalContentType(null)\n    }\n    const buildTabClassName = (index) =>\n        `col col-33 modal-header__tab${\n            activeTabIndex === index ? ' modal-header__tab--active' : ''\n        }`\n\n    if (isGameLoading || (modalContentType === 'entity' && !selectedEntity)) {\n        return null\n    }\n\n    return (\n        <div\n            className={isModalOpen ? 'modal modal--open' : 'modal'}\n            onClick={() => {\n                handleToggleModal()\n            }}\n        >\n            <div\n                className=\"modal-inner\"\n                onClick={(ev) => {\n                    ev.stopPropagation()\n                }}\n            >\n                <div className=\"modal-header\">\n                    {modalContentType === 'gameStats' && (\n                        <h2>Mission Overview</h2>\n                    )}\n\n                    {modalContentType === 'compass' && (\n                        <div className=\"row modal-header__tabs\">\n                            <div\n                                className={buildTabClassName(0)}\n                                onClick={(ev) => {\n                                    audio.buttonClick()\n                                    setActiveTabIndex(0)\n                                }}\n                            >\n                                Log\n                            </div>\n                            <div\n                                className={buildTabClassName(1)}\n                                onClick={(ev) => {\n                                    audio.buttonClick()\n                                    setActiveTabIndex(1)\n                                }}\n                            >\n                                Starmap\n                            </div>\n                            <div\n                                className={buildTabClassName(2)}\n                                onClick={(ev) => {\n                                    audio.buttonClick()\n                                    setActiveTabIndex(2)\n                                }}\n                            >\n                                Fleet\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"modal-content\">\n                    {modalContentType === 'gameStats' && <GameOverStats />}\n                    {modalContentType === 'entity' && (\n                        <EntityInfo\n                            entity={selectedEntity}\n                            isModalOpen={isModalOpen}\n                        />\n                    )}\n                    {modalContentType === 'ship' && (\n                        <ShipInfo ship={selectedShip} />\n                    )}\n                    {modalContentType === 'compass' && (\n                        <Fragment>\n                            {activeTabIndex === 0 && (\n                                <EventsList isModalOpen={isModalOpen} />\n                            )}\n                            {activeTabIndex === 1 && (\n                                <AtlasList isModalOpen={isModalOpen} />\n                            )}\n                            {activeTabIndex === 2 && (\n                                <FleetList isModalOpen={isModalOpen} />\n                            )}\n                        </Fragment>\n                    )}\n                    {modalContentType === 'towable' && (\n                        <TowableInfo towable={selectedTowable} />\n                    )}\n                    {modalContentType === 'artifacts' && <ArtifactsInfo />}\n                    {modalContentType === 'resources' && <ResourcesInfo />}\n                    {modalContentType === 'score' && <ScoreInfo />}\n                </div>\n\n                <button\n                    className=\"button-1 modal-button\"\n                    onClick={() => {\n                        audio.buttonClick()\n                        handleToggleModal()\n                    }}\n                >\n                    <span className=\"modal-close-icon\">&times;</span> Close\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default Modal\n","import React, {Fragment, useContext} from 'react'\nimport {AppContext} from '../app/app'\nimport Config from '../launch/config'\n\nimport './event-log.css'\n\nconst EventLog = () => {\n    const {eventLog, isGameLoading} = useContext(AppContext)\n\n    if (isGameLoading) {\n        return null\n    }\n\n    return (\n        <Fragment>\n            {eventLog.map((props, index) => {\n                if (!props) {\n                    return null\n                }\n\n                const {coords, html} = props\n\n                if (index < eventLog.length - 1) {\n                    return null\n                }\n\n                return (\n                    <div\n                        className=\"event-log__message\"\n                        dangerouslySetInnerHTML={{\n                            __html: html,\n                        }}\n                        key={index}\n                        onClick={() => {\n                            Config.scene.cameras.main.pan(\n                                coords.x,\n                                coords.y,\n                                300,\n                                'Linear',\n                                true\n                            )\n                        }}\n                    />\n                )\n            })}\n        </Fragment>\n    )\n}\n\nexport default EventLog\n","import Config from '../launch/config'\n// import Phaser from 'phaser'\nimport Matter from 'matter-js'\n\n// export const setOrbitingShipProp = (id, key, value) => {\n//     Object.keys(Config.entities).forEach((entityKey) => {\n//         const {orbitingShips} = Config.entities[entityKey]\n//         const arr = Object.keys(orbitingShips)\n\n//         arr.length &&\n//             arr.forEach((shipKey) => {\n//                 if (shipKey === id) {\n//                     orbitingShips[shipKey][key] = value\n//                 }\n//             })\n//     })\n// }\n\nexport const setShipDestination = ({numShips = 1, ship, x, y}) => {\n    const boardSize = Config.boardSizes[Config.boardSize]\n    const boardBuffer = 10\n    let moveMarkerScale = 0.08\n\n    if (ship.orbitingEntity) {\n        ship.leavingOrbit = true\n        ship.enteringOrbit = false\n        ship.centeringOnPlanet = false\n        ship.orbitGroup && ship.orbitGroup.remove(ship.sprite)\n        delete ship.orbitingEntity.orbitingShips[ship.id]\n        ship.orbitingEntity = null\n\n        window.setTimeout(() => {\n            ship.leavingOrbit = false\n        }, 2000)\n    }\n\n    if (\n        x < boardBuffer ||\n        y < boardBuffer ||\n        x > boardSize.boardWidth - boardBuffer ||\n        y > boardSize.boardHeight - boardBuffer\n    ) {\n        return\n    }\n\n    // Wake up ship\n    Matter.Sleeping.set(ship.sprite.body, false)\n\n    // ship.thrustEmitter.start()\n    ship.moving = true\n    ship.selected = false\n    delete Config.selectedShips[ship.id]\n\n    ship.moveMarker && ship.moveMarker.destroy()\n    ship.moveMarker = Config.scene.matter.add.sprite(x, y, 'moveMarker')\n    ship.moveMarker[Config.namespace] = {type: 'moveMarker'}\n    ship.moveMarker.setDepth(6)\n    // ship.moveMarker.setTint(`0x${Config.colorGreen}`)\n\n    Config.scene.matter.body.set(ship.moveMarker.body, {\n        isSensor: true,\n        isStatic: true,\n    })\n    ship.moveMarker.body[Config.namespace] = {\n        isMoveMarker: true,\n        numShips,\n        shipId: ship.id,\n    }\n\n    if (ship.faction === Config.userFactionName) {\n        // const maxScale = 0.4\n        //\n        // Object.keys(Config.selectedShips).forEach((key, index) => {\n        //     if (moveMarkerScale <= maxScale) {\n        //         moveMarkerScale += index * 0.1\n        //     }\n        // })\n\n        ship.moveMarker.setScale(moveMarkerScale)\n        ship.moveMarker.setVisible(true)\n        ship.moveMarker.alpha = Config.moveMarkerAlpha\n\n        // ship.moveLineGraphics = Config.scene.add.graphics({\n        //     lineStyle: {width: 2, color: 0xffffff, alpha: Config.moveLineAlpha},\n        // })\n        // ship.moveLineGraphics[Config.namespace] = {type: 'moveLineGraphics'}\n        //\n        // ship.moveLine = new Phaser.Geom.Line(ship.x, ship.y, x, y)\n    } else {\n        ship.moveMarker.setVisible(false)\n    }\n}\n\nexport const getHealthBarColor = (health) => {\n    const maxHealth = Config.shipMaxHealth\n    let color = 0xffffff\n\n    if (health < Math.floor(maxHealth / 1.42)) {\n        color = 0xffff00 // yellow\n    }\n\n    if (health < Math.floor(maxHealth / 2)) {\n        color = 0xffa500 // orange\n    }\n\n    if (health < Math.floor(maxHealth / 3.3)) {\n        color = 0xff0000 // red\n    }\n\n    return color\n}\n\nexport const deselectAllShips = () => {\n    Object.keys(Config.selectedShips).forEach((key) => {\n        const ship = Config.ships[key]\n\n        if (ship && ship.selected) {\n            ship.selected = false\n        }\n\n        if (Config.selectedShips[ship.id]) {\n            delete Config.selectedShips[ship.id]\n        }\n    })\n}\n","import React, {useContext} from 'react'\nimport {AppContext} from '../app/app'\nimport {deselectAllShips} from '../ship/utils'\n\nimport './score.css'\n\nconst Score = () => {\n    const {\n        config,\n        setModalContentType,\n        toggleGameOverOverlay,\n        toggleModal,\n    } = useContext(AppContext)\n    const {gameStats} = config\n    const collectedArtifacts = Object.keys(config.artifacts).filter(\n        (key) => config.artifacts[key].isCollected\n    ).length\n\n    const handleClick = (modalContentType) => {\n        deselectAllShips()\n        toggleGameOverOverlay(false)\n        setModalContentType(modalContentType)\n        toggleModal()\n    }\n\n    return (\n        <div className=\"score\">\n            <div className=\"score__item\" onClick={() => handleClick('score')}>\n                <img\n                    alt=\"score\"\n                    className=\"score__icon\"\n                    src={`${process.env.PUBLIC_URL}/img/score.png`}\n                />\n                {gameStats.score && gameStats.score.toLocaleString()}\n            </div>\n            <div\n                className=\"score__item score__item--resources\"\n                onClick={() => handleClick('resources')}\n            >\n                <img\n                    alt=\"resources\"\n                    className=\"score__icon\"\n                    src={`${process.env.PUBLIC_URL}/img/resources-green.png`}\n                />\n                {gameStats.resources && gameStats.resources.toLocaleString()}\n            </div>\n            <div\n                className=\"score__item score__item--artifacts\"\n                onClick={() => handleClick('artifacts')}\n            >\n                <img\n                    alt=\"artifacts\"\n                    className=\"score__icon\"\n                    src={`${process.env.PUBLIC_URL}/img/artifact-white.png`}\n                />\n                {collectedArtifacts}/{Object.keys(config.artifacts).length}\n            </div>\n        </div>\n    )\n}\n\nexport default Score\n","import Phaser from 'phaser'\n\nclass Particle extends Phaser.GameObjects.Image {\n    constructor(scene, x, y, scale) {\n        super(scene, x, y, 'particleWhite')\n\n        this.scaleX = scale || 0.15\n        this.scaleY = scale || 0.15\n    }\n}\n\nexport default Particle\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport Particle from './particle'\nimport audio from '../launch/audio'\n\n// TODO: investigate particle effects\n// https://phaser.io/examples/v3/category/game-objects/particle-emitter\n// https://github.com/photonstorm/phaser3-examples/tree/master/public/assets/particles\n// https://rexrainbow.github.io/phaser3-rex-notes/docs/site/particles/\n\nexport default class Effects {\n    explode(x, y, faction) {\n        const initRadius = 10\n        const blastRadius = 120\n\n        for (let i = 0; i < 30; i += 1) {\n            const scale = Config.chance.floating({min: 0.08, max: 0.15})\n            const particle = new Particle(\n                Config.scene,\n                Phaser.Math.Between(x - initRadius, x + initRadius),\n                Phaser.Math.Between(y - initRadius, y + initRadius),\n                scale\n            )\n            particle[Config.namespace] = {type: 'effects particle'}\n\n            Config.scene.add.existing(particle)\n\n            // const color =\n            //     faction === Config.userFactionName\n            //         ? Config.colorGreen\n            //         : Config.colorRed\n            // particle.setTint(`0x${color}`)\n\n            Config.scene.tweens.add({\n                targets: particle,\n                alpha: {from: 1, to: 0},\n                x: Phaser.Math.Between(x - blastRadius, x + blastRadius),\n                y: Phaser.Math.Between(y - blastRadius, y + blastRadius),\n                ease: 'Linear',\n                duration: 1000,\n                onComplete: (tween, targets) => {\n                    targets[0].destroy()\n                },\n            })\n        }\n    }\n\n    pulse({color, delayIncr, duration, radius, x, y}) {\n        let delay = 0\n        for (let i = 0; i < 3; i += 1) {\n            const ringGraphics = Config.scene.add.graphics({\n                lineStyle: {width: 3, color: `0x${color || 'ffffff'}`},\n            })\n            const ringCircle = new Phaser.Geom.Circle(x, y, 0)\n            ringGraphics.strokeCircleShape(ringCircle)\n            ringGraphics[Config.namespace] = {type: 'pulse ringGraphics'}\n\n            Config.scene.add.existing(ringGraphics)\n\n            Config.scene.tweens.add({\n                delay,\n                targets: ringCircle,\n                radius: radius || 50,\n                ease: 'Power1',\n                duration: duration || 500,\n                onUpdate: (tween, targets) => {\n                    ringGraphics.clear()\n                    ringGraphics.alpha -= 0.07\n                    ringGraphics.strokeCircleShape(ringCircle)\n                },\n                onComplete: (tween, targets) => {\n                    ringGraphics.destroy()\n                },\n            })\n            delay += delayIncr || 100\n        }\n    }\n\n    ringGrowFade({color, duration, minRadius, maxRadius, width, x, y}) {\n        const ringGraphics = Config.scene.add.graphics({\n            lineStyle: {width: width || 3, color: color || 0xffffff},\n        })\n        const ringCircle = new Phaser.Geom.Circle(x, y, minRadius || 0)\n        ringGraphics.strokeCircleShape(ringCircle)\n        ringGraphics[Config.namespace] = {type: 'circle ringGraphics'}\n\n        Config.scene.add.existing(ringGraphics)\n\n        Config.scene.tweens.add({\n            targets: ringCircle,\n            radius: maxRadius || 30,\n            ease: 'Sine.easeOut',\n            duration: duration || 500,\n            onUpdate: (tween, targets) => {\n                ringGraphics.alpha -= 0.01\n                ringGraphics.clear()\n                ringGraphics.strokeCircleShape(ringCircle)\n            },\n            onComplete: (tween, targets) => {\n                ringGraphics.destroy()\n            },\n            // yoyo: true,\n        })\n    }\n\n    ringSwell({duration, minRadius, maxRadius, width, x, y}) {\n        const ringGraphics = Config.scene.add.graphics({\n            lineStyle: {width: width || 3, color: 0xffffff},\n        })\n        const ringCircle = new Phaser.Geom.Circle(x, y, minRadius || 0)\n        ringGraphics.strokeCircleShape(ringCircle)\n        ringGraphics[Config.namespace] = {type: 'circle ringGraphics'}\n\n        Config.scene.add.existing(ringGraphics)\n\n        Config.scene.tweens.add({\n            targets: ringCircle,\n            alpha: {from: 1, to: 0},\n            radius: maxRadius || 30,\n            ease: 'Power1',\n            duration: duration || 500,\n            onUpdate: (tween, targets) => {\n                ringGraphics.clear()\n                ringGraphics.strokeCircleShape(ringCircle)\n            },\n            onComplete: (tween, targets) => {\n                ringGraphics.destroy()\n            },\n            yoyo: true,\n        })\n    }\n\n    disband({scale, texture, x, y}) {\n        const sprite = Config.scene.add.sprite(x, y, texture)\n        sprite.setScale(scale)\n        sprite[Config.namespace] = {type: 'effects disband sprite'}\n\n        this.pulse({x, y})\n\n        Config.scene.tweens.add({\n            alpha: {from: 1, to: 0},\n            delay: 0,\n            targets: sprite,\n            radius: 50,\n            ease: 'Power1',\n            duration: 2000,\n            onUpdate: (tween, targets) => {\n                sprite.angle += 5\n                if (sprite.scale > 0) {\n                    sprite.scale -= 0.0015\n                }\n            },\n            onComplete: (tween, targets) => {\n                sprite.destroy()\n            },\n        })\n    }\n\n    pointAnim({x, y, num, positive, color, imageKey}) {\n        if (!Config.scene.add) {\n            return\n        }\n        y = y - 50\n        const yDist = 50\n        const group = Config.scene.add.group({\n            classType: Phaser.GameObjects.Sprite,\n        })\n        const numCharacters = num.toString().length + 1\n        const characterWidth = 13\n        x = x - characterWidth * numCharacters\n        const symbol = Config.scene.add.text(x, y, `${positive ? '+' : '-'}`, {\n            fontFamily: 'Roboto, sans-serif',\n            fontSize: '30px',\n            fontStyle: 'bold',\n            color: `#${color}`,\n        })\n        symbol.setOrigin(0, 0.5)\n        symbol.setResolution(window.devicePixelRatio)\n        symbol[Config.namespace] = {type: 'pointAnim symbol'}\n        group.add(symbol)\n\n        const image = Config.scene.make.image({\n            x: x + (positive ? 18 : 14),\n            y,\n            key: imageKey,\n            scale: {\n                x: 0.3,\n                y: 0.3,\n            },\n        })\n        image.setOrigin(0, 0.5)\n        image[Config.namespace] = {type: 'pointAnim image'}\n        group.add(image)\n\n        const text = Config.scene.add.text(x + (positive ? 40 : 36), y, num, {\n            fontFamily: 'Roboto, sans-serif',\n            fontSize: '30px',\n            fontStyle: 'bold',\n            color: `#${color}`,\n        })\n        text.setOrigin(0, 0.5)\n        text.setResolution(window.devicePixelRatio)\n        text[Config.namespace] = {type: 'pointAnim text'}\n\n        group.add(text)\n        group.setDepth(4)\n        group[Config.namespace] = {type: 'pointAnim group'}\n\n        Config.scene.tweens.add({\n            alpha: {from: 1, to: 0},\n            duration: Config.pointAnimDuration,\n            ease: 'Sine.easeOut',\n            targets: group.getChildren(),\n            y: y - yDist,\n            onComplete: (tween, targets) => {\n                targets.forEach((target) => {\n                    target.destroy()\n                })\n                group.clear(true)\n                group.destroy()\n            },\n        })\n    }\n\n    resourceAnim(props) {\n        // if (!props.type || (props.type && props.type !== 'resources')) {\n        //     audio.resources(props.positive)\n        // }\n        this.pointAnim({\n            ...props,\n            color: Config.colorGreen,\n            imageKey: 'resourcesGreen',\n        })\n    }\n\n    scoreAnim(props) {\n        this.pointAnim({\n            ...props,\n            color: 'ffffff',\n            imageKey: 'score',\n        })\n        audio.score()\n    }\n}\n","import React, {useContext} from 'react'\nimport Page from '../page/page'\nimport {AppContext} from '../app/app'\nimport LinearProgress, {\n    linearProgressClasses,\n} from '@mui/material/LinearProgress'\nimport Typography from '@mui/material/Typography'\nimport Box from '@mui/material/Box'\n\nimport './load-splash.css'\n\nconst LoadSplash = ({hide}) => {\n    const {gameLoadingPercent} = useContext(AppContext)\n\n    return (\n        <div className={`load-splash${hide ? ' load-splash--hide' : ''}`}>\n            <Page className=\"splash\">\n                <Box sx={{mt: '25vh'}}>\n                    <Typography\n                        variant=\"h6\"\n                        sx={{textAlign: 'center', fontWeight: 'bold'}}\n                    >{`${gameLoadingPercent}%`}</Typography>\n                </Box>\n                <Box\n                    sx={{\n                        mt: 1,\n                        mb: 1,\n                    }}\n                >\n                    <LinearProgress\n                        variant=\"determinate\"\n                        value={gameLoadingPercent}\n                        sx={{\n                            height: 10,\n                            borderRadius: 5,\n                            [`&.${linearProgressClasses.colorPrimary}`]: {\n                                backgroundColor: '#490ec0',\n                            },\n                            [`& .${linearProgressClasses.bar}`]: {\n                                borderRadius: 5,\n                                backgroundColor: '#ffffff',\n                            },\n                        }}\n                    />\n                </Box>\n                <Box>\n                    <Typography\n                        variant=\"h6\"\n                        sx={{textAlign: 'center', fontWeight: 'bold'}}\n                    >\n                        Launching...\n                    </Typography>\n                </Box>\n            </Page>\n        </div>\n    )\n}\n\nexport default LoadSplash\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\n\nexport default class Nebula extends Phaser.GameObjects.TileSprite {\n    constructor(options) {\n        const key = `nebula${Phaser.Math.Between(1, 12)}`\n        const src = Config.scene.textures.list[key].source[0]\n        const scene = Config.scene\n        const width = src.width\n        const height = src.height\n        const x = 0\n        const y = 0\n\n        super(scene, x, y, width, height, key)\n\n        this.width = width\n        this.height = height\n        this.setDepth(0)\n        this.setOrigin(0.5)\n        this.setScale(2.5)\n        this.setAlpha(0.34)\n        this.setStart(options.startOnScreen)\n        this[Config.namespace] = {type: 'nebula'}\n\n        Config.scene.add.existing(this)\n    }\n\n    setStart(startOnScreen) {\n        const {boardHeight, boardWidth} = Config.boardSizes[Config.boardSize]\n\n        this.isReversed = Config.chance.bool()\n        this.angle = Phaser.Math.Between(0, 360)\n        this.speed = Phaser.Math.FloatBetween(0.05, 0.5)\n\n        if (startOnScreen) {\n            this.x = Phaser.Math.Between(0, boardWidth)\n            this.y = Phaser.Math.Between(0, boardHeight)\n            return\n        }\n\n        if (this.isReversed) {\n            this.x = boardWidth + Config.boardPadding + this.width\n        } else {\n            this.x = 0 - this.width /// * 3\n        }\n\n        this.y = Phaser.Math.Between(\n            -Config.boardPadding,\n            boardHeight - this.height\n        )\n    }\n\n    preUpdate(time, delta) {\n        if (\n            (!this.isReversed &&\n                this.x >\n                    Config.boardSizes[Config.boardSize].boardWidth +\n                        Config.boardPadding +\n                        this.width) ||\n            (this.isReversed && this.x < 0 - Config.boardPadding - this.width)\n        ) {\n            this.setStart()\n        } else {\n            this.x = this.isReversed\n                ? (this.x -= this.speed)\n                : (this.x += this.speed)\n        }\n    }\n}\n","import Config from '../launch/config'\nimport Phaser from 'phaser'\n\nexport default class BlitterStarPattern {\n    constructor(props) {\n        const boardSize = Config.boardSizes[Config.boardSize]\n        const count =\n            props.count || Config.boardSizes[Config.boardSize].blitterStarCount\n        const width =\n            props.width || boardSize.boardWidth + Config.boardPadding * 2\n        const height =\n            props.height || boardSize.boardHeight + Config.boardPadding * 2\n        const tintCount = props.tintCount || count / 2\n\n        this.blitter = Config.scene.add.blitter(\n            props.x || 0,\n            props.y || 0,\n            props.texture\n        )\n        this.blitter.alpha = props.alpha || 1\n        this.blitter.depth = props.depth || 1\n        this.blitter[Config.namespace] = {type: 'star blitter'}\n\n        for (let i = 0; i < count; ++i) {\n            this.blitter.create(\n                Phaser.Math.Between(0, width),\n                Phaser.Math.Between(0, height)\n            )\n        }\n\n        this.blitter.children.list.forEach((bob, index) => {\n            if (index < tintCount) {\n                bob.setTint(Math.random() * 0xffffff)\n            }\n        })\n    }\n\n    setPosition({x, y}) {}\n}\n","import React, {useContext} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport {\n    AppContext,\n    // forceAppUpdate,\n    // _addToEventLog,\n    // _setGameLoading,\n    // _setGameOver,\n} from '../app/app'\nimport Config from '../launch/config'\nimport Grid from '@mui/material/Grid'\n\nimport './overlay.css'\n\nconst GameOverOverlay = () => {\n    const history = useHistory()\n    const {\n        config,\n        isGameOver,\n        isGameOverOverlayOpen,\n        setModalContentType,\n        setMinimapOpen,\n        toggleGameOverOverlay,\n        toggleModal,\n    } = useContext(AppContext)\n\n    return (\n        <div\n            className={`game-over-overlay ${isGameOver &&\n                isGameOverOverlayOpen &&\n                'game-over-overlay--open'}`}\n        >\n            <div className=\"game-over-overlay-inner\">\n                {config.gameStats.victory ? (\n                    <p className=\"game-over-overlay-heading\">\n                        Mission Complete\n                    </p>\n                ) : (\n                    <p className=\"game-over-overlay-heading\">Mission Failure</p>\n                )}\n\n                {config.gameStats.victory ? (\n                    <p style={{color: `#${Config.colorGreen}`}}>\n                        You are victorious!\n                    </p>\n                ) : (\n                    <p style={{color: `#${Config.colorRed}`}}>You have lost</p>\n                )}\n\n                <Grid container spacing={1} wrap=\"wrap\">\n                    <Grid item xs={12} sm={6}>\n                        <button\n                            className=\"button-1\"\n                            onClick={() => {\n                                toggleGameOverOverlay()\n                                setModalContentType('gameStats')\n                                toggleModal()\n                                setMinimapOpen(false)\n                                Config.minimap && Config.minimap.hide()\n                            }}\n                        >\n                            Mission Overview\n                        </button>\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                        <button\n                            className=\"button-1\"\n                            onClick={() => {\n                                history.push('configure')\n                            }}\n                        >\n                            New Mission\n                        </button>\n                    </Grid>\n                </Grid>\n            </div>\n        </div>\n    )\n}\n\nexport default GameOverOverlay\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\n// import Matter from 'matter-js'\n// import MatterAttractors from 'matter-attractors'\n// // Matter.use('matter-attractors')\n// // Matter.use(MatterAttractors)\n\nexport default function formation() {\n    const body = this.sprite.body\n    // const id = this.chance.guid()\n    // Config.shipFormations[id] = {}\n\n    // Draw proximity path\n    // this.formationGraphics && this.formationGraphics.clear()\n    // this.formationGraphics = Config.scene.add.graphics({\n    //     lineStyle: {width: 1, color: 0xaaaaaa},\n    // })\n    // this.formationCircle = new Phaser.Geom.Circle(\n    //     this.x,\n    //     this.y,\n    //     this.formationRadius\n    // )\n    // // this.formationGraphics.setDepth(1)\n    // this.formationGraphics.moveTo(this.x, this.y)\n    // this.formationGraphics.strokeCircleShape(this.formationCircle)\n\n    for (const key in Config.ships) {\n        const otherShip = Config.ships[key]\n\n        if (\n            this.id === otherShip.id ||\n            this.orbitingEntity ||\n            otherShip.orbitingEntity\n        ) {\n            return\n        }\n\n        const shipNearAnotherShip = Phaser.Geom.Intersects.CircleToCircle(\n            {\n                x: this.x,\n                y: this.y,\n                radius: this.formationRadius,\n            },\n            {\n                x: otherShip.x,\n                y: otherShip.y,\n                radius: this.formationRadius,\n            }\n        )\n\n        if (shipNearAnotherShip) {\n            const bodyA = body\n            const bodyB = otherShip.sprite.body\n\n            let distance = Phaser.Math.Distance.Between(\n                bodyA.position.x,\n                bodyA.position.y,\n                bodyB.position.x,\n                bodyB.position.y\n            )\n\n            if (!Config.shipFormations[this.id]) {\n                Config.shipFormations[this.id] = [this.id, otherShip.id]\n                Config.scene.matter.add.constraint(\n                    bodyA,\n                    bodyB,\n                    distance,\n                    1 // stiffness\n                )\n            }\n        }\n    }\n}\n","import Config from '../launch/config'\nimport {getHealthBarColor} from './utils'\n\nexport default function healthBar() {\n    const ship = this\n    const rect = ship.healthBarRect\n\n    rect.setVisible(false)\n\n    if (\n        ship.faction === Config.userFactionName ||\n        ship.isDetected ||\n        Config.isDemo\n    ) {\n        let x = ship.x - ship.diameter + 10\n        let y = ship.y - ship.diameter - 10\n\n        if (ship.type === 'satellite') {\n            x = ship.x - ship.diameter + 4\n            y = ship.y - ship.diameter - 13\n        }\n\n        rect.setSize(ship.health / 4, 4)\n        rect.setX(x)\n        rect.setY(y)\n        rect.setFillStyle(getHealthBarColor(ship.health))\n        rect.setVisible(ship.health < Config.shipMaxHealth)\n    }\n\n    // Heal Ship\n    if (ship.health < Config.shipMaxHealth) {\n        const difficulty = Config.difficultyLevels[Config.difficulty]\n        const rank = Config.shipRanks[`rank${ship.rank}`]\n        const isUser = ship.faction === Config.userFactionName\n        const isEnemy = ship.faction.includes(Config.enemyFactionName)\n\n        let healRate = 0\n\n        if (isUser) {\n            healRate = rank.shipHealRate\n        }\n\n        if (isEnemy) {\n            healRate = difficulty.enemyShipHealRate\n        }\n\n        if (ship.orbitingEntity) {\n            if (\n                isUser &&\n                ship.orbitingEntity.faction === Config.userFactionName\n            ) {\n                healRate = rank.shipHealOrbitRate\n            }\n\n            if (\n                isEnemy &&\n                ship.orbitingEntity.faction?.includes(Config.enemyFactionName)\n            ) {\n                healRate = difficulty.enemyShipHealOrbitRate\n            }\n        }\n\n        ship.health += healRate\n    }\n}\n","// import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport Matter from 'matter-js'\n\nexport default function move() {\n    if (!this.moveMarker || !this.moveMarker.body) {\n        return\n    }\n\n    const body = this.sprite.body\n\n    this.vector = Matter.Vector.create(body.position.x, body.position.y)\n    this.moveVector = Matter.Vector.create(this.moveMarker.x, this.moveMarker.y)\n\n    this.angle = Matter.Vector.angle(this.vector, this.moveVector)\n    // const angleReverse = Phaser.Math.Angle.Reverse(angle)\n\n    Matter.Body.setAngle(body, this.angle)\n    Matter.Body.setVelocity(body, {\n        x: Math.cos(this.angle) * this.speed,\n        y: Math.sin(this.angle) * this.speed,\n    })\n    // Set thrust angle\n    // this.thrustEmitter.setAngle(Phaser.Math.RadToDeg(angleReverse))\n\n    // if (this.moveLine) {\n    //     this.moveLine.setTo(\n    //         body.position.x,\n    //         body.position.y,\n    //         this.moveMarker.body.position.x,\n    //         this.moveMarker.body.position.y\n    //     )\n    //\n    //     this.moveLineGraphics.clear()\n    //     this.moveLineGraphics.strokeLineShape(this.moveLine)\n    // }\n\n    let shipHitMoveMarker = false\n\n    Config.scene.matter.overlap(\n        this.sprite.body,\n        this.moveMarker.body,\n        (bodyA, bodyB) => {\n            shipHitMoveMarker = true\n        },\n        (ship, moveMarker) => {\n            const shipX = ship.position.x\n            const shipY = ship.position.y\n            const moveMarkerX = moveMarker.position.x\n            const moveMarkerY = moveMarker.position.y\n            const {numShips} = moveMarker[Config.namespace]\n\n            let buffer = 2\n            if (numShips > 1) {\n                buffer = buffer * (numShips + 2)\n            }\n\n            const isWithinXBufffer =\n                shipX > moveMarkerX - buffer && shipX < moveMarkerX + buffer\n            const isWithinYBufffer =\n                shipY > moveMarkerY - buffer && shipY < moveMarkerY + buffer\n\n            return isWithinXBufffer && isWithinYBufffer\n        }\n    )\n\n    if (shipHitMoveMarker) {\n        Matter.Body.setVelocity(body, {\n            x: 0,\n            y: 0,\n        })\n        // this.moveLineGraphics && this.moveLineGraphics.destroy()\n        Config.scene.matter.world.remove(this.moveMarker.body)\n        this.moveMarker.destroy()\n        this.moving = false\n        // this.thrustEmitter.stop()\n    }\n}\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport Matter from 'matter-js'\nimport {saveGame} from '../launch/store'\nimport audio from '../launch/audio'\n\nexport default function orbit() {\n    const body = this.sprite.body\n\n    this.orbitGraphics && this.orbitGraphics.clear()\n\n    if (!this.orbitingEntity) {\n        return\n    }\n\n    if (!this.enteringOrbit) {\n        this.enteringOrbit = true\n\n        if (this.faction === Config.userFactionName) {\n            saveGame(`${this.name} enter orbit`)\n            audio.shipEnterOrbit()\n        }\n\n        // Stop Ship\n        Matter.Body.setVelocity(body, {\n            x: 0,\n            y: 0,\n        })\n\n        // Ship is orbiting\n        if (this.orbitingEntity) {\n            // this.thrustEmitter && this.thrustEmitter.stop()\n\n            // Assign ship to entity orbitables\n            this.orbitingEntity.orbitingShips[this.id] = {\n                faction: this.faction,\n                isDetected: this.isDetected,\n                type: this.type,\n            }\n\n            // Clear ship move line\n            // this.moveLineGraphics && this.moveLineGraphics.destroy()\n\n            // If ship orbits star, detach towable\n            if (this.orbitingEntity.type !== 'planet') {\n                this.detachTowables()\n            }\n        }\n\n        // Add this sprite to orbit group and create point\n        this.orbitGroup = Config.scene.add.group()\n        this.orbitGroup.add(this.sprite, false)\n        this.orbitPoint = new Phaser.Geom.Point(\n            this.orbitingEntity.x,\n            this.orbitingEntity.y\n        )\n    }\n\n    // Rotate orbit group children around point\n    Phaser.Actions.RotateAroundDistance(\n        this.orbitGroup.getChildren(),\n        this.orbitPoint,\n        this.orbitSpeed,\n        Config.orbitDistance\n    )\n\n    // Point ship in direction\n    // Matter.Body.setAngularVelocity(body, 0.008)\n    Matter.Body.setAngle(body, (this.orbitAngle -= 0.006))\n\n    // this.orbitAngle += 0.002\n    // Matter.Body.setAngle(body, this.orbitAngle)\n    // Matter.Body.setVelocity(body, {\n    //     x: Math.cos(this.orbitAngle),\n    //     y: Math.sin(this.orbitAngle),\n    // })\n}\n","// import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport {isDebug} from '../launch/utils'\nimport {handleShipClick} from '../app/app'\nimport {setShipDestination} from './utils'\nimport audio from '../launch/audio'\n\nexport default function handleShipPointerDown(worldX, worldY) {\n    const shipBodies = Config.scene.matter.getMatterBodies().filter((body) => {\n        const customProps = body[Config.namespace]\n\n        if (!customProps) {\n            return false\n        }\n\n        if (!customProps.isShipBody) {\n            return false\n        }\n\n        const ship = Config.ships[customProps.shipId]\n        const isFriendly = ship.faction === Config.userFactionName\n        const isClickable = isFriendly || (!isFriendly && isDebug)\n\n        return isClickable\n    })\n\n    // https://photonstorm.github.io/phaser3-docs/Phaser.Physics.Matter.MatterPhysics.html\n    const intersection = Config.scene.matter.intersectPoint(\n        worldX,\n        worldY,\n        shipBodies\n    )\n\n    if (intersection.length) {\n        const id = intersection[0][Config.namespace].shipId\n        const ship = Config.ships[id]\n\n        if (!ship.selected) {\n            Config.selectedShips[id] = ship.name\n            ship.selected = true\n            handleShipClick(ship)\n            audio.shipSelect()\n            isDebug && console.log(ship)\n            return\n        }\n\n        ship.selected = false\n        delete Config.selectedShips[ship.id]\n        handleShipClick(null, true)\n    } else {\n        let numShips = Object.keys(Config.selectedShips).length\n        if (numShips) {\n            Object.keys(Config.selectedShips).forEach((key, index) => {\n                const ship = Config.ships[key]\n\n                if (!ship.selected) {\n                    delete Config.selectedShips[ship.id]\n                    return\n                }\n                ship.selected = false\n\n                // ship.moveLineGraphics && ship.moveLineGraphics.destroy()\n\n                if (ship.type === 'satellite') {\n                    delete Config.selectedShips[ship.id]\n                    return\n                }\n\n                let x = worldX\n                let y = worldY\n\n                // Destination offset\n                // if (index > 0) {\n                //     x = worldX + index * (ship.diameter * 2) + 10\n                //     y = worldY + index * (ship.diameter * 2) + 10\n                // }\n\n                setShipDestination({\n                    numShips,\n                    ship,\n                    x,\n                    y,\n                })\n                audio.moveMarker()\n            })\n\n            handleShipClick(null, true)\n        }\n    }\n}\n","import Phaser from 'phaser'\n\nclass Missile extends Phaser.GameObjects.Image {\n    constructor(scene, frame) {\n        super(scene, 0, 0, frame)\n\n        this.scaleX = 0.12\n        this.scaleY = 0.08\n    }\n}\n\nexport default Missile\n","// import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport Missile from './missile'\nimport audio from '../launch/audio'\n\nexport default function shoot(otherShip, time, delta) {\n    this.missile = new Missile(Config.scene, 'particleWhite')\n    Config.scene.add.existing(this.missile)\n\n    this.missile.setPosition(this.x, this.y)\n    this.missile[Config.namespace] = {type: 'missile'}\n    audio.shipShoot()\n\n    // Anticipate where ship will be\n    let duration = this.weaponSpeed\n    let velocityMultiplier = duration / 10 / 2\n    let x = otherShip.x\n    let y = otherShip.y\n    if (otherShip.sprite.body) {\n        const {position, positionPrev, velocity} = otherShip.sprite.body\n\n        if (position.y < positionPrev.y) {\n            y = y - Math.abs(velocity.y * velocityMultiplier)\n        }\n        if (position.y > positionPrev.y) {\n            y = y + Math.abs(velocity.y * velocityMultiplier)\n        }\n        if (position.x < positionPrev.x) {\n            x = x - Math.abs(velocity.x * velocityMultiplier)\n        }\n        if (position.x > positionPrev.x) {\n            x = x + Math.abs(velocity.x * velocityMultiplier)\n        }\n    }\n\n    const tween = Config.scene.tweens.add({\n        targets: this.missile,\n        x,\n        y,\n        ease: 'Linear',\n        duration,\n        onComplete: (tween, targets) => {\n            targets[0].destroy()\n            let damage =\n                Config.difficultyLevels[Config.difficulty]\n                    .enemyShipWeaponDamage[Config.chance.d4() - 1]\n\n            if (this.faction === 'userFactionName') {\n                damage =\n                    Config.shipRanks[`rank${this.rank}`].shipWeaponDamage[\n                        Config.chance.d4() - 1\n                    ]\n            }\n\n            otherShip.health -= damage\n\n            // TODO: Add weapon impact efffect\n            // var particles = Config.scene.add.particles('particleWhite')\n            // var emitter = particles.createEmitter({\n            //     speed: 100,\n            //     lifespan: 200,\n            //     scale: {start: 0.1, end: 0},\n            //     alpha: 0.5,\n            // })\n            // emitter.setPosition(x, y)\n            // setTimeout(() => {\n            //     emitter.remove()\n            // }, 200)\n        },\n    })\n\n    tween.on('update', (tween, key, target) => {\n        // TODO: Rotate elongated projectiles to correct angle\n        // target.rotation = Math.atan2(y - target.y, x - target.x)\n    })\n}\n","import Config from '../launch/config'\nimport {\n    _addToEventLog,\n    _setGameOver,\n    _setGameOverlayOpenState,\n} from '../app/app'\nimport {addGameStatsToCareer, saveGame} from '../launch/store'\nimport {isLaunchDev} from '../launch/utils'\nimport party from 'party-js'\nimport audio from '../launch/audio'\n\nexport const gameOverCheck = (src) => {\n    // console.log('gameOverCheck', src)\n\n    const enemyPlanets = Object.keys(Config.entities).filter((key) =>\n        Config.entities[key].faction?.includes(Config.enemyFactionName)\n    )\n    const enemyShips = Object.keys(Config.ships).filter((key) =>\n        Config.ships[key].faction.includes(Config.enemyFactionName)\n    )\n    const friendlyPlanets = Object.keys(Config.entities).filter(\n        (key) => Config.entities[key].faction === Config.userFactionName\n    )\n    const friendlyShips = Object.keys(Config.ships).filter(\n        (key) => Config.ships[key].faction === Config.userFactionName\n    )\n    // const collectedArtifacts = Object.keys(Config.artifacts).filter((key) => {\n    //     const artifact = Config.artifacts[key]\n    //     return (\n    //         artifact.isInOrbit &&\n    //         artifact.orbitingEntity &&\n    //         artifact.orbitingEntity.faction === Config.userFactionName\n    //     )\n    // })\n\n    if (Config.isDemo) {\n        return false\n    }\n\n    let isGameOver = false\n\n    // No more colonized planets and no friendly ships\n    if (!isLaunchDev && !friendlyPlanets.length && !friendlyShips.length) {\n        Config.gameStats.victory = false\n        isGameOver = true\n    }\n\n    // All enemy planets conquered and no enemy ships\n    if (!isLaunchDev && !enemyPlanets.length && !enemyShips.length) {\n        Config.gameStats.victory = true\n        isGameOver = true\n    }\n\n    // All artifacts have been collected\n    // if (\n    //     (!isLaunchDev || isLaunchDevArtifacts) &&\n    //     collectedArtifacts.length === Object.keys(Config.artifacts).length\n    // ) {\n    //     Config.gameStats.victory = true\n    //     isGameOver = true\n    // }\n\n    if (isGameOver) {\n        if (Config.gameStats.victory) {\n            party.screen({\n                color: ['#77cf0f', '#4c3db1', '#ffffff'],\n                size: party.minmax(6, 12),\n                count: 200,\n                angle: -180,\n                spread: 40,\n                angularVelocity: party.minmax(0, 3),\n            })\n            setTimeout(() => {\n                audio.win()\n            }, 500)\n        } else {\n            setTimeout(() => {\n                audio.lose()\n            }, 500)\n        }\n        _setGameOver(true)\n        !Config.isGameOver && _setGameOverlayOpenState(true)\n        Config.isGameOver = true\n\n        Object.keys(Config.entities).forEach((key) => {\n            const entity = Config.entities[key]\n            entity.discovered = true\n            entity.isMiningResources = false\n        })\n\n        enemyShips.forEach((key) => {\n            const ship = Config.ships[key]\n            ship && ship.destroy()\n        })\n\n        Config.gameStats.artifactsCollected = Object.keys(\n            Config.artifacts\n        ).filter((key) => Config.artifacts[key].isCollected).length\n\n        // Save game if it has a new game id\n        if (Config.gameStats.gameId !== Config.careerStats.lastSavedGameId) {\n            Config.careerStats.lastSavedGameId = Config.gameStats.gameId\n\n            _addToEventLog({\n                html: `The game has ended. ${\n                    Config.gameStats.victory\n                        ? `<span style=\"color: #${Config.colorGreen}\">You Win</span>`\n                        : `<span style=\"color: #${Config.colorRed}\">You have lost</span>`\n                }`,\n            })\n\n            setTimeout(() => {\n                addGameStatsToCareer().then(() => saveGame('gameOverCheck'))\n            }, 0)\n        }\n    } else {\n        _setGameOver(false)\n        Config.isGameOver = false\n        saveGame('gameOverCheck')\n    }\n}\n\nexport const simulateVictory = () => {\n    const difficulty = Config.difficultyLevels[Config.difficulty]\n\n    Object.keys(Config.entities).forEach((key) => {\n        const entity = Config.entities[key]\n\n        entity.faction = Config.userFactionName\n        entity.colonized = true\n        entity.isColonizing = false\n    })\n\n    Object.keys(Config.ships).forEach((key) => {\n        const ship = Config.ships[key]\n        if (ship.faction.includes(Config.enemyFactionName)) {\n            ship.destroy()\n        }\n    })\n\n    Object.keys(Config.artifacts).forEach((key) => {\n        const artifact = Config.artifacts[key]\n        artifact.isDiscovered = true\n    })\n\n    Config.gameStats.planetsColonized += 1\n    Config.gameStats.score += difficulty.planetColonizePoints\n\n    gameOverCheck('simulateVictory')\n}\n\nexport const simulateLoss = () => {\n    const difficulty = Config.difficultyLevels[Config.difficulty]\n\n    Object.keys(Config.entities).forEach((key) => {\n        const entity = Config.entities[key]\n\n        entity.faction = Config.enemyFactionName\n        entity.colonized = true\n        entity.discovered = true\n        entity.isColonizing = false\n        entity.isHomePlanet = false\n    })\n\n    Object.keys(Config.ships).forEach((key) => {\n        const ship = Config.ships[key]\n        if (ship && ship.faction === Config.userFactionName) {\n            ship.destroy()\n        }\n    })\n\n    Object.keys(Config.artifacts).forEach((key) => {\n        const artifact = Config.artifacts[key]\n        artifact.isDiscovered = true\n    })\n\n    Config.gameStats.planetsLost += 1\n    Config.gameStats.score -= difficulty.planetColonizePoints\n\n    gameOverCheck('simulateLoss')\n}\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport Effects from '../effects/effects'\n// import Sensor from '../sensor/sensor'\nimport Matter from 'matter-js'\n\nimport formation from './formation'\nimport healthBar from './health-bar'\nimport move from './move'\nimport orbit from './orbit'\nimport pointerDown from './pointer-down'\nimport shoot from './shoot'\n// import {isDebug} from '../launch/utils'\nimport {saveGame} from '../launch/store'\nimport {_addToEventLog, forceAppUpdate} from '../app/app'\nimport {gameOverCheck} from '../game-over/utils'\nimport audio from '../launch/audio'\n\nexport default class Ship {\n    constructor(props) {\n        const {\n            angle,\n            faction,\n            diameter,\n            health,\n            id,\n            matterConfig,\n            name,\n            orbitingEntity,\n            proximityRange,\n            rank,\n            scale,\n            selectedTexture,\n            sensorRange,\n            texture,\n            type,\n            x,\n            y,\n        } = props\n\n        const chance = Config.chance\n        const difficulty = Config.difficultyLevels[Config.difficulty]\n\n        this.type = type || 'ship'\n        this.formation = formation\n        this.orbit = orbit\n        this.move = move\n        this.handlePointerdown = pointerDown\n        this.healthBar = healthBar\n        this.rank = rank || 0\n        this.shoot = shoot\n        this.id = id || chance.guid()\n        this.name =\n            name ||\n            chance.capitalize(\n                chance.pick([\n                    chance.word({syllables: 1}),\n                    chance.word({syllables: 2}),\n                    chance.word({syllables: 3}),\n                ])\n            )\n        this.faction = faction\n        this.isDetected =\n            this.faction === Config.userFactionName || Config.isDemo\n        this.diameter = diameter || 10\n        this.health = health || Config.shipMaxHealth\n        this.selected = false\n        this.moving = false\n        this.fighting = false\n        this.enteringOrbit = false\n        this.leavingOrbit = false\n        this.orbitingEntity = orbitingEntity || null\n        this.scale = scale || 0.3\n        this.speed =\n            this.faction === Config.userFactionName\n                ? Config.shipRanks[`rank${this.rank}`].shipSpeed\n                : difficulty.enemyShipSpeed\n        this.orbitAngle = 0\n        this.orbitSpeed = 0.004\n        this.formationRadius = this.diameter + 10\n        this.proximityRange =\n            proximityRange ||\n            this.diameter +\n                Config.shipRanks[`rank${this.rank}`].shipProximityRange\n        this.sensorRange =\n            sensorRange ||\n            this.diameter + Config.shipRanks[`rank${this.rank}`].shipSensorRange\n        this.constraints = {}\n        this.towedTowables = {}\n        this.towLines = {}\n\n        this.x =\n            x ||\n            Phaser.Math.Between(\n                Config.boardPadding,\n                Config.boardSizes[Config.boardSize].boardWidth -\n                    Config.boardPadding\n            )\n        this.y =\n            y ||\n            Phaser.Math.Between(\n                Config.boardPadding,\n                Config.boardSizes[Config.boardSize].boardHeight -\n                    Config.boardPadding\n            )\n\n        // Texture\n        // TODO: sort this out using config instead\n        const enemyTextureMap = {\n            0: 'shipRed',\n            1: 'shipOrange',\n            2: 'shipBlue',\n            3: 'shipGreen',\n        }\n        const isEnemy = this.faction?.includes(Config.enemyFactionName)\n        let defaultTexture = 'shipGreen'\n\n        if (isEnemy) {\n            defaultTexture = enemyTextureMap[this.faction.at(-1)] || 'shipRed'\n        }\n\n        // Rank-based\n        if (this.rank > 0 && !isEnemy) {\n            defaultTexture = `shipGreenRank${this.rank}`\n        }\n        this.texture = texture || defaultTexture\n        this.selectedTexture = selectedTexture || 'shipWhite'\n\n        this.sprite = Config.scene.matter.add.sprite(this.x, this.y)\n        this.sprite.setTexture(this.texture)\n        this.sprite.setScale(this.scale)\n        this.sprite.setDepth(7)\n\n        if (this.type === 'satellite') {\n            this.sprite.setCircle(this.diameter + 4)\n        } else {\n            this.sprite.setCircle(this.diameter + 2)\n            this.sprite.originX = this.sprite.originX - 0.07\n            angle && Matter.Body.setAngle(this.sprite.body, angle)\n        }\n\n        this.matterConfig = Object.assign(\n            {\n                density: 0.1, // default 0.001\n                friction: 1, // default 0.1\n                frictionAir: 0.03, // defafult 0.01\n                // frictionStatic: 8, // default 0.5\n                restitution: 0.1, // default 0\n                sleepThreshold: 10, // default 60\n            },\n            matterConfig || {}\n        )\n        Matter.Body.set(this.sprite.body, this.matterConfig)\n\n        this.sprite.body[Config.namespace] = {\n            isShipBody: true,\n            shipId: this.id,\n        }\n        this.sprite[Config.namespace] = {type: 'ship'}\n\n        // Matter bodies as sensors\n        // Repositioning matter sensors in update loop lags hard\n        // this.sensorBody = Config.scene.matter.add.circle(\n        //     this.x,\n        //     this.y,\n        //     this.sensorRange,\n        //     {\n        //         isSensor: true,\n        //     }\n        // )\n        // this.sensorBody[Config.namespace] = {\n        //     isShipSensorBody: true,\n        //     shipId: this.id,\n        // }\n\n        // this.proximityBody = Config.scene.matter.add.circle(\n        //     this.x,\n        //     this.y,\n        //     this.proximityRange,\n        //     {\n        //         isSensor: true,\n        //         // Keep proxximity sensor awake at all times\n        //         // Fixes sleep overlap behavior\n        //         sleepThreshold: -1,\n        //     }\n        // )\n        // this.proximityBody = Config.scene.matter.add.polygon(\n        //     this.x,\n        //     this.y,\n        //     sides,\n        //     this.proximityRange,\n        //     {\n        //         isSensor: true,\n        //         // Keep proxximity sensor awake at all times\n        //         // Fixes sleep overlap behavior\n        //         sleepThreshold: -1,\n        //     }\n        // )\n        // this.proximityBody[Config.namespace] = {\n        //     isShipProximityBody: true,\n        //     shipId: this.id,\n        // }\n\n        // Geom Circles for ship CircleToCircle detection\n        this.shipCircle = new Phaser.Geom.Circle(this.x, this.y, this.diameter)\n        this.shipCircle[Config.namespace] = {type: 'shipCircle'}\n        // Draw sensor circle\n        // this.shipCircleGraphics = Config.scene.add.graphics({\n        //     lineStyle: {width: 1, color: 0xffffff, alpha: 1},\n        // })\n        // this.shipCircleGraphics.strokeCircleShape(this.shipCircle)\n        // this.shipCircleGraphics[Config.namespace] = {type: 'shipCircleGraphics'}\n\n        this.sensorCircle = new Phaser.Geom.Circle(\n            this.x,\n            this.y,\n            this.sensorRange\n        )\n        this.sensorCircle[Config.namespace] = {type: 'sensorCircle'}\n\n        // Draw sensor circle\n        // this.sensorGraphics = Config.scene.add.graphics({\n        //     lineStyle: {width: 1, color: 0xffffff, alpha: 1},\n        // })\n        // this.sensorGraphics.strokeCircleShape(this.sensorCircle)\n        // this.sensorGraphics[Config.namespace] = {type: 'sensorGraphics'}\n\n        this.proximityCircle = new Phaser.Geom.Circle(\n            this.x,\n            this.y,\n            this.proximityRange\n        )\n        this.proximityCircle[Config.namespace] = {type: 'proximityCircle'}\n\n        // Draw proximity circle\n        // this.proximityGraphics = Config.scene.add.graphics({\n        //     lineStyle: {width: 1, color: 0xffffff, alpha: 1},\n        // })\n        // this.proximityGraphics.strokeCircleShape(this.proximityCircle)\n        // this.proximityGraphics[Config.namespace] = {type: 'proximityGraphics'}\n\n        // Label\n        // if (this.faction === Config.userFactionName) {\n        //     this.labelWidth = 50\n        //     this.labelXoffset = this.labelWidth / 2\n        //     this.label = Config.scene.add.text(\n        //         this.labelXoffset,\n        //         this.y + this.diameter + 4,\n        //         this.name,\n        //         {\n        //             fontFamily: 'Roboto, sans-serif',\n        //             fontSize: '10px',\n        //             color: '#fff',\n        //             align: 'center',\n        //             fixedWidth: this.labelWidth,\n        //             // backgroundColor: `#${Config.colorRed}`,\n        //         }\n        //     )\n        //     this.label.setShadowFill(true)\n        //     this.label.setShadowOffset(1, 2)\n        //     this.label.setResolution(window.devicePixelRatio)\n        //     this.label.depth = 8\n        //     this.label[Config.namespace] = {type: 'ship label'}\n        // }\n\n        // Weapon fire timer, to be paused/unpaused on ship proximity overlap\n        this.weaponSpeed = Config.shipRanks[`rank${this.rank}`].shipWeaponSpeed\n\n        if (this.faction.includes(Config.enemyFactionName)) {\n            this.weaponSpeed =\n                Config.difficultyLevels[Config.difficulty].enemyShipWeaponSpeed\n        }\n\n        this.weaponTargets = {}\n        this.weaponTimer = Config.scene.time.addEvent({\n            delay: this.weaponSpeed,\n            callback: () => {\n                const targetKeys = Object.keys(this.weaponTargets)\n\n                if (targetKeys.length) {\n                    // Shoot first acquired target\n                    const otherShip = Config.ships[targetKeys[0]]\n                    this.shoot(otherShip)\n\n                    // TODO: Multi-target upgrade\n                    // targetKeys.forEach((key) => {\n                    //     const target = this.weaponTargets[key]\n                    //     this.shoot(target.x, target.y)\n                    // })\n                }\n            },\n            loop: true,\n            paused: true,\n        })\n\n        // Health bar\n        this.healthBarRect = Config.scene.add.rectangle(\n            x,\n            y,\n            this.health / 4,\n            3,\n            0xffffff\n        )\n        this.healthBarRect.setDepth(5)\n        this.healthBarRect[Config.namespace] = {type: 'healthBarRect'}\n\n        // Thrust\n        // if (this.type !== 'satellite') {\n        //     this.thrustParticles = Config.scene.add.particles('particleWhite')\n        //\n        //     this.thrustEmitter = this.thrustParticles.createEmitter({\n        //         speed: {min: 0, max: 300},\n        //         lifespan: 100,\n        //         scale: {start: 0.15, end: 0},\n        //         blendMode: 'ADD',\n        //         follow: this.sprite,\n        //         quantity: 2,\n        //     })\n        //     this.thrustEmitter.stop()\n        // }\n\n        if (orbitingEntity) {\n            orbitingEntity.orbitingShips[this.id] = {\n                faction: this.faction,\n                isDetected: this.isDetected,\n            }\n        }\n\n        Config.ships[this.id] = this\n    }\n\n    update(time, delta) {\n        const body = this.sprite.body\n\n        if (!body) {\n            return\n        }\n\n        const difficulty = Config.difficultyLevels[Config.difficulty]\n        const isEnemy = this.faction !== Config.userFactionName\n\n        this.x = body.position.x\n        this.y = body.position.y\n\n        // this.sensorBody.position = {x: this.x, y: this.y}\n        // this.proximityBody.position = {x: this.x, y: this.y}\n        this.shipCircle.setPosition(this.x, this.y)\n        this.sensorCircle.setPosition(this.x, this.y)\n        this.proximityCircle.setPosition(this.x, this.y)\n\n        // Active state texture\n        this.sprite.setTexture(\n            this.selected ? this.selectedTexture : this.texture\n        )\n\n        // if (this.label) {\n        //     this.label.setVisible(this.selected)\n        //     this.label.x = this.x - this.labelXoffset\n        //     this.label.y = this.y + this.diameter + 4\n        // }\n\n        this.fighting = false\n        this.weaponTimer.paused = true\n\n        // TODO: performance issues\n        // this.formation()\n        this.move()\n        this.orbit()\n        this.healthBar()\n\n        // Update tow lines\n        if (this.towLines && Object.keys(this.towLines).length) {\n            Object.keys(this.towLines).forEach((key) => {\n                const towLine = this.towLines[key]\n\n                towLine.line.setTo(\n                    body.position.x,\n                    body.position.y,\n                    Config.towables[key].sprite.body.position.x,\n                    Config.towables[key].sprite.body.position.y\n                )\n\n                towLine.graphics.clear()\n                towLine.graphics.strokeLineShape(towLine.line)\n            })\n        }\n\n        if (isEnemy) {\n            this.sprite.setVisible(Config.isDemo ? true : this.isDetected)\n            this.isDetected = false\n            // if (this.thrustEmitter) {\n            //     if (this.isDetected && !this.orbitingEntity && this.moving) {\n            //         this.thrustEmitter.start()\n            //     } else {\n            //         this.thrustEmitter.stop()\n            //     }\n            // }\n        } else {\n            // if (this.moveLineGraphics) {\n            //     this.moveLineGraphics.alpha = this.selected\n            //         ? Config.moveLineSelectedAlpha\n            //         : Config.moveLineAlpha\n            // }\n            if (this.moveMarker?.body) {\n                Matter.Body.rotate(this.moveMarker.body, 0.1)\n                this.moveMarker.alpha = this.selected\n                    ? Config.moveMarkerSelectedAlpha\n                    : Config.moveMarkerAlpha\n            }\n        }\n\n        // Make sure ship doesn't sleep while selected\n        if (this.selected) {\n            Matter.Sleeping.set(this.sprite.body, false)\n        }\n\n        // Destroy ship\n        if (this.health <= 0) {\n            new Effects().explode(this.x, this.y, this.faction)\n\n            if (isEnemy) {\n                // Rank up victor\n                const targetKeys = Object.keys(this.weaponTargets)\n\n                if (targetKeys.length) {\n                    const victorShip = Config.ships[targetKeys[0]]\n\n                    if (\n                        victorShip?.rank < 3 &&\n                        !victorShip.faction.includes(Config.enemyFactionName)\n                    ) {\n                        victorShip.rank += 1\n                        victorShip.weaponSpeed =\n                            Config.shipRanks[\n                                `rank${victorShip.rank}`\n                            ].shipWeaponSpeed\n\n                        if (victorShip.type === 'satellite') {\n                            victorShip.texture = `satelliteGreenRank${victorShip.rank}`\n                        } else {\n                            victorShip.texture = `shipGreenRank${victorShip.rank}`\n                        }\n                    }\n                }\n\n                Config.gameStats.shipsDestroyed += 1\n                Config.gameStats.score += difficulty.shipDestroyPoints\n                new Effects().scoreAnim({\n                    x: this.x,\n                    y: this.y,\n                    num: difficulty.shipDestroyPoints,\n                    positive: true,\n                })\n\n                Config.gameStats.resources += difficulty.shipResourceSalvage\n                setTimeout(() => {\n                    new Effects().resourceAnim({\n                        x: this.x,\n                        y: this.y,\n                        num: difficulty.shipResourceSalvage,\n                        positive: true,\n                    })\n                }, Config.pointAnimDelay)\n\n                _addToEventLog({\n                    html: `An <span style=\"color: #${Config.colorRed}\">enemy ${this.type}</span> has been destroyed`,\n                    coords: {x: this.x, y: this.y},\n                })\n            } else {\n                Config.gameStats.shipsLost += 1\n                Config.gameStats.score -= difficulty.shipDestroyPoints\n                new Effects().scoreAnim({\n                    x: this.x,\n                    y: this.y,\n                    num: difficulty.shipDestroyPoints,\n                    positive: false,\n                })\n\n                let html = `The ship <span style=\"color: #${Config.colorGreen}\">${this.name}</span> has been destroyed`\n\n                if (this.type === 'satellite') {\n                    html = `A <span style=\"color: #${Config.colorGreen}\">satellite</span> has been destroyed`\n                }\n\n                _addToEventLog({\n                    html,\n                    coords: {x: this.x, y: this.y},\n                })\n            }\n            this.destroy()\n\n            forceAppUpdate()\n            saveGame('destroy ship')\n        }\n\n        this.weaponTargets = {}\n    }\n\n    detachTowables() {\n        if (Object.keys(this.towedTowables).length) {\n            Object.keys(this.towedTowables).forEach((key) => {\n                const towable = Config.towables[key]\n\n                // towable.sprite.body.angle = 0\n                Matter.Body.rotate(towable.sprite.body, 0)\n\n                towable.isBeingTowed = false\n                towable.towShipId = null\n                towable.constraint &&\n                    Config.scene.matter.world.removeConstraint(\n                        towable.constraint\n                    )\n            })\n        }\n\n        if (Object.keys(this.towLines).length) {\n            Object.keys(this.towLines).forEach((key) => {\n                const towLine = this.towLines[key]\n                towLine.graphics.clear()\n                towLine.graphics.destroy()\n            })\n        }\n    }\n\n    destroy() {\n        audio.shipDestroy()\n        Matter.Body.setVelocity(this.sprite.body, {\n            x: 0,\n            y: 0,\n        })\n\n        this.detachTowables()\n        // this.moveLineGraphics && this.moveLineGraphics.destroy()\n        this.moveMarker && this.moveMarker.destroy()\n        this.moving = false\n        // this.thrustParticles && this.thrustParticles.destroy()\n        // this.label && this.label.destroy()\n        // Config.scene.matter.world.remove(this.sensorBody)\n        // Config.scene.matter.world.remove(this.proximityBody)\n        Config.scene.matter.world.remove(this.shipCircle)\n        Config.scene.matter.world.remove(this.sensorCircle)\n        Config.scene.matter.world.remove(this.proximityCircle)\n        Config.scene.matter.world.remove(this.sprite)\n        this.weaponTimer.destroy()\n        this.healthBarRect.destroy()\n        this.sprite.destroy()\n\n        if (this.orbitingEntity) {\n            delete this.orbitingEntity.orbitingShips[this.id]\n        }\n        delete Config.ships[this.id]\n        delete Config.selectedShips[this.id]\n\n        gameOverCheck('ship destroy')\n    }\n}\n","import Config from '../launch/config'\nimport Ship from '../ship/ship'\n\nexport default class Satellite extends Ship {\n    constructor(props = {}) {\n        const chance = Config.chance\n\n        props.type = 'satellite'\n        props.scale = 0.1\n        props.diameter = 4\n\n        props.name = chance.capitalize(\n            chance.pick([chance.word({syllables: 1})])\n        )\n\n        props.matterConfig = {\n            density: 0.05, // default 0.001\n            friction: 0.1,\n            restitution: 0.8, // default 0\n        }\n\n        props.selectedTexture = 'satelliteWhite'\n\n        super(props)\n\n        // Texture - Rank-based\n        // TODO: sort this out using config instead\n        const enemyTextureMap = {\n            0: 'satelliteRed',\n            1: 'satelliteOrange',\n            2: 'satelliteBlue',\n            3: 'satelliteGreen',\n        }\n        const isEnemy = this.faction?.includes(Config.enemyFactionName)\n        let defaultTexture = 'satelliteGreen'\n\n        if (isEnemy) {\n            defaultTexture =\n                enemyTextureMap[this.faction.at(-1)] || 'satelliteRed'\n        }\n\n        // Rank-based\n        if (this.rank > 0 && !isEnemy) {\n            defaultTexture =\n                this.faction === Config.userFactionName\n                    ? `satelliteGreenRank${this.rank}`\n                    : 'satelliteRed'\n        }\n\n        this.texture = defaultTexture\n\n        props.proximityRange =\n            props.diameter +\n            Config.shipRanks[`rank${this.rank}`].satelliteProximityRange\n\n        props.sensorRange =\n            props.diameter +\n            Config.shipRanks[`rank${this.rank}`].satelliteSensorRange\n    }\n}\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\n\nexport default class ArcTimer {\n    constructor(props) {\n        const {\n            alpha,\n            color,\n            duration,\n            hidden,\n            lineWidth,\n            radius,\n            reverse,\n            x,\n            y,\n        } = props\n        const chance = Config.chance\n\n        this.alpha = alpha || 1\n        this.color = color\n        this.id = chance.guid()\n        this.duration = duration\n        this.endAngle = 360\n        this.graphics = Config.scene.add.graphics()\n        this.lineWidth = lineWidth || 3\n        this.radius = radius\n        this.reverse = reverse\n        this.startAngle = -90\n        this.x = x\n        this.y = y\n        this.graphics.setVisible(!hidden)\n\n        Config.timers[this.id] = this\n\n        this.promise = new Promise((resolve, reject) => {\n            this.reject = reject\n            // https://labs.phaser.io/view.html?src=src/time\\timer%20event.js\n            this.timedEvent = Config.scene.time.delayedCall(\n                this.duration,\n                () => {\n                    this.graphics.destroy()\n                    delete Config.timers[this.id]\n                    resolve(this)\n                },\n                [],\n                this\n            )\n        })\n    }\n\n    remove() {\n        this.reject()\n        this.graphics.destroy()\n        delete Config.timers[this.id]\n    }\n\n    update(time, delta) {\n        if (!Config.timers[this.id]) {\n            return\n        }\n\n        if (Config.isGameOver) {\n            this.remove()\n            return\n        }\n\n        const progress = this.timedEvent.getProgress()\n        let percentage = (100 * progress) / 1\n\n        if (this.reverse) {\n            percentage = 100 - percentage\n        }\n\n        this.endAngle = (percentage / 100) * 360 + this.startAngle\n\n        this.graphics.clear()\n        this.graphics.lineStyle(this.lineWidth, `0x${this.color}`, this.alpha)\n\n        // Without this the arc will appear closed when stroked\n        this.graphics.beginPath()\n\n        // arc (x, y, radius, startAngle, endAngle, anticlockwise)\n        // https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.Arc.html\n        this.graphics.arc(\n            this.x,\n            this.y,\n            this.radius,\n            Phaser.Math.DegToRad(this.startAngle),\n            Phaser.Math.DegToRad(this.endAngle),\n            false\n        )\n\n        this.graphics.strokePath()\n    }\n}\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport Ship from '../ship/ship'\nimport Satellite from '../satellite/satellite'\nimport ArcTimer from '../arc-timer/arc-timer'\nimport {saveGame} from '../launch/store'\nimport {isLaunchDev} from '../launch/utils'\nimport {gameOverCheck} from '../game-over/utils'\nimport {_addToEventLog} from '../app/app'\nimport {setShipDestination} from '../ship/utils'\n\nconst dispatchShips = ({difficulty, ships}) => {\n    const idleShips = ships.filter((key) => {\n        const ship = Config.ships[key]\n        return ship.type !== 'satellite' && !ship.moving && !ship.fighting\n    })\n    const targetPlanets = Object.keys(Config.entities).filter((key) => {\n        const entity = Config.entities[key]\n        return entity.type === 'planet'\n    })\n\n    const randomPlanetKey =\n        targetPlanets[Phaser.Math.Between(0, targetPlanets.length - 1)]\n\n    const targetPlanet = Config.entities[randomPlanetKey]\n\n    idleShips.forEach((shipKey, index) => {\n        const ship = Config.ships[shipKey]\n\n        // Allow ship to follow other ships\n        delete ship.following\n\n        // Easy - Send 1 ship at a time\n        let allowedShipIndex = 0\n\n        // Normal - Send 1 - 2 ships at a time\n        if (Config.difficulty === 'difficulty2') {\n            allowedShipIndex = Phaser.Math.Between(0, 1)\n        }\n\n        // Hard - Send 1 - 3 ships at a time\n        if (Config.difficulty === 'difficulty3') {\n            allowedShipIndex = Phaser.Math.Between(0, 2)\n        }\n\n        if (index > allowedShipIndex) {\n            return\n        }\n\n        const entity = ship.orbitingEntity\n\n        // Conquer/Colonize planet\n        if (entity && entity.faction !== ship.faction) {\n            const entityKey = ship.orbitingEntity.id\n            const entity = Config.entities[entityKey]\n            const opposingShipsInOrbit = Object.keys(entity.orbitingShips).find(\n                (key) => {\n                    return (\n                        entity.orbitingShips[key].faction ===\n                        Config.userFactionName\n                    )\n                }\n            )\n\n            if (\n                Config.isGameOver ||\n                opposingShipsInOrbit ||\n                entity.isColonizing\n            ) {\n                return\n            }\n\n            entity.isColonizing = true\n\n            let color = Config.colorRed\n\n            if (Config.enemyFactions.length) {\n                const colorMap = {\n                    0: 'colorRed',\n                    1: 'colorOrange',\n                    2: 'colorBlue',\n                    3: 'colorGreen',\n                }\n                color = Config[colorMap[ship.faction.at(-1)]] || 'flagRed'\n            }\n\n            const arc = new ArcTimer({\n                color,\n                duration: difficulty.planetColonizeTime,\n                radius: entity.diameter + 2,\n                reverse: true,\n                x: entity.x,\n                y: entity.y,\n                hidden: !entity.discovered,\n            })\n\n            arc.promise\n                .then(() => {\n                    if (entity.faction === Config.userFactionName) {\n                        Config.gameStats.planetsLost += 1\n                        Config.gameStats.score -=\n                            difficulty.planetColonizePoints\n\n                        _addToEventLog({\n                            html: `The planet <span style=\"color: #${Config.colorRed}\">${entity.name}</span> has been lost`,\n                            coords: {x: entity.x, y: entity.y},\n                        })\n                    }\n\n                    entity.faction = ship.faction\n                    entity.colonized = true\n                    entity.isColonizing = false\n                    entity.isHomePlanet = false\n                    entity.isMiningResources = false\n\n                    saveGame('enemyMove - colonize')\n                    gameOverCheck('enemyMove - colonize')\n                })\n                .catch((e) => {})\n\n            return\n        }\n\n        targetPlanet &&\n            setShipDestination({\n                ship,\n                x: targetPlanet.x,\n                y: targetPlanet.y,\n            })\n    })\n}\n\nconst spawnShips = ({difficulty, faction, ships, satellites}) => {\n    if (Config.isGameOver) {\n        return\n    }\n\n    const enemyPlanetKeys = Object.keys(Config.entities).filter((key) => {\n        const entity = Config.entities[key]\n        return entity.type === 'planet' && entity.faction === faction\n    })\n\n    const randomEntityKey =\n        enemyPlanetKeys[Phaser.Math.Between(0, enemyPlanetKeys.length - 1)]\n\n    const orbitingEntity = Config.entities[randomEntityKey]\n\n    if (orbitingEntity) {\n        const shipConfig = {\n            faction,\n            orbitingEntity,\n            x: orbitingEntity.x,\n            y: orbitingEntity.y,\n        }\n\n        if (\n            Config.chance.d4() === 1 &&\n            ships.length < difficulty.enemyShipMax\n        ) {\n            new Ship(shipConfig)\n            saveGame('enemyMove - build ship')\n        }\n\n        if (\n            Config.chance.d20() === 1 &&\n            satellites.length < difficulty.enemySatelliteMax\n        ) {\n            new Satellite(shipConfig)\n            saveGame('enemyMove - build satellite')\n        }\n    }\n}\n\nexport const enemyMove = () => {\n    if (isLaunchDev) {\n        return\n    }\n\n    const difficulty = Config.difficultyLevels[Config.difficulty]\n\n    if (Config.isDemo && Config.enemyFactions.length) {\n        Config.enemyFactions.forEach((faction) => {\n            const ships = Object.keys(Config.ships).filter((key) => {\n                const ship = Config.ships[key]\n                return ship.faction === faction\n            })\n            const satellites = ships.filter((key) => {\n                const ship = Config.ships[key]\n                return ship.type === 'satellite'\n            })\n\n            dispatchShips({difficulty, ships})\n            spawnShips({difficulty, faction, ships, satellites})\n        })\n    } else {\n        const ships = Object.keys(Config.ships).filter((key) => {\n            const ship = Config.ships[key]\n            return ship.faction === Config.enemyFactionName\n        })\n        const satellites = ships.filter((key) => {\n            const ship = Config.ships[key]\n            return ship.type === 'satellite'\n        })\n\n        dispatchShips({difficulty, ships})\n        spawnShips({\n            difficulty,\n            faction: Config.enemyFactionName,\n            ships,\n            satellites,\n        })\n    }\n}\n","// import Phaser from 'phaser'\nimport Matter from 'matter-js'\nimport Config from '../launch/config'\nimport Towable from '../towable/towable'\nimport Effects from '../effects/effects'\n\nexport default class Artifact extends Towable {\n    constructor(props) {\n        props.texture = 'artifactWhite'\n        props.type = 'artifact'\n\n        super(props)\n\n        this.fillColor = 0x8672fb\n        this.isCollected = false\n        this.faction = null\n\n        this.timedEffect = Config.scene.time.addEvent({\n            delay: 5000,\n            callback: () => {\n                const {\n                    isBeingTowed,\n                    isDiscovered,\n                    isInOrbit,\n                    isMoving,\n                    sprite,\n                } = this\n\n                if (\n                    sprite.body &&\n                    !isBeingTowed &&\n                    isDiscovered &&\n                    !isInOrbit &&\n                    !isMoving\n                ) {\n                    new Effects().ringGrowFade({\n                        minRadius: 20,\n                        maxRadius: 60,\n                        duration: 3000,\n                        x: sprite.x,\n                        y: sprite.y,\n                        width: 2,\n                    })\n                }\n            },\n            loop: true,\n        })\n\n        Config.artifacts[this.id] = this\n    }\n\n    destroy() {\n        this.timedEffect.remove()\n\n        super.destroy()\n    }\n\n    orbit() {\n        super.orbit()\n\n        if (this.orbitingEntity) {\n            this.timedEffect.remove()\n        }\n    }\n\n    update() {\n        super.update()\n\n        if (this.sprite.body && !this.isMoving) {\n            Matter.Body.rotate(this.sprite.body, 0.01)\n        }\n\n        this.faction = null\n\n        if (this.isInOrbit && this.orbitingEntity) {\n            if (this.orbitingEntity.faction === Config.enemyFactionName) {\n                this.fillColor = `0x${Config.colorRed}`\n                this.faction = Config.enemyFactionName\n                this.isCollected = false\n            }\n\n            if (this.orbitingEntity.faction === Config.userFactionName) {\n                this.fillColor = `0x${Config.colorGreen}`\n                this.faction = Config.userFactionName\n                this.isCollected = true\n            }\n        }\n\n        if (Config.isGameOver && !this.timedEffect.paused) {\n            this.timedEffect.paused = true\n        }\n\n        this.sprite.setTintFill(this.isSelected ? 0xffffff : this.fillColor)\n    }\n}\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport Matter from 'matter-js'\nimport Effects from '../effects/effects'\nimport {isDebug} from '../launch/utils'\nimport {_addToEventLog} from '../app/app'\nimport audio from '../launch/audio'\n\nexport default class Towable {\n    constructor(props) {\n        this.constraint = null\n        this.id = props.id || Config.chance.guid()\n        this.isBeingTowed = props.isBeingTowed || false\n        this.isDiscovered = props.isDiscovered || false\n        this.isInOrbit = props.isInOrbit || false\n        this.isMoving = false\n        this.isSelected = false\n        this.movingThreshold = 0.02\n        this.orbitAngle = 0\n        this.orbitSpeed = 0.004\n        this.towShipId = props.towShipId || null\n        this.type = props.type || 'default'\n\n        this.sprite = Config.scene.matter.add.sprite(\n            props.x,\n            props.y,\n            props.texture || 'star'\n        )\n        Matter.Body.set(this.sprite.body, {\n            density: 0.005, // default 0.001\n            // friction: 0, // default 0.1\n            frictionAir: 0.005, // default 0.01\n            frictionStatic: 8, // default 0.5\n            restitution: 0.4, // default 0\n            sleepThreshold: 10, // default 60\n            isStatic: !this.isBeingTowed && !this.isInOrbit,\n        })\n\n        this.sprite.setScale(0.26)\n        this.sprite.setDepth(7)\n        this.sprite.body[Config.namespace] = {\n            isTowableBody: true,\n            towableId: this.id,\n            type: this.type,\n        }\n\n        if (!this.isDiscovered) {\n            this.undiscoveredImage = Config.scene.add.image(\n                props.x,\n                props.y,\n                'undiscovered'\n            )\n            this.undiscoveredImage.setScale(0.25)\n            this.undiscoveredImage[Config.namespace] = {\n                type: 'towable undiscovered',\n            }\n        }\n\n        Config.towables[this.id] = this\n\n        if (this.towShipId) {\n            const ship = Config.ships[this.towShipId]\n            ship && this.addConstraint(ship)\n        }\n\n        if (props.orbitingEntityId) {\n            this.orbitingEntity = Config.entities[props.orbitingEntityId]\n            // Set to false so towable enters orbit as usual\n            this.isInOrbit = false\n        }\n    }\n\n    orbit() {\n        if (!this.orbitingEntity) {\n            return\n        }\n\n        if (!this.isInOrbit && this.orbitingEntity) {\n            this.isInOrbit = true\n\n            // Add this sprite to orbit group and create point\n            this.orbitGroup = Config.scene.add.group()\n            this.orbitGroup.add(this.sprite, false)\n            this.orbitPoint = new Phaser.Geom.Point(\n                this.orbitingEntity.x,\n                this.orbitingEntity.y\n            )\n\n            // Stop\n            Matter.Body.setVelocity(this.sprite.body, {\n                x: 0,\n                y: 0,\n            })\n        }\n\n        // Rotate orbit group children around point\n        Phaser.Actions.RotateAroundDistance(\n            this.orbitGroup.getChildren(),\n            this.orbitPoint,\n            this.orbitSpeed,\n            Config.orbitDistance\n        )\n\n        // Point in direction\n        Matter.Body.setAngle(this.sprite.body, (this.orbitAngle -= 0.006))\n    }\n\n    update(time, delta) {\n        if (!this.sprite.body) {\n            return\n        }\n\n        this.x = this.sprite.body.position.x\n        this.y = this.sprite.body.position.y\n\n        this.isMoving = this.sprite.body.speed > this.movingThreshold\n\n        this.sprite.setVisible(this.isDiscovered)\n\n        if (this.undiscoveredImage) {\n            this.undiscoveredImage.alpha = this.isSelected || isDebug ? 1 : 0.7\n\n            if (this.isDiscovered) {\n                this.undiscoveredImage.destroy()\n                delete this.undiscoveredImage\n            }\n        }\n\n        this.orbit()\n    }\n\n    destroy() {\n        Matter.Body.setVelocity(this.sprite.body, {\n            x: 0,\n            y: 0,\n        })\n\n        Config.scene.matter.world.remove(this.sprite)\n        this.sprite.destroy()\n        if (this.undiscoveredImage) {\n            this.undiscoveredImage.destroy()\n            delete this.undiscoveredImage\n        }\n\n        if (this.orbitingEntity) {\n            delete this.orbitingEntity.orbitingTowables[this.id]\n        }\n\n        delete Config.towables[this.id]\n    }\n\n    deselect() {\n        this.isSelected = false\n    }\n\n    addConstraint(ship) {\n        const towable = this\n        const towableId = this.id\n        const stiffness = 0.01\n        const length = 35\n\n        if (\n            towable.isInOrbit ||\n            towable.isBeingTowed ||\n            ship.faction !== Config.userFactionName ||\n            ship.orbitingEntity\n        ) {\n            return\n        }\n\n        if (towable.sprite.body.isStatic) {\n            Matter.Body.set(towable.sprite.body, {\n                isStatic: false,\n            })\n            Matter.Body.rotate(towable.sprite.body, 0)\n        }\n\n        towable.isBeingTowed = true\n        towable.towShipId = ship.id\n        ship.towedTowables[towableId] = {\n            id: towableId,\n        }\n        audio.tractorBeam()\n        // Add constraint between ship and towable\n        towable.constraint = Config.scene.matter.add.constraint(\n            ship.sprite.body,\n            towable.sprite.body,\n            length,\n            stiffness,\n            {\n                damping: 0.1,\n                // stiffness,\n            }\n        )\n\n        // Draw tow lines\n        ship.towLines[towableId] = {\n            graphics: Config.scene.add.graphics({\n                lineStyle: {\n                    width: 7,\n                    color: `0x7a67e8`,\n                    alpha: 0.5,\n                },\n            }),\n            line: new Phaser.Geom.Line(\n                ship.x,\n                ship.y,\n                towable.sprite.body.position.x,\n                towable.sprite.body.position.y\n            ),\n        }\n\n        this.undiscoveredImage && this.undiscoveredImage.destroy()\n        this.isDiscovered = true\n\n        // Points!\n        new Effects().scoreAnim({\n            x: towable.sprite.x,\n            y: towable.sprite.y,\n            num:\n                Config.difficultyLevels[Config.difficulty].shipHitTowablePoints,\n            positive: true,\n        })\n\n        if (towable.type === 'artifact') {\n            _addToEventLog({\n                coords: {x: ship.x, y: ship.y},\n                html: `The ship <span style=\"color: #${Config.colorGreen}\">${ship.name}</span> has discovered an artifact`,\n            })\n        }\n    }\n}\n","import Config from '../launch/config'\nimport Matter from 'matter-js'\nimport Effects from '../effects/effects'\nimport {_addToEventLog, forceAppUpdate} from '../app/app'\n\nexport const orbitTowable = (entity, towableId) => {\n    const towable = Config.towables[towableId]\n\n    if (towable.isInOrbit) {\n        return\n    }\n\n    // Set towable orbit props, remove constraint\n    towable.orbitingEntity = entity\n    towable.isBeingTowed = false\n    towable.constraint &&\n        Config.scene.matter.world.removeConstraint(towable.constraint)\n\n    entity.orbitingTowables[towableId] = {\n        id: towableId,\n    }\n\n    Matter.Body.set(towable.sprite.body, {\n        frictionAir: 0.03,\n        restitution: 0.1,\n    })\n\n    // Remove ship tow lines. Towable may not have a tow ship, it may be knocked into orbit\n    if (towable.towShipId) {\n        const ship = Config.ships[towable.towShipId]\n        const towLine = ship && ship.towLines[towable.id]\n\n        if (!towLine) {\n            return\n        }\n\n        towLine.graphics && towLine.graphics.clear()\n        towLine.graphics.destroy()\n\n        delete ship.towLines[towable.id]\n    }\n\n    // When loading and assigning towables to orbit, do not give points and log event\n    if (Config.isGameLoading) {\n        return\n    }\n\n    // Points!\n    new Effects().scoreAnim({\n        x: towable.sprite.x,\n        y: towable.sprite.y,\n        num: Config.difficultyLevels[Config.difficulty].planetTowablePoints,\n        positive: true,\n    })\n\n    if (\n        towable.type === 'artifact' &&\n        entity.faction === Config.userFactionName\n    ) {\n        _addToEventLog({\n            coords: {x: entity.x, y: entity.y},\n            html: `An artifact has been collected on <span style=\"color: #${Config.colorGreen}\">${entity.name}</span>`,\n        })\n    }\n\n    setTimeout(() => {\n        forceAppUpdate()\n    }, 0)\n}\n","import Phaser from 'phaser'\nimport Chance from 'chance'\nimport Config from '../launch/config'\nimport {_addToEventLog, forceAppUpdate} from '../app/app'\nimport Effects from '../effects/effects'\nimport {isDebug} from '../launch/utils'\nimport {orbitTowable} from './utils'\nimport audio from '../launch/audio'\n\nexport default class Entity {\n    constructor(props) {\n        const {\n            diameter,\n            discovered,\n            faction,\n            fillColor,\n            id,\n            isEnemyHomePlanet,\n            isHomePlanet,\n            isMiningResources,\n            name,\n            orbitingShips,\n            orbitingTowables,\n            type,\n            x,\n            y,\n        } = props\n        const chance = new Chance()\n\n        this.type = type\n        this.id = id || chance.guid()\n        this.name =\n            name ||\n            chance.capitalize(\n                chance.pick([\n                    chance.word({syllables: 1}),\n                    chance.word({syllables: 2}),\n                    chance.word({syllables: 3}),\n                ])\n            )\n        this.faction = faction || null\n        this.isEnemyHomePlanet = isEnemyHomePlanet || false\n        this.isHomePlanet = isHomePlanet || false\n        this.isMiningResources = isMiningResources || false\n        this.discovered = discovered || false\n        this.selected = false\n        this.orbitingShips = orbitingShips || {}\n        this.orbitingTowables = orbitingTowables || {}\n        this.diameter = diameter\n        this.sensorRange =\n            props.diameter +\n            Config.difficultyLevels[Config.difficulty].planetSensorRange\n        this.x =\n            x ||\n            Phaser.Math.Between(\n                Config.boardPadding,\n                Config.boardSizes[Config.boardSize].boardWidth -\n                    Config.boardPadding\n            )\n        this.y =\n            y ||\n            Phaser.Math.Between(\n                Config.boardPadding,\n                Config.boardSizes[Config.boardSize].boardHeight -\n                    Config.boardPadding\n            )\n\n        this.fillColor =\n            fillColor || new Phaser.Display.Color().random(10).color\n\n        this.circle = new Phaser.Geom.Circle(this.x, this.y, this.diameter)\n\n        // Graphics\n        if (!this.discovered) {\n            this.undiscoveredImage = Config.scene.add.image(\n                props.x,\n                props.y,\n                'undiscovered'\n            )\n            this.undiscoveredImage.setScale(0.25)\n            this.undiscoveredImage.setDepth(2)\n            this.undiscoveredImage[Config.namespace] = {\n                type: 'entity undiscovered',\n            }\n        }\n\n        // Matter body\n        this.body = Config.scene.matter.add.circle(\n            this.x,\n            this.y,\n            this.diameter,\n            {\n                isStatic: true,\n                isSensor: true,\n            }\n        )\n        this.body[Config.namespace] = {\n            isEntityBody: true,\n            entityId: this.id,\n        }\n\n        this.orbitBody = Config.scene.matter.add.circle(\n            this.x,\n            this.y,\n            Config.orbitDistance,\n            {\n                isStatic: true,\n                isSensor: true,\n            }\n        )\n        this.orbitBody[Config.namespace] = {\n            isOrbitBody: true,\n            entityId: this.id,\n        }\n\n        // this.sensorBody = Config.scene.matter.add.circle(\n        //     this.x,\n        //     this.y,\n        //     this.sensorRange,\n        //     {\n        //         isStatic: true,\n        //         isSensor: true,\n        //     }\n        // )\n        // this.sensorBody[Config.namespace] = {\n        //     isEntitySensorBody: true,\n        //     entityId: this.id,\n        // }\n\n        this.sensorCircle = new Phaser.Geom.Circle(\n            this.x,\n            this.y,\n            this.sensorRange\n        )\n        this.sensorCircle[Config.namespace] = {type: 'sensorCircle'}\n\n        // Draw sensor circle\n        // this.sensorGraphics = Config.scene.add.graphics({\n        //     lineStyle: {width: 1, color: 0xffffff, alpha: 1},\n        // })\n        // this.sensorGraphics.strokeCircleShape(this.sensorCircle)\n        // this.sensorGraphics[Config.namespace] = {type: 'sensorGraphics'}\n\n        // Label\n        this.labelWidth = Config.orbitDistance * 2 - 30\n        this.label = Config.scene.add.text(\n            this.x - this.labelWidth / 2,\n            this.y + this.diameter + 2,\n            this.name,\n            {\n                fontFamily: 'sans-serif',\n                fontSize: '10px',\n                color: '#fff',\n                align: 'center',\n                fixedWidth: this.labelWidth,\n            }\n        )\n        this.label.depth = 1\n        this.label[Config.namespace] = {type: 'entity label'}\n        this.label.setResolution(3)\n\n        // Status Label\n        this.statusLabel = Config.scene.add.text(\n            this.x - this.labelWidth / 2,\n            this.y + this.diameter + 13,\n            '',\n            {\n                fontFamily: 'sans-serif',\n                fontSize: '10px',\n                color: `#${Config.colorGreen}`,\n                align: 'center',\n                fixedWidth: this.labelWidth,\n            }\n        )\n        this.statusLabel.depth = 1\n        this.statusLabel[Config.namespace] = {type: 'entity statusLabel'}\n        this.statusLabel.setResolution(3)\n\n        this.labelsHidden = false\n\n        // Hide labels when zoomed out as they become pixelated and unreadable\n        Config.scene.cameras.main.on(\n            Phaser.Cameras.Scene2D.Events.ZOOM_COMPLETE,\n            (camera, zoom) => {\n                if (zoom.destination < 1) {\n                    this.labelsHidden = true\n                } else {\n                    this.labelsHidden = false\n                }\n            }\n        )\n\n        // Draw orbit path\n        this.orbitGraphics?.clear()\n        this.orbitGraphics = Config.scene.add.graphics({\n            lineStyle: {width: 2, color: 0xffffff, alpha: 0.2},\n        })\n        this.orbitRing = new Phaser.Geom.Circle(\n            this.x,\n            this.y,\n            Config.orbitDistance\n        )\n        this.orbitGraphics.setDepth(1)\n        this.orbitGraphics.strokeCircleShape(this.orbitRing)\n        this.orbitGraphics[Config.namespace] = {type: 'orbitGraphics'}\n\n        // Register Entity\n        Config.entities[this.id] = this\n\n        Object.keys(this.orbitingTowables).forEach((key) => {\n            orbitTowable(this, key)\n        })\n    }\n\n    destroy() {\n        this.undiscoveredImage?.destroy()\n        this.label.destroy()\n        this.statusLabel.destroy()\n        this.sensorGraphics?.destroy()\n        this.orbitGraphics?.destroy()\n        Config.scene.matter.world.remove(this.body)\n        Config.scene.matter.world.remove(this.orbitBody)\n        Config.scene.matter.world.remove(this.orbitRing)\n        Config.scene.matter.world.remove(this.circle)\n        Config.scene.matter.world.remove(this.sensorCircle)\n        delete Config.entities[this.id]\n        delete this\n    }\n\n    handlePointerdown(x, y) {\n        if (\n            Phaser.Geom.Intersects.CircleToCircle(this.circle, {\n                x,\n                y,\n                radius: Config.planetMaxSize,\n            })\n        ) {\n            if (Object.keys(Config.selectedShips).length) {\n                return\n            }\n            this.selected = this.selected ? false : true\n            audio.entitySelect()\n            isDebug && console.log(this)\n\n            // Center on planet\n            // this.type === 'planet' &&\n            //     Config.scene.cameras.main.pan(x, y, 300, 'Linear', true)\n        } else {\n            this.selected = false\n        }\n        forceAppUpdate()\n    }\n\n    deselect() {\n        this.selected = false\n    }\n\n    update() {\n        // const hasOrbitingShips = Object.keys(this.orbitingShips).length\n        this.hasOrbitingTowables = Object.keys(this.orbitingTowables).length\n        this.hasDetectedOrbitingShips = false\n        this.hasFriendlyOrbitingShips = false\n        this.hasEnemyOrbitingShips = false\n\n        Object.keys(this.orbitingShips).forEach((key) => {\n            const ship = Config.ships[key]\n\n            if (ship.faction === Config.userFactionName) {\n                this.hasFriendlyOrbitingShips = true\n\n                if (!this.discovered) {\n                    const difficulty =\n                        Config.difficultyLevels[Config.difficulty]\n\n                    Config.gameStats.score += difficulty.planetDiscoverPoints\n\n                    new Effects().scoreAnim({\n                        x: this.x,\n                        y: this.y,\n                        num: difficulty.planetDiscoverPoints,\n                        positive: true,\n                    })\n                    forceAppUpdate()\n                    _addToEventLog({\n                        html: `The ${this.type} <span style=\"color: #${\n                            this.faction === Config.enemyFactionName\n                                ? Config.colorRed\n                                : 'fff'\n                        }\">${this.name}</span> has been discovered`,\n                        coords: {x: this.x, y: this.y},\n                    })\n                }\n            }\n\n            if (ship.faction.includes(Config.enemyFactionName)) {\n                this.hasEnemyOrbitingShips = true\n            }\n\n            if (ship.isDetected) {\n                this.hasDetectedOrbitingShips = true\n            }\n        })\n\n        this.label.setVisible(\n            (!this.labelsHidden && this.discovered) || isDebug\n        )\n        this.statusLabel.setVisible(\n            (!this.labelsHidden && this.discovered) || isDebug\n        )\n\n        if (\n            (this.colonized && this.faction === Config.userFactionName) ||\n            this.hasFriendlyOrbitingShips ||\n            Config.isGameOver\n        ) {\n            this.discovered = true\n\n            if (this.undiscoveredImage) {\n                this.undiscoveredImage.destroy()\n                delete this.undiscoveredImage\n            }\n        }\n\n        if (this.undiscoveredImage) {\n            this.undiscoveredImage.alpha = this.selected ? 1 : 0.7\n        }\n\n        this.orbitGraphics.setVisible(\n            this.hasFriendlyOrbitingShips ||\n                this.hasOrbitingTowables ||\n                (this.hasEnemyOrbitingShips && this.hasDetectedOrbitingShips) ||\n                (this.hasEnemyOrbitingShips && Config.isGameOver) ||\n                (this.hasEnemyOrbitingShips && Config.isDemo)\n        )\n    }\n}\n","import Config from '../launch/config'\n\nexport default class RadialGradientArc {\n    constructor({\n        diameter,\n        innerColor,\n        middleColor,\n        outerColor,\n        textureName,\n        x,\n        y,\n    }) {\n        diameter = diameter * 4\n        const radius = diameter / 2\n        const startX = radius\n        const startY = radius\n        const innerRadius = 2\n        const outerRadius = 90\n        const canvas = document.createElement('canvas')\n        canvas.width = diameter\n        canvas.height = diameter\n\n        const ctx = canvas.getContext('2d')\n\n        const radialGradient = ctx.createRadialGradient(\n            startX,\n            startY,\n            innerRadius,\n            startX - 20,\n            startY - 20,\n            outerRadius\n        )\n        radialGradient.addColorStop(0, innerColor)\n        middleColor && radialGradient.addColorStop(0.5, `#${middleColor}`)\n        radialGradient.addColorStop(0.9, outerColor)\n\n        ctx.fillStyle = radialGradient\n        ctx.arc(startX, startY, radius, 0, 2 * Math.PI)\n        ctx.fill()\n\n        Config.scene.textures.addCanvas(textureName, canvas)\n        this.image = Config.scene.add.image(x, y, textureName)\n        const scale = 0.5\n\n        this.image.scaleX = scale\n        this.image.scaleY = scale\n        this.image.setDepth(3)\n    }\n}\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport Entity from '../entity/entity'\nimport RadialGradientArc from '../radial-gradient-arc/radial-gradient-arc'\nimport tinycolor from 'tinycolor2'\nimport {isDebug} from '../launch/utils'\n\nexport default class Planet extends Entity {\n    constructor(props = {}) {\n        const chance = Config.chance\n        const climate =\n            props.climate ||\n            chance.pick(['warm', 'cold', 'moderate', 'gas', 'ice', 'hot'])\n        const climateMap = {\n            cold: {\n                hue: chance.integer({min: 150, max: 240}),\n            },\n            gas: {\n                hue: chance.integer({min: 0, max: 330}),\n            },\n            hot: {\n                hue: chance.integer({min: 0, max: 40}),\n            },\n            ice: {\n                hue: chance.integer({min: 210, max: 250}),\n            },\n            moderate: {\n                hue: chance.integer({min: 90, max: 150}),\n            },\n            warm: {\n                hue: chance.integer({min: 40, max: 60}),\n            },\n        }\n\n        const fillColor = tinycolor(\n            'hsl(' + climateMap[climate].hue + ', 60%, 50%)'\n        )\n            .brighten(10)\n            .toHex()\n\n        props.fillColor = props.fillColor || `0x${fillColor}`\n        props.diameter =\n            props.diameter ||\n            Phaser.Math.Between(Config.planetMinSize, Config.planetMaxSize)\n        props.type = 'planet'\n\n        super(props)\n\n        const fillColorHex = props.fillColor.replace('0x', '')\n        const fillColorLight = tinycolor(fillColorHex)\n            .brighten(30)\n            .toString()\n        this.fillColorLight = fillColorLight.replace('#', '0x')\n        const fillColorDark = tinycolor(fillColorHex)\n            .darken(20)\n            .toString()\n        this.fillColorDark = fillColorDark.replace('#', '0x')\n\n        this.colonized = props.colonized || false\n        this.discovered =\n            props.discovered ||\n            (props.colonized && props.faction === Config.userFactionName) ||\n            false\n        this.isBuildingShip = false\n        this.isBuildingSatellite = false\n        this.isBuildingMine = false\n        this.isColonizing = false\n        this.climate = climate\n        // this.population = chance.integer({min: 0, max: 100000})\n        // this.minerals = chance.integer({min: 0, max: 10000})\n        // this.water =\n        //     climateMap[climate].water || chance.integer({min: 0, max: 10000})\n\n        const iconRowY = this.y - this.diameter - 8\n        const iconDepth = 3\n\n        this.enemyFlagTextureMap = {\n            0: 'flagRed',\n            1: 'flagOrange',\n            2: 'flagBlue',\n            3: 'flagGreen',\n        }\n\n        // Flag\n        this.flag = Config.scene.add.sprite(\n            this.x,\n            iconRowY,\n            this.getFlagTexture()\n        )\n        this.flag.setScale(0.17)\n        this.flag.setDepth(iconDepth)\n        this.flag[Config.namespace] = {type: 'flag'}\n\n        // Home icon\n        if (props.isHomePlanet) {\n            this.homeSprite = Config.scene.add.sprite(\n                this.x - 20,\n                iconRowY,\n                'homeGreen'\n            )\n            this.homeSprite.setScale(0.15)\n            this.homeSprite.setDepth(iconDepth)\n            this.homeSprite[Config.namespace] = {type: 'homeSprite'}\n        }\n\n        // Resources icon\n        this.resourcesSprite = Config.scene.add.sprite(\n            this.x + 20,\n            iconRowY,\n            'resourcesGreen'\n        )\n        this.resourcesSprite.setScale(0.22)\n        this.resourcesSprite.setDepth(iconDepth)\n        this.resourcesSprite[Config.namespace] = {type: 'resourcesSprite'}\n\n        // Gradient\n        this.gradientArc = new RadialGradientArc({\n            diameter: this.diameter,\n            innerColor: fillColorLight,\n            middleColor: fillColorHex,\n            outerColor: fillColorDark,\n            textureName: `planet-${this.id}`,\n            x: this.x,\n            y: this.y,\n        })\n        this.gradientArc.image[Config.namespace] = {type: 'gradientArc'}\n\n        // Gloss effect overlay\n        this.planetOverlay = Config.scene.add.image(\n            this.x,\n            this.y,\n            'planetOverlay'\n        )\n        this.planetOverlay.setScale(this.diameter / 90)\n        this.planetOverlay.setDepth(6)\n        this.planetOverlay[Config.namespace] = {\n            type: 'planet overlay sprite',\n        }\n\n        // Planet feature\n        this.featureId = props.featureId || Phaser.Math.Between(1, 8)\n        this.featureColor = props.featureColor || this.generateFeatureColor()\n\n        this.planetFeature = Config.scene.add.image(\n            this.x,\n            this.y,\n            `planetFeature${this.featureId}`\n        )\n        this.planetFeature.setScale(this.diameter / 76)\n        this.planetFeature.setDepth(5)\n        this.planetFeature[Config.namespace] = {\n            type: 'planet feature',\n        }\n\n        // Selection overlay\n        this.selectionGraphics = Config.scene.add.graphics()\n        this.selectionGraphics.fillStyle('0xffffff')\n        this.selectionGraphics.fillCircleShape(this.circle)\n        this.selectionGraphics.setDepth(6)\n        this.selectionGraphics[Config.namespace] = {\n            type: 'selectionGraphics',\n        }\n    }\n\n    // TODO: sort this out using config instead\n    getFlagTexture() {\n        const isEnemy = this.faction?.includes(Config.enemyFactionName)\n        let flagTexture = 'flagGreen'\n\n        if (isEnemy) {\n            flagTexture =\n                this.enemyFlagTextureMap[this.faction.at(-1)] || 'flagRed'\n        }\n        return flagTexture\n    }\n\n    generateFeatureColor() {\n        // https://github.com/bgrins/TinyColor\n        // https://bgrins.github.io/TinyColor/\n        // https://rexrainbow.github.io/phaser3-rex-notes/docs/site/color/\n        const tinyColorFill = tinycolor(`#${this.fillColor.replace('0x', '')}`)\n        // const complement = tinyColorFill.complement().toHexString()\n        // const complementColor = Phaser.Display.Color.ValueToColor(complement)\n\n        const tetrad = tinyColorFill.tetrad()\n        const colors = tetrad.map((t) => t.toHexString())\n        const chosen = Config.chance.pick([colors[1], colors[2], colors[3]])\n        let complementColor = Phaser.Display.Color.ValueToColor(chosen)\n\n        if (this.climate === 'ice') {\n            complementColor = Phaser.Display.Color.ValueToColor('#ffffff')\n        }\n\n        const {alpha, blue, green, red} = complementColor\n        const hexString = Phaser.Display.Color.RGBToString(\n            red,\n            green,\n            blue,\n            alpha\n        )\n        // this.featureColorPhaser = complementColor\n        // this.featureColorHex = hexString\n\n        return hexString.replace('#', '0x')\n    }\n\n    deselect() {\n        super.deselect()\n    }\n\n    destroy() {\n        this.selectionGraphics.destroy()\n        this.planetOverlay.destroy()\n        this.planetFeature.destroy()\n        this.gradientArc.image.destroy()\n\n        super.destroy()\n    }\n\n    update() {\n        super.update()\n\n        if (this.selectionGraphics) {\n            this.selectionGraphics.alpha =\n                this.selected && (this.discovered || isDebug) ? 0.8 : 0\n        }\n\n        this.planetOverlay.setVisible(this.discovered || isDebug)\n        this.gradientArc.image.setVisible(this.discovered || isDebug)\n\n        this.flag.setVisible(this.colonized && (this.discovered || isDebug))\n\n        this.flag.setTexture(this.getFlagTexture())\n\n        this.resourcesSprite.setVisible(\n            this.isMiningResources &&\n                this.faction === Config.userFactionName &&\n                this.colonized &&\n                this.discovered\n        )\n\n        if (this.homeSprite) {\n            this.homeSprite.setVisible(this.isHomePlanet)\n        }\n\n        this.planetFeature.setVisible(this.discovered || isDebug)\n        this.planetFeature.setTint(\n            this.selected && (this.discovered || isDebug)\n                ? 0x222222\n                : this.featureColor\n        )\n    }\n}\n","import Config from '../launch/config'\nimport Entity from '../entity/entity'\nimport {isDebug} from '../launch/utils'\n// import Phaser from 'phaser'\n\nexport default class Star extends Entity {\n    constructor(props) {\n        const sizeSmall = 12\n        const sizeMed = 15\n        const sizeLarge = 20\n\n        const sizeMap = {\n            // Red/Orange, Class M/K/G\n            [sizeSmall]: {\n                colors: ['0xff9c1b', '0xff5e26'],\n                scale: 0.15,\n            },\n            // Orange/Yellow, Class G/F\n            [sizeMed]: {\n                colors: ['0xffcc31', '0xffef38'],\n                scale: 0.2,\n            },\n            // Yellow/Blu, Class O/B/A/F\n            [sizeLarge]: {\n                colors: ['0xfff95c', '0x65d5ff'],\n                scale: 0.3,\n            },\n        }\n\n        props.type = 'star'\n\n        const randDiameter = Config.chance.pick([sizeSmall, sizeMed, sizeLarge])\n\n        props.diameter = props.diameter || randDiameter\n        props.fillColor =\n            props.fillColor || Config.chance.pick(sizeMap[randDiameter].colors)\n\n        super(props)\n\n        this.starImage = Config.scene.add.image(this.x, this.y, 'starEntity')\n        this.starImage.setScale(sizeMap[this.diameter].scale)\n        this.starImage.setDepth(3)\n        this.starImage[Config.namespace] = {type: 'star image'}\n        this.starImage.setTint(this.fillColor)\n    }\n\n    destroy() {\n        this.starImage.destroy()\n\n        super.destroy()\n    }\n\n    update() {\n        super.update()\n\n        this.starImage.setVisible(this.discovered || isDebug)\n        this.starImage.setTint(\n            this.selected && (this.discovered || isDebug)\n                ? 0x0ffffff\n                : this.fillColor\n        )\n    }\n}\n","import Config from './config'\n// import Effects from '../effects/effects'\n// import Phaser from 'phaser'\nimport Planet from '../planet/planet'\nimport Ship from '../ship/ship'\nimport Satellite from '../satellite/satellite'\nimport Artifact from '../artifact/artifact'\n\nconst dev1 = () =>\n    new Promise((resolve, reject) => {\n        Config.gameStats.resources = 1000\n        // Config.difficultyLevels.difficulty2.planetMineResourceDelay = 4000\n        // const camera = Config.scene.cameras.main\n\n        const homePlanet = new Planet({\n            faction: Config.userFactionName,\n            colonized: true,\n            discovered: true,\n            isHomePlanet: true,\n            // isMiningResources: true,\n            x: 200,\n            y: 500,\n        })\n\n        const enemyPlanet = new Planet({\n            faction: Config.enemyFactionName,\n            colonized: true,\n            discovered: true,\n            x: 200,\n            y: 200,\n        })\n        new Ship({\n            faction: Config.enemyFactionName,\n            orbitingEntity: enemyPlanet,\n        })\n        new Ship({\n            faction: Config.enemyFactionName,\n            x: 330,\n            y: 200, // 380,\n        })\n\n        const enemyPlanet2 = new Planet({\n            faction: Config.enemyFactionName,\n            colonized: true,\n            discovered: true,\n            x: 500,\n            y: 200,\n        })\n        new Ship({\n            faction: Config.enemyFactionName,\n            orbitingEntity: enemyPlanet2,\n        })\n        new Satellite({\n            faction: Config.enemyFactionName,\n            orbitingEntity: enemyPlanet,\n        })\n        new Artifact({\n            x: 350,\n            y: 700,\n        })\n        // Config.scene.input.on('pointerdown', ({x, y}) => {\n        //     // ships[0].destroy()\n        // })\n\n        // const ships = []\n        for (let i = 0; i < 58; i += 1) {\n            // new Ship({\n            //     faction: Config.userFactionName,\n            //     orbitingEntity: homePlanet,\n            //     // x: 300,\n            //     // y: 300,\n            // })\n            //\n            // new Satellite({\n            //     faction: Config.userFactionName,\n            //     orbitingEntity: homePlanet,\n            // })\n        }\n\n        // new Ship({\n        //     faction: Config.userFactionName,\n        //     x: 100,\n        //     y: 100,\n        //     orbitingEntity: homePlanet,\n        // })\n        // new Ship({\n        //     faction: Config.userFactionName,\n        //     x: 100,\n        //     y: 100,\n        //     orbitingEntity: homePlanet,\n        // })\n        // new Satellite({\n        //     faction: Config.userFactionName,\n        //     orbitingEntity: homePlanet,\n        // })\n\n        // Config.scene.input.on('pointerdown', () => {})\n        // new Ship({\n        //     faction: Config.userFactionName,\n        //     x: 313,\n        //     y: 336,\n        // })\n\n        return resolve({planet: homePlanet})\n    })\n\nexport default dev1\n","import Config from './config'\n// import Effects from '../effects/effects'\n// import Phaser from 'phaser'\nimport ArcTimer from '../arc-timer/arc-timer'\n\nconst dev2 = () => new Promise((resolve, reject) => {\n    // Config.scene.input.on('pointerdown', () => {\n    //     const {worldX, worldY} = Config.scene.input.activePointer\n    //     const x = worldX\n    //     const y = worldY\n    //\n    //     new Effects().scoreAnim({\n    //         x,\n    //         y,\n    //         num: Config.chance.integer({min: 0, max: 240}),\n    //         positive: Config.chance.integer({min: 0, max: 1}) === 1,\n    //     })\n    //     setTimeout(() => {\n    //         new Effects().resourceAnim({\n    //             x,\n    //             y,\n    //             num: Config.chance.integer({min: 0, max: 240}),\n    //             positive: Config.chance.integer({min: 0, max: 1}) === 1,\n    //         })\n    //     }, Config.pointAnimDelay)\n    // })\n\n    let longPressArc\n\n    Config.scene.input.on('pointerdown', () => {\n        const {worldX, worldY} = Config.scene.input.activePointer\n        const x = worldX\n        const y = worldY\n\n        longPressArc = new ArcTimer({\n            alpha: 0.6,\n            color: 'cccccc',\n            duration: 1000,\n            radius: 8,\n            lineWidth: 16,\n            x,\n            y,\n        })\n\n        longPressArc.promise\n            .then(() => {\n                console.log('long press event')\n            })\n            .catch(() => {})\n\n        longPressArc.graphics.alpha = 0\n\n        setTimeout(() => {\n            Config.scene.tweens.add({\n                targets: longPressArc.graphics,\n                alpha: 1,\n                ease: 'Linear',\n                duration: 300,\n            })\n        }, 100)\n    })\n\n    Config.scene.input.on('pointerup', ({x, y}) => {\n        longPressArc && longPressArc.remove()\n    })\n\n    return resolve()\n})\n\nexport default dev2\n","import Config from './config'\nimport Phaser from 'phaser'\nimport Planet from '../planet/planet'\nimport Star from '../star/star'\nimport tinycolor from 'tinycolor2'\n\nconst devEntities = () => new Promise((resolve, reject) => {\n    Config.gameStats.resources = 1000\n    // Config.difficultyLevels.difficulty2.planetMineResourceDelay = 4000\n\n    const camera = Config.scene.cameras.main\n    camera.setViewport(0, 0, window.screen.width * 3, window.screen.height * 3)\n\n    camera.setZoom(2)\n    camera.centerOn(200, 200)\n\n    const createColorsFromClimate = (climate, range, x, y) => {\n        let swatchRow1X = 20\n        let swatchRow1Y = y + 12\n\n        Config.scene.add.text(swatchRow1X, y, climate, {\n            fontFamily: 'Roboto, sans-serif',\n            fontSize: '10px',\n            color: '#fff',\n        })\n\n        for (let i = range[0]; i < range[1]; i += 1) {\n            const color = tinycolor('hsl(' + i + ', 60%, 50%)')\n                .brighten(10)\n                .toHex()\n            const g = Config.scene.add.graphics({\n                fillStyle: {color: `0x${color}`},\n            })\n            const s = new Phaser.Geom.Rectangle(swatchRow1X, swatchRow1Y, 3, 4)\n            g.fillRectShape(s)\n            g.setInteractive()\n\n            // Config.scene.add.text(swatchRow1X, swatchRow1Y, i, {\n            //     fontFamily: 'Roboto, sans-serif',\n            //     fontSize: '4px',\n            //     color: `#${color}`,\n            // })\n\n            swatchRow1X += 3\n        }\n    }\n\n    // Climates\n    // HSL range 0 - 360\n    // createColorsFromClimate('cold', [150, 240], 20, 30)\n    // createColorsFromClimate('gas', [200, 360], 20, 50)\n    // createColorsFromClimate('hot', [0, 40], 20, 70)\n    // createColorsFromClimate('ice', [180, 200], 20, 90)\n    // createColorsFromClimate('moderate', [90, 150], 20, 110)\n    // createColorsFromClimate('warm', [40, 60], 20, 130)\n    createColorsFromClimate('cold', [150, 240], 20, 30)\n    createColorsFromClimate('gas', [0, 330], 20, 50)\n    createColorsFromClimate('hot', [0, 40], 20, 70)\n    createColorsFromClimate('ice', [210, 250], 20, 90)\n    createColorsFromClimate('moderate', [90, 150], 20, 110)\n    createColorsFromClimate('warm', [40, 60], 20, 130)\n\n    // Test entity display\n    const entities = {}\n    const entitiesStartY = 80\n    let x = 90\n    let y = entitiesStartY\n    const diameter = 20\n    const rowCount = 6\n\n    const showPlanetDetails = (planet) => {\n        Config.scene.add.text(x - 60, y - diameter, planet.climate, {\n            fontFamily: 'Roboto, sans-serif',\n            fontSize: '10px',\n            color: '#fff',\n        })\n\n        const createSwatch = (x, y, color) => {\n            const g = Config.scene.add.graphics({\n                fillStyle: {color},\n            })\n            const r = new Phaser.Geom.Rectangle(x, y, 10, 10)\n            g.fillRectShape(r)\n        }\n\n        createSwatch(x - 60, y - diameter + 14, planet.fillColorLight)\n        createSwatch(x - 60, y - diameter + 24, planet.fillColor)\n        createSwatch(x - 60, y - diameter + 34, planet.fillColorDark)\n    }\n\n    // Col 1\n    for (let i = 0; i < rowCount; i += 1) {\n        y += 110\n\n        const key = `planet1${i}`\n\n        entities[key] = new Planet({\n            faction: Config.userFactionName,\n            // diameter,\n            discovered: true,\n            x,\n            y,\n        })\n        showPlanetDetails(entities[key])\n    }\n\n    // Col 2\n    y = entitiesStartY\n    for (let i = 0; i < rowCount; i += 1) {\n        x = 210\n        y += 110\n\n        const key = `planet2${i}`\n\n        entities[key] = new Planet({\n            faction: Config.userFactionName,\n            // diameter,\n            discovered: true,\n            x,\n            y,\n        })\n        showPlanetDetails(entities[key])\n    }\n\n    // Col 3\n    y = entitiesStartY\n    for (let i = 0; i < rowCount; i += 1) {\n        x = 310\n        y += 110\n\n        entities[`star${i}`] = new Star({\n            discovered: true,\n            x,\n            y,\n        })\n    }\n\n    // console.log('entities', entities)\n\n    // setTimeout(() => {\n    //     entities.planet21.destroy()\n    //     entities.star0.destroy()\n    // }, 5000)\n\n    return resolve()\n})\n\nexport default devEntities\n","import Config from './config'\n// import Effects from '../effects/effects'\n// import Phaser from 'phaser'\nimport Planet from '../planet/planet'\nimport Star from '../star/star'\nimport Ship from '../ship/ship'\n// import Satellite from '../satellite/satellite'\nimport Artifact from '../artifact/artifact'\n// import Towable from '../towable/towable'\n\nconst devArtifacts = () => new Promise((resolve, reject) => {\n    Config.gameStats.resources = 1000\n    Config.difficultyLevels.difficulty2.planetColonizeTime = 200\n    Config.difficultyLevels.difficulty2.shipBuildTime = 200\n    Config.difficultyLevels.difficulty2.userShipSpeed = 1\n\n    // Config.difficultyLevels.difficulty2.planetMineResourceDelay = 4000\n\n    // const ships = []\n    // for (let i = 0; i < 3; i += 1) {\n    //     new Ship({\n    //         faction: Config.userFactionName,\n    //         orbitingEntity: homePlanet,\n    //         // x: 300,\n    //         // y: 300,\n    //     })\n    //\n    //     new Satellite({\n    //         faction: Config.userFactionName,\n    //         orbitingEntity: homePlanet,\n    //     })\n    // }\n\n    new Star({\n        // discovered: true,\n        x: 100,\n        y: 100,\n    })\n\n    const homePlanet  = new Planet({\n        faction: Config.userFactionName,\n        colonized: true,\n        discovered: true,\n        isHomePlanet: true,\n        isMiningResources: true,\n        x: 100,\n        y: 300,\n    })\n\n    new Planet({\n        faction: Config.userFactionName,\n        colonized: true,\n        // discovered: true,\n        // isMiningResources: true,\n        x: 100,\n        y: 500,\n    })\n\n    new Planet({\n        // faction: Config.enemyFactionName,\n        faction: null,\n        // colonized: true,\n        discovered: true,\n        // isMiningResources: true,\n        x: 250,\n        y: 500,\n    })\n\n    new Artifact({\n        x: 250,\n        y: 100,\n    })\n\n    new Artifact({\n        x: 250,\n        y: 200,\n    })\n\n    new Ship({\n        faction: Config.userFactionName,\n        x: 250,\n        y: 300,\n    })\n\n    // new Ship({\n    //     faction: Config.enemyFactionName,\n    //     x: 250,\n    //     y: 350,\n    // })\n\n    return resolve({planet: homePlanet})\n})\n\nexport default devArtifacts\n","import Config from './config'\nimport Phaser from 'phaser'\nimport Ship from '../ship/ship'\nimport {_setIsSelectingShips} from '../app/app'\n\nconst devSelectBox = () =>\n    new Promise((resolve, reject) => {\n        let shipY1 = 100\n        let shipY2 = 100\n        for (let i = 0; i < 8; i += 1) {\n            new Ship({\n                faction: Config.userFactionName,\n                x: 50,\n                y: shipY1,\n            })\n            shipY1 += 50\n        }\n        for (let i = 0; i < 8; i += 1) {\n            new Ship({\n                faction: Config.userFactionName,\n                x: 100,\n                y: shipY2,\n            })\n            shipY2 += 50\n        }\n\n        const graphics = Config.scene.add.graphics({\n            lineStyle: {width: 2, color: 0xffff00},\n        })\n        let rect\n        let draw = false\n        let startX = 0\n        let startY = 0\n\n        Config.scene.input.on('pointerdown', function(pointer) {\n            if (!Config.isSelectingShips) {\n                return\n            }\n\n            startX = pointer.worldX\n            startY = pointer.worldY\n            draw = true\n        })\n\n        Config.scene.input.on('pointerup', function() {\n            graphics.clear()\n            // Config.isSelectingShips = false\n            _setIsSelectingShips(false)\n            draw = false\n        })\n\n        Config.scene.input.on('pointermove', function(pointer) {\n            if (draw) {\n                const endX = pointer.worldX - startX\n                const endY = pointer.worldY - startY\n                const width = Math.abs(endX)\n                const height = Math.abs(endY)\n                let x\n                let y\n\n                // Left\n                if (endX < 0) {\n                    // Top\n                    x = pointer.worldX\n                    y = pointer.worldY\n\n                    // Bottom\n                    if (endY > 0) {\n                        y = startY\n                    }\n                }\n\n                // Right\n                if (endX > 0) {\n                    // Bottom\n                    x = startX\n                    y = startY\n\n                    // Top\n                    if (endY < 0) {\n                        y = pointer.worldY\n                    }\n                }\n\n                rect = new Phaser.Geom.Rectangle(x, y, width, height)\n\n                graphics.clear()\n                graphics.strokeRectShape(rect)\n\n                Object.keys(Config.ships).forEach((key) => {\n                    const ship = Config.ships[key]\n\n                    if (ship.faction === Config.enemyFactionName) {\n                        return\n                    }\n\n                    const size = ship.formationRadius\n                    const shipRect = new Phaser.Geom.Rectangle(\n                        ship.x - size / 2,\n                        ship.y - size / 2,\n                        size,\n                        size\n                    )\n\n                    // Draw debug graphics\n                    // const graphics2 = Config.scene.add.graphics({\n                    //     lineStyle: {width: 1, color: 0xffff00},\n                    // })\n                    // graphics2.clear()\n                    // graphics2.strokeRectShape(shipRect)\n                    // graphics2.setDepth(16)\n\n                    const intersection = Phaser.Geom.Intersects.GetRectangleIntersection(\n                        rect,\n                        shipRect\n                    )\n\n                    if (intersection.width) {\n                        Config.selectedShips[key] = ship.name\n                        ship.selected = true\n                    } else {\n                        delete Config.selectedShips[key]\n                        ship.selected = false\n                    }\n                })\n            }\n        })\n\n        return resolve({planet: {x: 100, y: 100}})\n    })\n\nexport default devSelectBox\n","import Config from './config'\n// import Effects from '../effects/effects'\n// import Phaser from 'phaser'\nimport Planet from '../planet/planet'\nimport Ship from '../ship/ship'\n// import Satellite from '../satellite/satellite'\n\nconst devSleep = () =>\n    new Promise((resolve, reject) => {\n        Config.gameStats.resources = 1000\n        // Config.difficultyLevels.difficulty2.planetMineResourceDelay = 4000\n        // const camera = Config.scene.cameras.main\n\n        const homePlanet = new Planet({\n            faction: Config.userFactionName,\n            colonized: true,\n            discovered: true,\n            isHomePlanet: true,\n            isMiningResources: true,\n            x: 200,\n            y: 200,\n        })\n\n        new Ship({\n            faction: Config.userFactionName,\n            orbitingEntity: homePlanet,\n        })\n\n        const enemyPlanet = new Planet({\n            faction: Config.enemyFactionName,\n            colonized: true,\n            discovered: true,\n            x: 200,\n            y: 400,\n        })\n\n        new Ship({\n            faction: Config.enemyFactionName,\n            orbitingEntity: enemyPlanet,\n        })\n        // Config.scene.input.on('pointerdown', ({x, y}) => {\n        //     // ships[0].destroy()\n        // })\n\n        // const ships = []\n        // for (let i = 0; i < 8; i += 1) {\n        //     new Ship({\n        //         faction: Config.userFactionName,\n        //         orbitingEntity: homePlanet,\n        //         // x: 300,\n        //         // y: 300,\n        //     })\n        //\n        //     new Satellite({\n        //         faction: Config.userFactionName,\n        //         orbitingEntity: homePlanet,\n        //     })\n        // }\n\n        return resolve({planet: homePlanet})\n    })\n\nexport default devSleep\n","import Config from './config'\nimport Phaser from 'phaser'\nimport {_setIsMuted} from '../app/app'\nimport audio from './audio'\n\nconst devSound = () =>\n    new Promise((resolve, reject) => {\n        _setIsMuted(false)\n\n        const camera = Config.scene.cameras.main\n        camera.setViewport(\n            0,\n            0,\n            window.screen.width * 3,\n            window.screen.height * 3\n        )\n\n        camera.setZoom(2)\n        camera.centerOn(200, 200)\n\n        class SoundButton {\n            constructor({key, x, y}) {\n                this.button = Config.scene.add.text(x + 4, y + 4, key, {\n                    fill: '#fff',\n                })\n                this.button.setInteractive()\n\n                this.rect = new Phaser.Geom.Rectangle(x, y, 300, 30)\n                this.graphics = Config.scene.add.graphics({\n                    lineStyle: {width: 2, color: 0xffffff},\n                })\n                this.graphics.strokeRectShape(this.rect)\n\n                this.button.on('pointerdown', () => {\n                    audio.play(key)\n                })\n            }\n        }\n\n        console.log(\n            'Config.scene.cache.audio.entries.entries',\n            Config.scene.cache.audio.entries.entries\n        )\n\n        let y = 10\n        Object.keys(Config.scene.cache.audio.entries.entries).forEach((key) => {\n            new SoundButton({\n                key,\n                x: 10,\n                y,\n            })\n            y += 30\n        })\n\n        return resolve()\n    })\n\nexport default devSound\n","import Config from './config'\nimport Phaser from 'phaser'\nimport Artifact from '../artifact/artifact'\nimport Planet from '../planet/planet'\nimport Star from '../star/star'\nimport Ship from '../ship/ship'\nimport Satellite from '../satellite/satellite'\nimport dev1 from './dev-1'\nimport dev2 from './dev-2'\nimport devEntities from './dev-entities'\nimport devArtifacts from './dev-artifacts'\nimport devSelectBox from './dev-select-box'\nimport devSleep from './dev-sleep'\nimport devSound from './dev-sound'\nimport {isDebug} from './utils'\n\nimport {getStoredState} from './store'\n// import {mockData0} from './mock-data'\n// import {addStoredGameStats} from './store'\n\nconst createEntityPreview = (entity) =>\n    new Promise((resolve, reject) => {\n        const width = 100\n        const height = width\n\n        const canvas = document.createElement('canvas')\n        canvas.width = width\n        canvas.height = width\n        canvas.id = `entity-preview-${entity.id}`\n\n        const ctx = canvas.getContext('2d')\n\n        document\n            .querySelector(`#${Config.entityPreviewHolderId}`)\n            .appendChild(canvas)\n\n        if (entity.type === 'star') {\n            const img = new Image()\n            img.src = 'img/star-entity.png'\n            img.addEventListener('load', () => {\n                const imgCanvas = document.createElement('canvas')\n                const imgCtx = imgCanvas.getContext('2d')\n                imgCanvas.width = width\n                imgCanvas.height = height\n                imgCtx.drawImage(img, 0, 0, width, height)\n                imgCtx.globalCompositeOperation = 'source-atop'\n                imgCtx.fillStyle = entity.fillColor.replace('0x', '#')\n                imgCtx.fillRect(0, 0, width, height)\n                imgCtx.globalCompositeOperation = 'source-over'\n\n                // Draw the grayscale image onto the canvas\n                ctx.drawImage(img, 0, 0, width, height)\n\n                // Set compositing\n                ctx.globalCompositeOperation = 'multiply'\n\n                // Draw the fully green img on top of the grayscale image\n                ctx.drawImage(imgCanvas, 0, 0, width, height)\n\n                // Change compositing back to default to clean up\n                ctx.globalCompositeOperation = 'source-over'\n            })\n\n            return resolve()\n        }\n\n        // Radial gradient arc\n        const radius = 34\n        const startX = 50\n        const startY = 50\n        const innerRadius = 2\n        const outerRadius = 90\n        const innerColor = entity.fillColorLight.replace('0x', '#')\n        const middleColor = entity.fillColor.replace('0x', '')\n        const outerColor = entity.fillColorDark.replace('0x', '#')\n        const radialGradient = ctx.createRadialGradient(\n            startX,\n            startY,\n            innerRadius,\n            startX - 20,\n            startY - 20,\n            outerRadius\n        )\n        radialGradient.addColorStop(0, innerColor)\n        middleColor && radialGradient.addColorStop(0.5, `#${middleColor}`)\n        radialGradient.addColorStop(0.9, outerColor)\n\n        ctx.fillStyle = radialGradient\n        ctx.arc(startX, startY, radius, 0, 2 * Math.PI)\n        ctx.fill()\n\n        let imgX = 8\n        let imgY = imgX\n        const imgDiameter = radius * 2\n\n        // Planet Feature\n        const loadFeatureImage = () =>\n            new Promise((resolve) => {\n                const featureImg = new Image()\n                featureImg.src = `img/planet-feature${entity.featureId}.png`\n                featureImg.addEventListener(\n                    'load',\n                    () => {\n                        const imgCanvas = document.createElement('canvas')\n                        imgCanvas.width = width\n                        imgCanvas.height = width\n\n                        const imgCtx = imgCanvas.getContext('2d')\n                        imgCtx.drawImage(\n                            featureImg,\n                            imgX,\n                            imgY,\n                            imgDiameter,\n                            imgDiameter\n                        )\n                        imgCtx.globalCompositeOperation = 'source-atop'\n                        imgCtx.fillStyle = entity.featureColor.replace(\n                            '0x',\n                            '#'\n                        )\n                        imgCtx.fillRect(imgX, imgY, imgDiameter, imgDiameter)\n                        ctx.drawImage(imgCanvas, imgX, imgY, width, height)\n                        ctx.globalCompositeOperation = 'source-over'\n\n                        return resolve()\n                    },\n                    false\n                )\n            })\n\n        // Gloss overlay\n        const loadOverlayImg = () =>\n            new Promise((resolve) => {\n                imgX = imgX * 2\n                imgY = imgX\n\n                const glossImg = new Image()\n                glossImg.src = 'img/planet-overlay.png'\n                glossImg.addEventListener('load', () => {\n                    ctx.drawImage(\n                        glossImg,\n                        imgX,\n                        imgY,\n                        imgDiameter,\n                        imgDiameter\n                    )\n                    return resolve()\n                })\n            })\n\n        return loadFeatureImage()\n            .then(() => loadOverlayImg())\n            .then(() => resolve())\n    })\n\nexport const generateEntityPreviews = (entities) =>\n    new Promise((resolve) => {\n        document.querySelector(`#${Config.entityPreviewHolderId}`).innerHTML =\n            ''\n\n        const promises = []\n\n        Object.keys(entities).forEach((key) => {\n            promises.push(createEntityPreview(entities[key]))\n        })\n\n        return Promise.all(promises).then(() => resolve())\n    })\n\nconst buildSceneFromStore = (state) => {\n    let startingPlanet = Object.keys(state.entities).find(\n        ({isHomePlanet}) => isHomePlanet\n    )\n\n    Object.assign(Config, state.config)\n    Config.gameStats = state.gameStats\n\n    // Artifacts\n    Object.keys(state.artifacts).forEach((key) => {\n        new Artifact({\n            ...state.artifacts[key],\n            id: key,\n        })\n    })\n\n    // Entities\n    Object.keys(state.entities).forEach((key) => {\n        const entity = state.entities[key]\n        const orbitingTowables = {}\n\n        Object.keys(state.artifacts).forEach((artifactKey) => {\n            const artifact = state.artifacts[artifactKey]\n            if (artifact.orbitingEntityId === key) {\n                orbitingTowables[artifactKey] = {id: artifactKey}\n            }\n        })\n\n        entity.orbitingTowables = orbitingTowables\n\n        if (entity.type === 'planet') {\n            const planet = new Planet({...entity, id: key})\n\n            // Find a friendly planet to center camera on if home isn't available\n            if (!startingPlanet && planet.faction === Config.userFactionName) {\n                startingPlanet = planet\n            }\n        }\n\n        if (entity.type === 'star') {\n            new Star({...entity})\n        }\n    })\n\n    // Ships\n    Object.keys(state.ships).forEach((key) => {\n        const ship = state.ships[key]\n        let orbitingEntity\n\n        Object.keys(Config.entities).forEach((entityKey) => {\n            const {orbitingShips} = Config.entities[entityKey]\n\n            Object.keys(orbitingShips).forEach((shipKey) => {\n                if (key === shipKey) {\n                    orbitingEntity = Config.entities[entityKey]\n                }\n            })\n        })\n\n        if (ship.type === 'satellite') {\n            new Satellite({\n                ...ship,\n                orbitingEntity,\n            })\n            return\n        }\n\n        new Ship({\n            ...ship,\n            orbitingEntity,\n        })\n    })\n\n    return {\n        planet: startingPlanet,\n    }\n}\n\nconst getStartZones = () => {\n    const boardSize = Config.boardSizes[Config.boardSize]\n    const padding = Config.boardPadding\n    const width = boardSize.boardWidth / 6\n    const height = boardSize.boardHeight / 6\n\n    // Create a starting zone in each corner of the board\n    const zones = [\n        {\n            x: padding,\n            y: padding,\n        },\n        {\n            x: boardSize.boardWidth - width - padding,\n            y: padding,\n        },\n        {\n            x: padding,\n            y: boardSize.boardHeight - height - padding,\n        },\n        {\n            x: boardSize.boardWidth - width - padding,\n            y: boardSize.boardHeight - height - padding,\n        },\n    ]\n\n    // Draw zones\n    if (isDebug) {\n        zones.forEach(({x, y}, index) => {\n            const rect = new Phaser.Geom.Rectangle(x, y, width, height)\n            const graphics = Config.scene.add.graphics({\n                lineStyle: {width: 2, color: 0xffffff},\n            })\n            const text = Config.scene.add.text(\n                x + 5,\n                y + 5,\n                `${index} - x:${x} y:${y}`,\n                {\n                    fontFamily: 'Roboto, sans-serif',\n                    fontSize: '17px',\n                    color: '#ffffff',\n                }\n            )\n\n            graphics.strokeRectShape(rect)\n            graphics[Config.namespace] = {type: 'zone'}\n\n            zones[index].group = Config.scene.add.group({\n                classType: Phaser.GameObjects.Sprite,\n            })\n            zones[index].group.addMultiple([graphics, text])\n        })\n    }\n\n    // Ensure that the enemy starting zone is not the user starting zone\n    const userStartZoneIndex = Phaser.Math.Between(0, zones.length - 1)\n    const userStartZone = zones[userStartZoneIndex]\n    userStartZone.isUser = true\n    const enemyStartZone = zones.find(({isUser}) => !isUser)\n\n    // Randomly place planet inside zone\n    let data = {\n        [Config.userFactionName]: {\n            x: Phaser.Math.Between(userStartZone.x, userStartZone.x + width),\n            y: Phaser.Math.Between(userStartZone.y, userStartZone.y + height),\n        },\n        [Config.enemyFactionName]: {\n            x: Phaser.Math.Between(enemyStartZone.x, enemyStartZone.x + width),\n            y: Phaser.Math.Between(enemyStartZone.y, enemyStartZone.y + height),\n        },\n    }\n\n    if (Config.enemyFactions.length) {\n        delete data[Config.enemyFactionName]\n\n        if (Config.isDemo) {\n            data = {}\n        }\n\n        Config.enemyFactions.forEach((faction, index) => {\n            // const zone = zones.filter(({isUser}) => !isUser)\n            const zone = zones[index]\n            data[faction] = {\n                x: Phaser.Math.Between(zone.x, zone.x + width),\n                y: Phaser.Math.Between(zone.y, zone.y + height),\n            }\n        })\n    }\n\n    return data\n}\n\nconst getEntityPositions = ({nonPlanetCount, startZones}) =>\n    new Promise((resolve, reject) => {\n        const placeholders = {}\n\n        class Placeholder extends Phaser.GameObjects.Graphics {\n            constructor(scene, options) {\n                super(scene, options)\n\n                const {faction, id, startCoords} = options\n\n                const x = startCoords ? startCoords.x : this.randomCoords().x\n                const y = startCoords ? startCoords.y : this.randomCoords().y\n\n                this.id = id\n                placeholders[id] = this\n                this.faction = faction || false\n\n                this.circle = new Phaser.Geom.Circle(\n                    x,\n                    y,\n                    Config.entityPlaceholderRadius\n                )\n                if (isDebug) {\n                    this.fillStyle(this.faction ? '0xFF0000' : '0xffffff')\n                    this.fillCircleShape(this.circle)\n                    this.setDepth(1)\n                    this[Config.namespace] = {type: 'placeholder'}\n\n                    this.text = Config.scene.add.text(\n                        x,\n                        y,\n                        `${this.id} x${x} y${y}`,\n                        {\n                            fontFamily: 'Roboto, sans-serif',\n                            fontSize: '12px',\n                            color: this.faction ? '#FFFFFF' : '#FF0000',\n                        }\n                    )\n                    this.text.setDepth(2)\n                    this.text[Config.namespace] = {type: 'placeholder text'}\n\n                    scene.add.existing(this.text)\n                }\n                scene.add.existing(this)\n            }\n\n            reposition() {\n                const x = this.randomCoords().x\n                const y = this.randomCoords().y\n\n                this.circle.x = x\n                this.circle.y = y\n                this.clear()\n                if (isDebug) {\n                    this.fillStyle(this.faction ? '0xFF0000' : '0xffffff')\n                    this.fillCircleShape(this.circle)\n\n                    this.text.setText(`${this.id} x${x} y${y}`)\n                    this.text.x = this.circle.x\n                    this.text.y = this.circle.y\n                }\n            }\n\n            randomCoords() {\n                return {\n                    x: Phaser.Math.Between(\n                        Config.boardPadding,\n                        Config.boardSizes[Config.boardSize].boardWidth -\n                            Config.boardPadding\n                    ),\n                    y: Phaser.Math.Between(\n                        Config.boardPadding,\n                        Config.boardSizes[Config.boardSize].boardHeight -\n                            Config.boardPadding\n                    ),\n                }\n            }\n        }\n\n        let placeholderCollisions = {}\n        const placeholderCount =\n            Config.boardSizes[Config.boardSize].planetCount + nonPlanetCount\n\n        const startZoneCount = Object.keys(startZones).length\n        if (Config.isDemo) {\n            Object.keys(startZones).forEach((key, index) => {\n                new Placeholder(Config.scene, {\n                    faction: key,\n                    id: index,\n                    startCoords: startZones[key],\n                })\n            })\n        } else {\n            new Placeholder(Config.scene, {\n                faction: Config.userFactionName,\n                id: 0,\n                startCoords: startZones[Config.userFactionName],\n            })\n            new Placeholder(Config.scene, {\n                faction: Config.enemyFactionName,\n                id: 1,\n                startCoords: startZones[Config.enemyFactionName],\n            })\n        }\n\n        for (let i = startZoneCount; i < placeholderCount; i += 1) {\n            new Placeholder(Config.scene, {id: i})\n        }\n\n        const checkForCollisions = () => {\n            Object.keys(placeholders).forEach((aKey) => {\n                const a = placeholders[aKey]\n\n                Object.keys(placeholders).forEach((bKey) => {\n                    const b = placeholders[bKey]\n\n                    if (a.id === b.id) {\n                        return\n                    }\n\n                    const collision = Phaser.Geom.Intersects.CircleToCircle(\n                        a.circle,\n                        b.circle\n                    )\n\n                    if (collision && !a.faction) {\n                        a.reposition()\n                        placeholderCollisions[a.id] = true\n                    }\n                })\n            })\n        }\n\n        let placeholderAttempts = Config.entityPlaceholderCollisonAttempts\n\n        const placeholderCollisionTimer = window.setInterval(() => {\n            checkForCollisions()\n            isDebug &&\n                console.log(\n                    'placeholder collisions attempts',\n                    Object.keys(placeholderCollisions).length,\n                    placeholderAttempts\n                )\n\n            if (\n                !placeholderAttempts ||\n                !Object.keys(placeholderCollisions).length\n            ) {\n                clearInterval(placeholderCollisionTimer)\n\n                const entityPositions = Object.keys(placeholders).map((key) => {\n                    const {circle, faction, id} = placeholders[key]\n\n                    return {\n                        faction,\n                        id,\n                        x: circle.x,\n                        y: circle.y,\n                    }\n                })\n\n                Object.keys(placeholders).forEach((key) => {\n                    placeholders[key].text && placeholders[key].text.destroy()\n                    placeholders[key].destroy()\n                    delete placeholders[key]\n                })\n\n                return resolve(entityPositions)\n            }\n\n            placeholderAttempts -= 1\n            placeholderCollisions = {}\n        }, 0)\n    })\n\nconst defaultScene = () =>\n    new Promise((resolve, reject) => {\n        const stored = getStoredState()\n        const difficulty = Config.difficultyLevels[Config.difficulty]\n        const {artifactCount, starCountMax, starCountMin} = Config.boardSizes[\n            Config.boardSize\n        ]\n        Config.gameStats.resources = difficulty.resources\n\n        if (stored) {\n            if (stored.careerStats) {\n                Config.careerStats = stored.careerStats\n            }\n\n            if (!stored.isResetting) {\n                return resolve(buildSceneFromStore(stored))\n            }\n        }\n\n        const starCount = Config.chance.integer({\n            min: starCountMin,\n            max: starCountMax,\n        })\n\n        const nonPlanetCount = starCount + artifactCount\n        const startZones = getStartZones()\n\n        return getEntityPositions({nonPlanetCount, startZones}).then(\n            (entityPositions) => {\n                let manualInsertIndex = 0\n\n                // Use the first entity position for user home planet\n                const homePlanet = new Planet({\n                    faction: Config.userFactionName,\n                    colonized: true,\n                    discovered: true,\n                    isHomePlanet: true,\n                    isMiningResources: true,\n                    x: entityPositions[0].x,\n                    y: entityPositions[0].y,\n                })\n                entityPositions[0].assigned = true\n\n                // Create a friendly ship orbiting home planet\n                for (let i = 0; i < difficulty.userShipCount; i += 1) {\n                    new Ship({\n                        faction: Config.userFactionName,\n                        orbitingEntity: homePlanet,\n                        x: homePlanet.x,\n                        y: homePlanet.y,\n                    })\n                }\n\n                // Use the second entity position for enemy home planet\n                const enemyPlanet = new Planet({\n                    faction: Config.enemyFactionName,\n                    colonized: true,\n                    isEnemyHomePlanet: true,\n                    x: entityPositions[1].x,\n                    y: entityPositions[1].y,\n                })\n                entityPositions[1].assigned = true\n\n                // Create an enemy ship orbiting enemy planet\n                for (let i = 0; i < difficulty.enemyShipCount; i += 1) {\n                    new Ship({\n                        faction: Config.enemyFactionName,\n                        orbitingEntity: enemyPlanet,\n                        x: enemyPlanet.x,\n                        y: enemyPlanet.y,\n                    })\n                }\n\n                manualInsertIndex = 2\n\n                // Create stars from star count\n                // for (\n                //     let i = manualInsertIndex;\n                //     i < starCount + manualInsertIndex;\n                //     i += 1\n                // ) {\n                //     new Star({\n                //         x: entityPositions[i].x,\n                //         y: entityPositions[i].y,\n                //     })\n                //     entityPositions[i].assigned = true\n                // }\n                //\n                // manualInsertIndex += starCount\n\n                // Create artifacts from artifact count\n                for (\n                    let i = manualInsertIndex;\n                    i < artifactCount + manualInsertIndex;\n                    i += 1\n                ) {\n                    new Artifact({\n                        x: entityPositions[i].x,\n                        y: entityPositions[i].y,\n                    })\n                    entityPositions[i].assigned = true\n                }\n\n                manualInsertIndex += artifactCount\n\n                // The rest of the entity positions will be planets\n                entityPositions.forEach(({assigned}, index) => {\n                    if (assigned) {\n                        return\n                    }\n\n                    new Planet({\n                        x: entityPositions[index].x,\n                        y: entityPositions[index].y,\n                    })\n                    entityPositions[index].assigned = true\n                })\n\n                return resolve({planet: homePlanet})\n            }\n        )\n    })\n\nconst demoScene = () =>\n    new Promise((resolve, reject) => {\n        const difficulty = Config.difficultyLevels[Config.difficulty]\n\n        Config.gameStats.resources = difficulty.resources\n        Config.boardSize = 'size1'\n        Config.difficulty = 'difficulty3'\n        Config.enemyFactions = ['opfor0', 'opfor1', 'opfor2', 'opfor3']\n\n        const startZones = getStartZones()\n\n        return getEntityPositions({nonPlanetCount: 0, startZones}).then(\n            (entityPositions) => {\n                let conflict0\n\n                const addEnemy = (faction, index) => {\n                    const enemyPlanet = new Planet({\n                        faction,\n                        colonized: true,\n                        isEnemyHomePlanet: true,\n                        x: entityPositions[index].x,\n                        y: entityPositions[index].y,\n                        discovered: true,\n                    })\n\n                    if (index === 0) {\n                        conflict0 = enemyPlanet\n                    }\n\n                    // Create an enemy ship orbiting enemy planet\n                    for (let i = 0; i < 1; i += 1) {\n                        new Ship({\n                            faction,\n                            orbitingEntity: enemyPlanet,\n                            x: enemyPlanet.x,\n                            y: enemyPlanet.y,\n                        })\n                    }\n                    new Satellite({\n                        faction,\n                        orbitingEntity: enemyPlanet,\n                        x: enemyPlanet.x,\n                        y: enemyPlanet.y,\n                    })\n                }\n\n                Config.enemyFactions.forEach((faction, index) => {\n                    addEnemy(faction, index)\n                    entityPositions[index].assigned = true\n                })\n\n                new Ship({\n                    faction: 'opfor1',\n                    orbitingEntity: conflict0,\n                    x: conflict0.x,\n                    y: conflict0.y,\n                })\n                new Ship({\n                    faction: 'opfor2',\n                    orbitingEntity: conflict0,\n                    x: conflict0.x,\n                    y: conflict0.y,\n                })\n                new Ship({\n                    faction: 'opfor3',\n                    orbitingEntity: conflict0,\n                    x: conflict0.x,\n                    y: conflict0.y,\n                })\n\n                // The rest of the entity positions will be planets\n                entityPositions.forEach(({assigned}, index) => {\n                    if (assigned) {\n                        return\n                    }\n\n                    new Planet({\n                        x: entityPositions[index].x,\n                        y: entityPositions[index].y,\n                        discovered: true,\n                    })\n                    entityPositions[index].assigned = true\n                })\n\n                return resolve()\n            }\n        )\n    })\n\nexport const chooseScene = ({isDemo}) =>\n    new Promise((resolve) => {\n        if (isDemo) {\n            return resolve(demoScene())\n        }\n\n        const scenes = {\n            dev1,\n            dev2,\n            devArtifacts,\n            devEntities,\n            devSelectBox,\n            devSleep,\n            devSound,\n        }\n\n        const key = Object.keys(scenes).find((key) =>\n            new RegExp(key).test(window.location.href)\n        )\n\n        return resolve(scenes[key] ? scenes[key]() : defaultScene())\n    })\n","import Phaser from 'phaser'\nimport {\n    _setHamburgerIsOpen,\n    _setIsSelectingShips,\n    _setLastSelectedShipId,\n} from '../app/app'\nimport handleShipPointerDown from '../ship/pointer-down'\nimport handleTowablePointerDown from '../towable/pointer-down'\n\nconst bindShipSelectPointerEvents = (Config) => {\n    const graphics = Config.scene.add.graphics({\n        lineStyle: {width: 2, color: 0x6653d7},\n    })\n    let rect\n    let draw = false\n    let startX = 0\n    let startY = 0\n\n    graphics[Config.namespace] = {type: 'ship select box'}\n    graphics.setDepth(7)\n\n    Config.scene.input.on('pointerdown', function(pointer) {\n        if (!Config.isSelectingShips) {\n            return\n        }\n\n        startX = pointer.worldX\n        startY = pointer.worldY\n        draw = true\n    })\n\n    Config.scene.input.on('pointerup', function() {\n        graphics.clear()\n        _setIsSelectingShips(false)\n        draw = false\n    })\n\n    Config.scene.input.on('pointermove', function(pointer) {\n        if (!draw) {\n            return\n        }\n\n        const endX = pointer.worldX - startX\n        const endY = pointer.worldY - startY\n        const width = Math.abs(endX)\n        const height = Math.abs(endY)\n        let x\n        let y\n\n        // Left\n        if (endX < 0) {\n            // Top\n            x = pointer.worldX\n            y = pointer.worldY\n\n            // Bottom\n            if (endY > 0) {\n                y = startY\n            }\n        }\n\n        // Right\n        if (endX > 0) {\n            // Bottom\n            x = startX\n            y = startY\n\n            // Top\n            if (endY < 0) {\n                y = pointer.worldY\n            }\n        }\n\n        rect = new Phaser.Geom.Rectangle(x, y, width, height)\n\n        graphics.clear()\n        graphics.strokeRectShape(rect)\n\n        Object.keys(Config.ships).forEach((key) => {\n            const ship = Config.ships[key]\n\n            if (ship.faction.includes(Config.enemyFactionName)) {\n                return\n            }\n\n            const size = ship.formationRadius\n            const shipRect = new Phaser.Geom.Rectangle(\n                ship.x - size / 2,\n                ship.y - size / 2,\n                size,\n                size\n            )\n\n            // Draw debug graphics\n            // const graphics2 = Config.scene.add.graphics({\n            //     lineStyle: {width: 1, color: 0xffff00},\n            // })\n            // graphics2.clear()\n            // graphics2.strokeRectShape(shipRect)\n            // graphics2.setDepth(16)\n\n            const intersection = Phaser.Geom.Intersects.GetRectangleIntersection(\n                rect,\n                shipRect\n            )\n\n            if (intersection.width) {\n                Config.selectedShips[key] = ship.name\n                ship.selected = true\n                _setLastSelectedShipId(ship.id)\n            } else {\n                delete Config.selectedShips[key]\n                ship.selected = false\n            }\n        })\n    })\n}\n\nexport const bindScenePointerEvents = (\n    Config,\n    parallaxStars1,\n    parallaxStars2\n) => {\n    // Board Click\n    Config.scene.input.on('pointerdown', () => {\n        const {worldX, worldY} = Config.scene.input.activePointer\n\n        for (const key in Config.entities) {\n            Config.entities[key].handlePointerdown(worldX, worldY)\n        }\n\n        handleTowablePointerDown(worldX, worldY)\n        handleShipPointerDown(worldX, worldY)\n    })\n\n    bindShipSelectPointerEvents(Config)\n\n    const camera = Config.scene.cameras.main\n    const moveBoundaryPadding = Config.boardPadding / 2\n    let lastPinchZoom\n\n    // Pinch Zoom\n    // https://phaser.discourse.group/t/using-multitouch-for-pinch-to-zoom/243\n    const dragScale = Config.scene.plugins\n        .get('rexpinchplugin')\n        .add(Config.scene)\n    dragScale\n        .on('drag1', (dragScale) => {\n            _setHamburgerIsOpen(false)\n            if (Config.isSelectingShips) {\n                return\n            }\n\n            const drag1Vector = dragScale.drag1Vector\n            camera.scrollX -= drag1Vector.x / camera.zoom\n            camera.scrollY -= drag1Vector.y / camera.zoom\n\n            // Stop parallax effect when near boundaries\n            if (\n                camera.worldView.x <= 0 - moveBoundaryPadding ||\n                camera.worldView.y <= 0 - moveBoundaryPadding ||\n                camera.worldView.x + camera.worldView.width >=\n                    camera._bounds.width -\n                        Config.boardPadding * 2 +\n                        moveBoundaryPadding ||\n                camera.worldView.y + camera.worldView.height >=\n                    camera._bounds.height -\n                        Config.boardPadding * 2 +\n                        moveBoundaryPadding\n            ) {\n                return\n            }\n\n            parallaxStars1.blitter.x -= drag1Vector.x / camera.zoom / 4\n            parallaxStars1.blitter.y -= drag1Vector.y / camera.zoom / 4\n\n            parallaxStars2.blitter.x += drag1Vector.x / camera.zoom / 4\n            parallaxStars2.blitter.y += drag1Vector.y / camera.zoom / 4\n        })\n        .on(\n            'pinch',\n            (pinch) => {\n                const scaleFactor = pinch.scaleFactor\n\n                if (lastPinchZoom) {\n                    // Zooming out\n                    if (lastPinchZoom > camera.zoom) {\n                        if (camera.zoom < Config.zoomMin) {\n                            lastPinchZoom = Config.zoomMin\n                            camera.zoomTo(Config.zoomMin, 0, 'Linear', true)\n                            return\n                        }\n                    }\n                    // Zooming in\n                    if (lastPinchZoom < camera.zoom) {\n                        if (camera.zoom > Config.zoomMax) {\n                            lastPinchZoom = Config.zoomMax\n                            camera.zoomTo(Config.zoomMax, 0, 'Linear', true)\n                            return\n                        }\n                    }\n                }\n\n                lastPinchZoom = camera.zoom\n                camera.zoomTo((camera.zoom *= scaleFactor), 0, 'Linear', true)\n            },\n            Config.scene\n        )\n}\n","// import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport {isDebug} from '../launch/utils'\nimport {handleTowableClick} from '../app/app'\n\nexport default function handleTowablePointerDown(worldX, worldY) {\n    const towableBodies = Config.scene.matter\n        .getMatterBodies()\n        .filter((body) => {\n            const customProps = body[Config.namespace]\n\n            if (!customProps) {\n                return false\n            }\n\n            if (!customProps.isTowableBody) {\n                return false\n            }\n\n            return true\n        })\n\n    // https://photonstorm.github.io/phaser3-docs/Phaser.Physics.Matter.MatterPhysics.html\n    const undiscoveredClickArea = 28\n    const undiscoveredIntersection = Config.scene.matter.intersectRect(\n        worldX - undiscoveredClickArea / 2,\n        worldY - undiscoveredClickArea / 2,\n        undiscoveredClickArea,\n        undiscoveredClickArea,\n        false,\n        towableBodies\n    )\n    const actualClickArea = 1\n    const actualIntersection = Config.scene.matter.intersectRect(\n        worldX - actualClickArea / 2,\n        worldY - actualClickArea / 2,\n        actualClickArea,\n        actualClickArea,\n        false,\n        towableBodies\n    )\n    const intersection = undiscoveredIntersection.length\n        ? undiscoveredIntersection\n        : actualIntersection\n\n    if (intersection.length) {\n        const id = intersection[0][Config.namespace].towableId\n        const towable = Config.towables[id]\n\n        if (\n            towable.isDiscovered &&\n            undiscoveredIntersection.length &&\n            !actualIntersection.length\n        ) {\n            return\n        }\n\n        isDebug && console.log(towable)\n\n        if (towable.towShipId) {\n            Config.ships[towable.towShipId].selected = false\n            delete Config.selectedShips[towable.towShipId]\n        }\n\n        if (Object.keys(Config.selectedShips).length) {\n            return\n        }\n\n        if (towable.isSelected) {\n            towable.isSelected = false\n            Config.selectedTowableId = null\n            handleTowableClick(null, true)\n            return\n        }\n\n        Config.selectedTowableId = id\n        towable.isSelected = true\n        handleTowableClick(towable)\n    } else if (Config.selectedTowableId) {\n        const towable = Config.towables[Config.selectedTowableId]\n\n        towable.isSelected = false\n        Config.selectedTowableId = null\n        handleTowableClick(null, true)\n    }\n}\n","import Phaser from 'phaser'\nimport Config from '../launch/config'\nimport {_setMinimapOpen} from '../app/app'\n\nexport default class Minimap {\n    constructor() {\n        this.active = false\n    }\n\n    hide() {\n        Config.scene.cameras.remove(this.camera)\n        this.active = false\n    }\n\n    show() {\n        const camera = Config.scene.cameras.main\n        // const isWindows = window.navigator.userAgent.includes('Windows')\n        // const pixelRatio = isWindows ? 2 : window.devicePixelRatio\n        const miniWidth = 300\n        const miniRect = new Phaser.Geom.Rectangle(\n            0, // camera.width - miniWidth, // x\n            60, // y\n            miniWidth, // w\n            miniWidth // h\n        )\n\n        const miniBoardSizeMap = {\n            size1: {\n                coords: 3.8, // Offset for click pan to x/y\n                zoom: 0.27, // Zoom of mini\n                origin: 0.37, // Top/Left alignment of board within mini\n            },\n            size2: {\n                coords: 4.3,\n                zoom: 0.23,\n                origin: 0.3,\n            },\n            size3: {\n                coords: 4.8,\n                zoom: 0.2,\n                origin: 0.25,\n            },\n        }\n\n        this.active = true\n        this.camera = Config.scene.cameras\n            .add(miniRect.x, miniRect.y, miniRect.width, miniRect.height)\n            .setZoom(miniBoardSizeMap[Config.boardSize].zoom)\n            .setName('mini')\n            .setOrigin(miniBoardSizeMap[Config.boardSize].origin)\n        this.camera.setBackgroundColor(0x1c0f3a)\n        this.camera.scrollX = miniRect.width\n        this.camera.scrollY = miniRect.height\n        // this.camera.alpha = 0.8\n        // this.camera.setTint(0xffff00)\n        // this.camera.transparent = true\n\n        Config.scene.input.on('pointerdown', (pointer) => {\n            if (!this.active) {\n                return\n            }\n\n            this.hide()\n            _setMinimapOpen(false)\n\n            const pointerRect = new Phaser.Geom.Rectangle(\n                pointer.x,\n                pointer.y,\n                1,\n                1\n            )\n\n            const intersection = Phaser.Geom.Intersects.GetRectangleIntersection(\n                miniRect,\n                pointerRect\n            )\n\n            if (!intersection.width) {\n                return\n            }\n\n            intersection.x -= miniRect.x\n            intersection.y -= miniRect.y\n            const coords = {\n                x: intersection.x * miniBoardSizeMap[Config.boardSize].coords,\n                y: intersection.y * miniBoardSizeMap[Config.boardSize].coords,\n            }\n\n            camera.pan(coords.x, coords.y, 300, 'Linear', true)\n            camera.zoomTo(Config.zoomDefault, 10)\n        })\n    }\n}\n","import Config from './config'\nimport Phaser from 'phaser'\nimport {orbitTowable} from '../entity/utils'\n// import {setOrbitingShipProp} from '../ship/utils'\nimport {setShipDestination} from '../ship/utils'\nimport audio from '../launch/audio'\n\n// https://photonstorm.github.io/phaser3-docs/Phaser.Physics.Matter.MatterPhysics.html#overlap__anchor\nexport default function handleOverlap() {\n    Object.keys(Config.ships).forEach((shipKey) => {\n        const ship = Config.ships[shipKey]\n\n        // Enemy ship is within friendly entity sensor\n        Object.keys(Config.entities)\n            .filter((key) => {\n                const entity = Config.entities[key]\n                return (\n                    entity.faction === Config.userFactionName &&\n                    !!entity.sensorCircle\n                )\n            })\n            .forEach((key) => {\n                if (ship.faction === Config.userFactionName) {\n                    return\n                }\n\n                const entity = Config.entities[key]\n                const shipInSensorRange = Phaser.Geom.Intersects.CircleToCircle(\n                    ship.shipCircle,\n                    entity.sensorCircle\n                )\n\n                if (!ship.isDetected) {\n                    ship.isDetected = shipInSensorRange\n                }\n            })\n\n        Object.keys(Config.ships).forEach((otherShipKey) => {\n            const otherShip = Config.ships[otherShipKey]\n\n            if (ship.faction === otherShip.faction) {\n                return\n            }\n\n            const otherShipInSensorRange = Phaser.Geom.Intersects.CircleToCircle(\n                ship.sensorCircle,\n                otherShip.shipCircle\n            )\n\n            const otherShipInProximityRange = Phaser.Geom.Intersects.CircleToCircle(\n                ship.proximityCircle,\n                otherShip.shipCircle\n            )\n\n            if (!otherShip.isDetected) {\n                otherShip.isDetected = otherShipInSensorRange\n\n                // Play sound\n                if (\n                    otherShipInSensorRange &&\n                    !Config.soundTriggers.shipSensorWarnSound\n                ) {\n                    Config.soundTriggers.shipSensorWarnSound = true\n                    audio.shipSensor()\n                }\n            }\n\n            if (otherShipInSensorRange && otherShipInProximityRange) {\n                // Begin shooting\n                ship.sprite.setAwake()\n                ship.fighting = true\n                ship.weaponTimer.paused = false\n                if (!Object.keys(ship.weaponTargets).length) {\n                    ship.weaponTargets[otherShip.id] = {\n                        x: Config.ships[otherShip.id].x,\n                        y: Config.ships[otherShip.id].y,\n                    }\n                }\n\n                // Enemy ships follow friendly ships\n                if (\n                    ship.faction.includes(Config.enemyFactionName) &&\n                    ship.type !== 'satellite' &&\n                    !ship.orbitingEntity &&\n                    !otherShip.orbitingEntity &&\n                    otherShip.faction === Config.userFactionName &&\n                    (!ship.following || ship.following === otherShip.id)\n                ) {\n                    const minDistance = ship.proximityCircle.radius / 2\n                    if (\n                        otherShip.x < ship.x - minDistance ||\n                        otherShip.x > ship.x + minDistance ||\n                        otherShip.y < ship.y - minDistance ||\n                        otherShip.y > ship.y + minDistance\n                    ) {\n                        let x = otherShip.x\n                        let y = otherShip.y\n                        const dist = 3\n                        if (otherShip.x < ship.x) {\n                            x = x + ship.diameter * dist\n                        }\n                        if (otherShip.x > ship.x) {\n                            x = x - ship.diameter * dist\n                        }\n                        if (otherShip.y < ship.y) {\n                            y = y + ship.diameter * dist\n                        }\n                        if (otherShip.y > ship.y) {\n                            y = y - ship.diameter * dist\n                        }\n                        if (!ship.following) {\n                            ship.following = otherShip.id\n                        }\n                        setShipDestination({\n                            ship,\n                            x,\n                            y,\n                        })\n                    }\n                }\n            }\n        })\n    })\n\n    const bodies = Config.scene.matter.getMatterBodies()\n    const entityOrbitBodies = bodies.filter(\n        (body) => body[Config.namespace]?.isOrbitBody\n    )\n    // const userEntitySensorBodies = bodies.filter((body) => {\n    //     const customProps = body[Config.namespace]\n    //     const entity =\n    //         customProps &&\n    //         customProps.isEntitySensorBody &&\n    //         Config.entities[customProps.entityId]\n    //     return entity && entity.faction === Config.userFactionName\n    // })\n    const moveMarkerBodies = bodies.filter(\n        (body) => body[Config.namespace]?.isMoveMarker\n    )\n    const shipBodies = bodies.filter(\n        (body) => body[Config.namespace]?.isShipBody\n    )\n    // const undetectedEnemyShipBodies = shipBodies.filter((body) => {\n    //     const ship = Config.ships[body[Config.namespace].shipId]\n    //     // hide enemy ships, show them in entity/ship hit\n    //     ship.isDetected = false\n    //     setOrbitingShipProp(ship.id, 'isDetected', ship.isDetected)\n    //     return ship.faction.includes(Config.enemyFactionName)\n    // })\n    // const shipSensorBodies = bodies.filter(\n    //     (body) => body[Config.namespace]?.isShipSensorBody\n    // )\n    // const userShipSensorBodies = shipSensorBodies.filter(\n    //     (body) =>\n    //         Config.ships[body[Config.namespace].shipId].faction ===\n    //         Config.userFactionName\n    // )\n    // const shipProximityBodies = bodies.filter(\n    //     (body) => body[Config.namespace]?.isShipProximityBody\n    // )\n    const towableBodies = bodies.filter(\n        (body) => body[Config.namespace]?.isTowableBody\n    )\n    // // Enemy ship is within friendly entity sensor\n    // Config.scene.matter.overlap(\n    //     undetectedEnemyShipBodies,\n    //     userEntitySensorBodies,\n    //     (shipBody, entitySensorBody) => {\n    //         Config.ships[shipBody[Config.namespace].shipId].isDetected = true\n    //     }\n    // )\n    // // Enemy Ship is within sensor range of friendly ship\n    // Config.scene.matter.overlap(\n    //     userShipSensorBodies,\n    //     undetectedEnemyShipBodies,\n    //     (shipSensorBody, enemyShipBody) => {\n    //         // Play sound\n    //         if (!Config.soundTriggers.shipSensorWarnSound) {\n    //             Config.soundTriggers.shipSensorWarnSound = true\n    //             audio.shipSensor()\n    //         }\n    //         Config.ships[\n    //             enemyShipBody[Config.namespace].shipId\n    //         ].isDetected = true\n    //     }\n    // )\n    // // Ship proximity starts fight\n    // Config.scene.matter.overlap(\n    //     shipProximityBodies,\n    //     shipBodies,\n    //     (proximityBody, shipBody) => {\n    //         const shipId = proximityBody[Config.namespace].shipId\n    //         const ship = Config.ships[shipId]\n    //         const otherShipId = shipBody[Config.namespace].shipId\n    //         const otherShip = Config.ships[otherShipId]\n    //         if (ship.id === otherShipId || ship.faction === otherShip.faction) {\n    //             return\n    //         }\n    //         // Wake ships if sleep enabled\n    //         // ship.sprite.setAwake()\n    //         // otherShip.sprite.setAwake()\n    //         // Begin shooting\n    //         ship.fighting = true\n    //         ship.weaponTimer.paused = false\n    //         ship.weaponTargets[otherShipId] = {\n    //             x: Config.ships[otherShipId].x,\n    //             y: Config.ships[otherShipId].y,\n    //         }\n    //         // Enemy ships follow friendly ships\n    //         if (\n    //             ship.faction.includes(Config.enemyFactionName) &&\n    //             ship.type !== 'satellite' &&\n    //             !ship.orbitingEntity &&\n    //             !otherShip.orbitingEntity &&\n    //             otherShip.faction === Config.userFactionName &&\n    //             (!ship.following || ship.following === otherShip.id)\n    //         ) {\n    //             const minDistance = ship.proximityBody.circleRadius / 2\n    //             if (\n    //                 otherShip.x < ship.x - minDistance ||\n    //                 otherShip.x > ship.x + minDistance ||\n    //                 otherShip.y < ship.y - minDistance ||\n    //                 otherShip.y > ship.y + minDistance\n    //             ) {\n    //                 let x = otherShip.x\n    //                 let y = otherShip.y\n    //                 const dist = 3\n    //                 if (otherShip.x < ship.x) {\n    //                     x = x + ship.diameter * dist\n    //                 }\n    //                 if (otherShip.x > ship.x) {\n    //                     x = x - ship.diameter * dist\n    //                 }\n    //                 if (otherShip.y < ship.y) {\n    //                     y = y + ship.diameter * dist\n    //                 }\n    //                 if (otherShip.y > ship.y) {\n    //                     y = y - ship.diameter * dist\n    //                 }\n    //                 if (!ship.following) {\n    //                     ship.following = otherShip.id\n    //                 }\n    //                 setShipDestination({\n    //                     ship,\n    //                     x,\n    //                     y,\n    //                 })\n    //             }\n    //         }\n    //     }\n    // )\n    // Entity detects ship then assigns ship to orbit\n    // Move marker body is within entity orbit body\n    Config.scene.matter.overlap(\n        entityOrbitBodies,\n        moveMarkerBodies,\n        (orbitBody, moveMarkerBody) => {\n            const {entityId} = orbitBody[Config.namespace]\n            const entity = Config.entities[entityId]\n            const {shipId} = moveMarkerBody[Config.namespace]\n            const ship = Config.ships[shipId]\n            const shipBody = ship.sprite.body\n            // Ship body is within entity orbit body\n            Config.scene.matter.overlap(\n                orbitBody,\n                shipBody,\n                (orbitBody, shipBody) => {\n                    // Assign ship to orbit\n                    ship.orbitingEntity = entity\n                    ship.graphics && ship.graphics.clear()\n                    ship.moveMarker && ship.moveMarker.destroy()\n                    ship.moving = false\n                    // Ship is towing a towable, enter towable into orbit\n                    if (\n                        entity.type === 'planet' &&\n                        entity.faction === Config.userFactionName\n                    ) {\n                        Object.keys(ship.towedTowables).forEach((towableId) => {\n                            orbitTowable(entity, towableId)\n                        })\n                    } else {\n                        ship.detachTowables()\n                    }\n                }\n            )\n        }\n    )\n    // Ship has hit a towable\n    Config.scene.matter.overlap(\n        shipBodies,\n        towableBodies,\n        (shipBody, towableBody) => {\n            const {towableId} = towableBody[Config.namespace]\n            const {shipId} = shipBody[Config.namespace]\n            const towable = Config.towables[towableId]\n            const ship = Config.ships[shipId]\n            if (\n                Object.keys(ship.towedTowables).length ===\n                    Config.shipMaxTowables ||\n                ship.faction.includes(Config.enemyFactionName)\n            ) {\n                return\n            }\n            towable.addConstraint(ship)\n        }\n    )\n}\n","import React from 'react'\n\nconst Cost = ({positive, amount}) => (\n    <span className=\"toolbar__menu-button-cost\">\n        {positive ? '+' : '-'}\n        <img\n            alt=\"resources\"\n            className=\"toolbar__menu-button-cost-icon\"\n            src={`${process.env.PUBLIC_URL}/img/resources-green.png`}\n        />\n        {amount}\n    </span>\n)\n\nexport default Cost\n","import React from 'react'\nimport classnames from 'classnames'\nimport Cost from './cost'\n\nconst ToolbarMenuItem = ({\n    amount,\n    className,\n    disabled,\n    hidden,\n    iconClassName,\n    id,\n    image,\n    label,\n    onClick,\n    positive,\n}) => {\n    if (hidden) {\n        return null\n    }\n    return (\n        <button\n            type=\"button\"\n            data-label={label}\n            disabled={disabled}\n            className={classnames('toolbar__menu-item', className, {\n                'toolbar__menu-item--disabled': disabled,\n            })}\n            onClick={onClick}\n        >\n            <img\n                className={classnames('toolbar__icon', iconClassName)}\n                src={image}\n                alt={id}\n            />\n            {!!amount ? <Cost amount={amount} positive={positive} /> : null}\n        </button>\n    )\n}\n\nexport default ToolbarMenuItem\n","import React from 'react'\nimport ToolbarMenuItem from './toolbar-menu-item'\n\nconst ToolbarMenu = ({items}) => {\n    return (\n        <div className=\"toolbar__menu\">\n            {items.map((item, index) => {\n                return (\n                    <ToolbarMenuItem\n                        key={`toolbar-menu-item-${index}`}\n                        {...item}\n                    />\n                )\n            })}\n        </div>\n    )\n}\n\nexport default ToolbarMenu\n","import {_addToEventLog, forceAppUpdate} from '../app/app'\nimport Config from '../launch/config'\nimport Effects from '../effects/effects'\nimport ArcTimer from '../arc-timer/arc-timer'\nimport Ship from '../ship/ship'\nimport Satellite from '../satellite/satellite'\nimport audio from '../launch/audio'\n\nconst handleBuildShipClick = (entity, isSatellite) => {\n    if (!entity) {\n        return\n    }\n\n    const {x, y} = entity\n    const difficulty = Config.difficultyLevels[Config.difficulty]\n\n    let resourceCost = difficulty.shipResourceCost\n    let duration = difficulty.shipBuildTime\n    let statusLabelText = 'Building'\n\n    if (isSatellite) {\n        resourceCost = difficulty.satelliteResourceCost\n        duration = difficulty.satelliteBuildTime\n        entity.isBuildingSatellite = true\n        // statusLabelText = 'Building Satellite'\n    }\n\n    entity.statusLabel.setText(statusLabelText)\n    entity.isBuildingShip = true\n\n    Config.gameStats.resources -= resourceCost\n    new Effects().resourceAnim({\n        x,\n        y,\n        num: resourceCost,\n        positive: false,\n    })\n\n    forceAppUpdate()\n\n    const arc = new ArcTimer({\n        color: Config.colorGreen,\n        duration,\n        radius: entity.diameter + 2,\n        reverse: true,\n        x,\n        y,\n    })\n\n    arc.promise.then(() => {\n        Config.gameStats.shipsBuilt += 1\n        entity.isBuildingShip = false\n        if (isSatellite) {\n            entity.isBuildingSatellite = false\n        }\n        entity.statusLabel.setText('')\n\n        const shipConfig = {\n            faction: Config.userFactionName,\n            orbitingEntity: entity,\n            x,\n            y,\n        }\n\n        const ship = isSatellite\n            ? new Satellite(shipConfig)\n            : new Ship(shipConfig)\n\n        Config.ships[ship.id] = ship\n\n        _addToEventLog({\n            html: `<span style=\"color: #${Config.colorGreen}\">${entity.name}</span> has built a ${ship.type}`,\n            coords: {x, y},\n        })\n        audio.constructionComplete()\n        forceAppUpdate()\n    })\n}\n\nexport default handleBuildShipClick\n","import {_addToEventLog, forceAppUpdate} from '../app/app'\nimport Config from '../launch/config'\nimport Effects from '../effects/effects'\nimport ArcTimer from '../arc-timer/arc-timer'\nimport {saveGame} from '../launch/store'\nimport {gameOverCheck} from '../game-over/utils'\nimport {isDebug} from '../launch/utils'\nimport audio from '../launch/audio'\n\nconst handleColonizeClick = (entity) => {\n    if (!entity) {\n        return\n    }\n\n    const {x, y} = entity\n    const difficulty = Config.difficultyLevels[Config.difficulty]\n    const conquering = entity.faction === Config.enemyFactionName\n\n    entity.isColonizing = true\n    forceAppUpdate()\n\n    const arc = new ArcTimer({\n        color: Config.colorGreen,\n        duration: difficulty.planetColonizeTime,\n        radius: entity.diameter + 2,\n        reverse: true,\n        x,\n        y,\n    })\n\n    entity.statusLabel.setText(conquering ? 'Conquering' : 'Colonizing')\n\n    arc.promise.then(() => {\n        entity.statusLabel.setText('')\n        Config.gameStats.resources += difficulty.planetResourceBonus\n\n        if (conquering) {\n            Config.gameStats.planetsConquered += 1\n            Config.gameStats.score += difficulty.planetConquerPoints\n            new Effects().scoreAnim({\n                x,\n                y,\n                num: difficulty.planetConquerPoints,\n                positive: true,\n            })\n        } else {\n            Config.gameStats.planetsColonized += 1\n            Config.gameStats.score += difficulty.planetColonizePoints\n            new Effects().scoreAnim({\n                x,\n                y,\n                num: difficulty.planetColonizePoints,\n                positive: true,\n            })\n        }\n\n        // Since we're showing two scores, delay the second animation\n        setTimeout(() => {\n            new Effects().resourceAnim({\n                x,\n                y,\n                num: difficulty.planetResourceBonus,\n                positive: true,\n            })\n        }, Config.pointAnimDelay)\n\n        let faction = Config.userFactionName\n\n        if (isDebug) {\n            if (entity.faction === Config.userFactionName) {\n                faction = Config.enemyFactionName\n            } else {\n                faction = Config.userFactionName\n            }\n        }\n\n        entity.faction = faction\n        entity.colonized = true\n        entity.isColonizing = false\n\n        _addToEventLog({\n            html: `The planet <span style=\"color: #${Config.colorGreen}\">${\n                entity.name\n            }</span> has been ${conquering ? 'conquered' : 'colonized'}`,\n            coords: {x, y},\n        })\n        audio.colonize()\n        saveGame(`${entity.name} colonize`)\n        gameOverCheck(`${entity.name} colonize`)\n\n        // TODO: Why is this delay required to set collected artifacts?\n        setTimeout(() => {\n            forceAppUpdate()\n        }, 100)\n    })\n}\n\nexport default handleColonizeClick\n","import Config from '../launch/config'\nimport Effects from '../effects/effects'\nimport {_addToEventLog, forceAppUpdate} from '../app/app'\nimport {saveGame} from '../launch/store'\nimport audio from '../launch/audio'\n\nconst handleDisbandClick = () => {\n    const difficulty = Config.difficultyLevels[Config.difficulty]\n    const shipNamesArr = []\n\n    Object.keys(Config.selectedShips).forEach((key) => {\n        const ship = Config.ships[key]\n        const {name, type, x, y} = ship\n\n        shipNamesArr.push(name)\n\n        new Effects().disband({scale: ship.scale, texture: ship.texture, x, y})\n\n        const salvage =\n            type === 'satellite'\n                ? difficulty.satelliteResourceDisbandSalvage\n                : difficulty.shipResourceDisbandSalvage\n\n        Config.gameStats.resources += salvage\n        audio.disband()\n\n        new Effects().resourceAnim({\n            x,\n            y,\n            num: salvage,\n            positive: true,\n        })\n    })\n\n    let shipNames = shipNamesArr[0]\n    let html = `The ship <span style=\"color: #${Config.colorGreen}\">${shipNames}</span> has been dismantled`\n\n    if (Object.keys(Config.selectedShips).length > 1) {\n        shipNames = shipNamesArr.join(', ')\n        html = `The ships <span style=\"color: #${Config.colorGreen}\">${shipNames}</span> have been dismantled`\n    }\n\n    _addToEventLog({\n        html,\n        // coords: {x, y},\n    })\n\n    Object.keys(Config.selectedShips).forEach((key) => {\n        Config.ships[key].destroy()\n    })\n\n    forceAppUpdate()\n    saveGame('handleDisbandClick')\n}\n\nexport default handleDisbandClick\n","import Config from '../launch/config'\nimport {deselectAllShips} from '../ship/utils'\n\nconst handleInfoClick = ({\n    entity,\n    ship,\n    selectedShipIds,\n    setModalContentType,\n    toggleGameOverOverlay,\n    toggleModal,\n    towable,\n}) => {\n    const cam = Config.scene.cameras.main\n    let camTarget\n    let modalType\n\n    if (entity) {\n        modalType = 'entity'\n        camTarget = entity\n        entity.deselect()\n    }\n\n    if (ship && Object.keys(selectedShipIds).length === 1) {\n        modalType = 'ship'\n        camTarget = ship\n        deselectAllShips()\n    }\n\n    if (towable) {\n        modalType = 'towable'\n        camTarget = towable\n        towable.deselect()\n    }\n\n    if (camTarget) {\n        cam.pan(camTarget.x, camTarget.y, 300, 'Linear', true)\n        cam.zoomTo(Config.zoomDefault, Config.zoomDefaultTime)\n    }\n\n    toggleGameOverOverlay(false)\n    modalType && setModalContentType(modalType)\n    toggleModal()\n}\n\nexport default handleInfoClick\n","import {_addToEventLog, forceAppUpdate} from '../app/app'\nimport Config from '../launch/config'\nimport Effects from '../effects/effects'\nimport ArcTimer from '../arc-timer/arc-timer'\nimport {saveGame} from '../launch/store'\nimport audio from '../launch/audio'\n\nconst handleMineClick = (entity) => {\n    if (!entity) {\n        return\n    }\n\n    const {x, y} = entity\n    const difficulty = Config.difficultyLevels[Config.difficulty]\n\n    entity.isBuildingMine = true\n    entity.statusLabel.setText('Building')\n\n    Config.gameStats.resources -= difficulty.planetMineResourceCost\n\n    new Effects().resourceAnim({\n        x,\n        y,\n        num: difficulty.planetMineResourceCost,\n        positive: false,\n    })\n\n    forceAppUpdate()\n\n    const arc = new ArcTimer({\n        color: Config.colorGreen,\n        duration: difficulty.planetMineBuildTime,\n        radius: entity.diameter + 2,\n        reverse: true,\n        x,\n        y,\n    })\n\n    arc.promise.then(() => {\n        Config.gameStats.score += difficulty.planetMineBuildPoints\n        new Effects().scoreAnim({\n            x,\n            y,\n            num: difficulty.planetMineBuildPoints,\n            positive: true,\n        })\n\n        entity.statusLabel.setText('')\n        entity.isMiningResources = true\n        entity.isBuildingMine = false\n\n        _addToEventLog({\n            html: `The planet <span style=\"color: #${Config.colorGreen}\">${entity.name}</span> is now producing resources`,\n            coords: {x, y},\n        })\n        audio.mine()\n        forceAppUpdate()\n        saveGame('handleMineClick')\n    })\n}\n\nexport default handleMineClick\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAA1VBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////CNNypAAAARnRSTlMADA4PEBESExUxMzQ2Nzg5Ojw9R0pLTU5PUFFWWVpbXGBhYnBzdHd5en2BhIiur7GztLa4uby/6+zt7u/w8fLz9ff4+fr7quzaOwAAAAFiS0dERhe6+e0AAAE6SURBVHja7dhXVgJBEEDRVswg5qyIkQEMgAlGMAxY+1+SC4CWno+qPnLe20DdjwnV7RwR0T+s2PmQsT6fylbz9zKZ2OjYZn6hJ576yyaAini7MAEkfkDDBFD3A5oAAAAAAACACeDKD7g1AZT8gC2blejeN79ttBPOPUye3yqYrcXl67uxbjY5LhAR0ey31u77dxEZdErK83cz+bvhoe7VUFem9b6kCTiT6VU1AbUAgOodUT0A0AQAAMBMA5LYgEpswEIaGeAOhpEBbv35Ky6AWzIAAAAAAAAAAAAAAAAAiA5YfewGHNGl1yrqzN/5lsCyfY35828SXKpxa30qOaoqAGp5AA3bh9/mdQAAAEB0QBL7Q3SeB3CpAFhMw+cPVjR+h0ej0Pk/JzoLwcZLFrQNvG47IiIiIqIc/QLbavKTEmdQMgAAAABJRU5ErkJggg==\"","import React, {useContext, useEffect, useState} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport classnames from 'classnames'\nimport {AppContext, forceAppUpdate} from '../app/app'\nimport Config from '../launch/config'\nimport {_setIsSelectingShips} from '../app/app'\nimport ToolbarMenu from './toolbar-menu'\nimport handleBuildShipClick from './build-ship-click'\nimport handleColonizeClick from './colonize-click'\nimport handleDisbandClick from './disband-click'\nimport handleInfoClick from './info-click'\nimport handleMineClick from './mine-click'\nimport {deselectAllShips} from '../ship/utils'\nimport audio from '../launch/audio'\n\nimport menuImg from './img/bars.png'\nimport pauseImg from './img/pause.png'\nimport playImg from './img/play.png'\nimport mapMarkerImg from './img/map-marker.png'\nimport colonizeImg from './img/flag-white.png'\nimport disbandImg from './img/disband-white.png'\nimport homeImg from './img/home.png'\nimport feedbackImg from './img/feedback.png'\nimport shipImg from './img/ship-white.png'\nimport satelliteImg from './img/satellite-white.png'\nimport resourcesImg from './img/resources-white.png'\nimport infoImg from './img/info.png'\nimport muteImg from './img/mute.png'\nimport unmuteImg from './img/unmute.png'\nimport selectShipsImg from './img/select-ships.png'\nimport zoomInImg from './img/zoom-in.png'\nimport zoomOutImg from './img/zoom-out.png'\nimport compassImg from './img/compass.png'\n\nimport './toolbar.css'\n\nconst Toolbar = () => {\n    const {\n        hamburgerIsOpen,\n        isGameLoading,\n        isGameOver,\n        isModalOpen,\n        isMuted,\n        isPaused,\n        isSelectingShips,\n        lastSelectedShipId,\n        minimapOpen,\n        modalContentType,\n        selectedEntityId,\n        selectedShipIds,\n        selectedTowableId,\n        setHamburgerIsOpen,\n        setIsMuted,\n        setMinimapOpen,\n        setModalContentType,\n        toggleGameOverOverlay,\n        toggleModal,\n        togglePaused,\n    } = useContext(AppContext)\n    const [satelliteCount, setSatelliteCount] = useState(0)\n    const history = useHistory()\n\n    const difficulty = Config.difficultyLevels[Config.difficulty]\n    const entity = Config.entities[selectedEntityId]\n    const ship = Config.ships[lastSelectedShipId]\n    const towable = Config.towables[selectedTowableId]\n    const friendlyShips = Object.keys(Config.ships).filter((key) => {\n        const ship = Config.ships[key]\n\n        return (\n            ship.faction === Config.userFactionName && ship.type !== 'satellite'\n        )\n    })\n    const shipIsSelected = Object.keys(selectedShipIds).length > 0\n    const towableIsSelected = !!towable?.isSelected\n    const entityIsSelected = !!entity?.selected\n    const cameras = Config.scene.cameras\n    const cam = cameras?.main\n\n    useEffect(() => {\n        if (!entity) {\n            return\n        }\n\n        const count = Object.keys(entity.orbitingShips).filter(\n            (key) => entity.orbitingShips[key].type === 'satellite'\n        ).length\n\n        setSatelliteCount(count)\n    }, [entity])\n\n    const genericBtnAction = (args) => {\n        audio.buttonClick()\n        _setIsSelectingShips(false)\n        toggleModal(false)\n        setHamburgerIsOpen(false)\n\n        if (entityIsSelected) {\n            entity.selected = false\n        }\n        if (towableIsSelected) {\n            towable.isSelected = false\n        }\n    }\n\n    const closeMinimap = () => {\n        if (minimapOpen) {\n            setMinimapOpen(false)\n            Config?.minimap?.hide()\n        }\n    }\n\n    const handleCompassClick = () => {\n        deselectAllShips()\n\n        if (entity) {\n            entity.deselect()\n        }\n\n        toggleGameOverOverlay(false)\n        setModalContentType('compass')\n        toggleModal()\n    }\n\n    const isFriendlyPlanet =\n        entity?.colonized && entity?.faction === Config.userFactionName\n\n    const hasFriendlyOrbitingShip =\n        entity &&\n        Object.keys(entity.orbitingShips).find((key) => {\n            const ship = Config.ships[key]\n\n            return (\n                ship?.type !== 'satellite' &&\n                ship?.faction === Config.userFactionName\n            )\n        })\n\n    const hasEnemyOrbitingShip =\n        entity &&\n        Object.keys(entity.orbitingShips).find((key) => {\n            const ship = Config.ships[key]\n\n            return ship?.faction === Config.enemyFactionName\n        })\n\n    const showInfoButton =\n        entity?.selected ||\n        (ship && Object.keys(selectedShipIds).length === 1) ||\n        towable?.isSelected\n\n    const showColonizeButton =\n        !isGameOver &&\n        hasFriendlyOrbitingShip &&\n        entity?.selected &&\n        entity?.type === 'planet' &&\n        !isFriendlyPlanet\n\n    const showMineResourcesButton =\n        !isGameOver &&\n        entity?.selected &&\n        entity?.type === 'planet' &&\n        !entity?.isMiningResources &&\n        isFriendlyPlanet\n\n    const showBuildShipButton =\n        !isGameOver &&\n        entity?.selected &&\n        entity?.faction === Config.userFactionName\n\n    const showDisbandButton =\n        ship && !isGameOver && Object.keys(selectedShipIds).length > 0\n\n    const satelliteButtonDisabled =\n        entity?.isBuildingMine ||\n        entity?.isBuildingShip ||\n        Config.gameStats.resources < difficulty.satelliteResourceCost ||\n        satelliteCount >= Config.satelliteMax\n\n    const infoClick = () =>\n        handleInfoClick({\n            entity,\n            selectedShipIds,\n            setModalContentType,\n            ship,\n            toggleGameOverOverlay,\n            toggleModal,\n            towable,\n        })\n\n    if (isGameLoading || isPaused) {\n        return null\n    }\n\n    return (\n        <div className=\"toolbar\">\n            {shipIsSelected ? (\n                <ToolbarMenu\n                    id=\"ship\"\n                    items={[\n                        {\n                            image: infoImg,\n                            label: 'Details',\n                            onClick: () => {\n                                genericBtnAction()\n                                infoClick()\n                            },\n                            hidden: !showInfoButton,\n                            disabled: false,\n                        },\n                        {\n                            image: disbandImg,\n                            label: 'Disband',\n                            onClick: () => {\n                                genericBtnAction()\n                                handleDisbandClick()\n                            },\n                            amount:\n                                ship?.type === 'satellite'\n                                    ? difficulty.satelliteResourceDisbandSalvage\n                                    : difficulty.shipResourceDisbandSalvage,\n                            positive: true,\n                            hidden: !showDisbandButton,\n                            disabled: false,\n                        },\n                    ]}\n                />\n            ) : null}\n            {towableIsSelected ? (\n                <ToolbarMenu\n                    id=\"towable\"\n                    items={[\n                        {\n                            id: 'details',\n                            image: infoImg,\n                            label: 'Details',\n                            onClick: () => {\n                                genericBtnAction()\n                                infoClick()\n                            },\n                            hidden: false,\n                            disabled: false,\n                        },\n                    ]}\n                />\n            ) : null}\n            {entityIsSelected ? (\n                <ToolbarMenu\n                    id=\"entity\"\n                    items={[\n                        {\n                            image: infoImg,\n                            label: 'Details',\n                            onClick: () => {\n                                genericBtnAction()\n                                infoClick()\n                            },\n                            hidden: false,\n                            disabled: false,\n                        },\n                        {\n                            image: colonizeImg,\n                            label: 'Colonize',\n                            onClick: () => {\n                                genericBtnAction()\n                                handleColonizeClick(entity)\n                            },\n                            amount: difficulty.planetResourceBonus,\n                            positive: true,\n                            hidden: !showColonizeButton,\n                            disabled:\n                                entity?.isColonizing || hasEnemyOrbitingShip,\n                        },\n                        {\n                            image: shipImg,\n                            iconClassName: 'toolbar__icon--ship',\n                            label: 'Build Ship',\n                            onClick: () => {\n                                genericBtnAction()\n                                handleBuildShipClick(entity)\n                            },\n                            amount: difficulty.shipResourceCost,\n                            hidden: !showBuildShipButton,\n                            disabled:\n                                entity?.isBuildingMine ||\n                                entity?.isBuildingShip ||\n                                Config.gameStats.resources <\n                                    difficulty.shipResourceCost ||\n                                friendlyShips.length >= Config.shipMax,\n                        },\n                        {\n                            image: satelliteImg,\n                            label: 'Build Satellite',\n                            onClick: () => {\n                                genericBtnAction()\n                                const isSatellite = true\n                                handleBuildShipClick(entity, isSatellite)\n                                setSatelliteCount(satelliteCount + 1)\n                            },\n                            amount: difficulty.satelliteResourceCost,\n                            hidden: !showBuildShipButton,\n                            disabled: satelliteButtonDisabled,\n                        },\n                        {\n                            image: resourcesImg,\n                            label: 'Mine Resources',\n                            onClick: () => {\n                                genericBtnAction()\n                                handleMineClick(entity)\n                            },\n                            amount: difficulty.planetMineResourceCost,\n                            hidden: !showMineResourcesButton,\n                            disabled:\n                                entity?.isBuildingMine ||\n                                entity?.isBuildingShip ||\n                                Config.gameStats.resources <\n                                    difficulty.planetMineResourceCost,\n                        },\n                    ]}\n                />\n            ) : null}\n\n            {hamburgerIsOpen ? (\n                <ToolbarMenu\n                    id=\"main\"\n                    items={[\n                        {\n                            image: homeImg,\n                            label: 'Main Menu',\n                            onClick: () => {\n                                genericBtnAction()\n                                history.push('starbase')\n                            },\n                            hidden: false,\n                            disabled: false,\n                        },\n                        {\n                            image: isMuted ? muteImg : unmuteImg,\n                            label: 'Mute',\n                            onClick: () => {\n                                genericBtnAction()\n                                if (isPaused) {\n                                    return\n                                }\n                                setIsMuted(!isMuted)\n                            },\n                            hidden: false,\n                            disabled: false,\n                        },\n                        {\n                            image: feedbackImg,\n                            label: 'Provide Feedback',\n                            onClick: () => {\n                                genericBtnAction()\n                                window.open(\n                                    'https://docs.google.com/forms/d/e/1FAIpQLSefvVxczFDNc2C_oLjlOVDcOTdFTrCHYEavpu4kWp4X7Jrwwg/viewform?usp=sf_link'\n                                )\n                            },\n                            hidden: false,\n                            disabled: false,\n                        },\n                    ]}\n                />\n            ) : null}\n\n            <button\n                className={classnames('toolbar__button', {\n                    'toolbar__button--active': hamburgerIsOpen,\n                })}\n                onClick={() => {\n                    genericBtnAction()\n                    deselectAllShips()\n                    closeMinimap()\n                    setHamburgerIsOpen(!hamburgerIsOpen)\n                }}\n            >\n                <img\n                    className=\"toolbar__icon toolbar__icon--hamburger\"\n                    src={menuImg}\n                    alt=\"menu\"\n                />\n            </button>\n\n            <button\n                className={classnames('toolbar__button', {\n                    'toolbar__button--active':\n                        isModalOpen && modalContentType === 'compass',\n                })}\n                onClick={() => {\n                    genericBtnAction()\n                    handleCompassClick()\n                    closeMinimap()\n                }}\n            >\n                <img className=\"toolbar__icon\" src={compassImg} alt=\"compass\" />\n            </button>\n\n            <button\n                className={classnames('toolbar__button', {\n                    'toolbar__button--active': minimapOpen,\n                })}\n                onClick={() => {\n                    if (isPaused) {\n                        return\n                    }\n                    genericBtnAction({isMini: true})\n                    setMinimapOpen(!minimapOpen)\n\n                    if (\n                        !Config.scene.cameras.cameras.find(\n                            ({name}) => name === 'mini'\n                        )\n                    ) {\n                        Config.minimap.show()\n                    } else {\n                        Config?.minimap?.hide()\n                    }\n                }}\n            >\n                <img className=\"toolbar__icon\" src={mapMarkerImg} alt=\"map\" />\n            </button>\n\n            <button\n                className={classnames('toolbar__button', {\n                    'toolbar__button--active': isSelectingShips,\n                })}\n                onClick={() => {\n                    genericBtnAction()\n                    closeMinimap()\n                    if (isPaused) {\n                        return\n                    }\n                    deselectAllShips()\n                    _setIsSelectingShips(!isSelectingShips)\n                }}\n            >\n                <img\n                    className=\"toolbar__icon\"\n                    src={selectShipsImg}\n                    alt=\"select\"\n                />\n            </button>\n\n            <button\n                className={classnames('toolbar__button', {\n                    'toolbar__button--disabled': !(cam.zoom < Config.zoomMax),\n                })}\n                disabled={cam.zoom >= Config.zoomMax}\n                onClick={() => {\n                    genericBtnAction()\n                    closeMinimap()\n                    if (cam.zoom < Config.zoomMax) {\n                        // cam.zoom += Config.zoomStep\n                        cam.zoomTo(\n                            (cam.zoom += Config.zoomStep),\n                            0,\n                            'Linear',\n                            true\n                        )\n                    }\n                    forceAppUpdate()\n                }}\n            >\n                <img className=\"toolbar__icon\" src={zoomInImg} alt=\"zoom in\" />\n            </button>\n\n            <button\n                className=\"toolbar__button\"\n                disabled={cam.zoom <= Config.zoomMin}\n                onClick={() => {\n                    genericBtnAction()\n                    closeMinimap()\n                    if (cam.zoom > Config.zoomMin) {\n                        // cam.zoom -= Config.zoomStep\n                        cam.zoomTo(\n                            (cam.zoom -= Config.zoomStep),\n                            0,\n                            'Linear',\n                            true\n                        )\n                    }\n                    forceAppUpdate()\n                }}\n            >\n                <img\n                    className=\"toolbar__icon\"\n                    src={zoomOutImg}\n                    alt=\"zoom out\"\n                />\n            </button>\n\n            <button\n                className={classnames('toolbar__button', {\n                    'toolbar__button--active': isPaused,\n                })}\n                onClick={() => {\n                    genericBtnAction()\n                    closeMinimap()\n                    Config.scene.game.scene.pause('default')\n                    togglePaused(!isPaused)\n                    toggleModal(false)\n                    isPaused && Config.scene.game.scene.resume('default')\n                }}\n            >\n                <img\n                    className=\"toolbar__icon\"\n                    src={isPaused ? playImg : pauseImg}\n                    alt=\"pause/play\"\n                />\n            </button>\n        </div>\n    )\n}\n\nexport default Toolbar\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEnklEQVR4nO2bXYhWRRzGnzHTNbPNbFmiD0wzSSnoezcKMoKim8QiEvrAiyKJyF1329SbigyKNLwyqKtuCwwqurOgsGUz8k6WyMIgNGXbtYXdbPf9dXHOofX9+J8558x73ovOc/nOzP95npk5M3P+Z16pQoUKFSpU+N/CdYIU6JJ0qaTL4p/OSZp2zs2WraXtHQAsltQn6QFJ90haL+k6SYvqqtYknZQ0LumIpMOSRp1zc+3W2BYAG4H3gFPkxylgP7Ch0368AdwOfArUChivRw04BNzWaX8tAawEDgBzAY0364iPgJ5O+70AwCbg9zYar8dp4OFO+5YkAbuA+RLNJ5gHXu2kcUc05fNiAvgF+BU4VyDOAaD87RzYl0FkDfgWGAD6gUuaxFsG3AsMA0cydsK7ZZvf4SnsPPABsCYHxwbgQ/wfrx3t8NpMWH9sLA3fAOsC8N0K/ObZ2X0hPFpilhM9txZqwG6g/qSXl9N3tgGcAJaH4G0l5q0UAX8DWwPyDWQwn2BvKP56MdfHBluhBjwTkC+PeYBZYHUoHQsFHSyr5wuYT3AwlJZEUC8wYxAeAy4OxDXoafKsUTYD9IbQ4yvq7pJ4EowAD6bUGQihKRF2zCD6PBCHt/kFbb406v0YQpeAa1ME3ReAI7P5uN1DKfWvLqpNwLMGwUkKnsPxX/D2NGm7KNbQCk+l8fscVu4yyg455/CI0RTATkn7PaqOOOcadhnnXE3SF0a71LXJpwPWG2Xfe7RvCmBQks9LzB7n3DtG+ahRdmM2VU1AdLxshZtzxhzynPbDHrFuMdr/nEdfPcGEQZA5NYX/grfbM95VRoyz2R03Elhvfkszxgo28gtiLjXinM/uuJFg1iBoSGwYcYKO/IK4XUasmeyOGwnOGATXeMYY9jQ/lENfrxHvj+yOGwnGDYI7PNq3zXwcv8+IeTytvc82+JNRdmeKuFckWVtYgiHnXN68nrUTWdol+XXAuFHW36ogNv+2R/wh59w+j3qtsMkos7T7AdhiTLFJYFmTNjs9p/2ugtq6gD+N+I8WiZ+QXIGdmd1aV3/E0/xgAG1PGPHngJVFORKirwyio8QJ0JLNO+AHg+Nwcef/kW1LMfR0meZjTdboA2wLwZOQrcA+Ev9VsvnLsV+DJ4AVIbgWkr7habIVgqSoiKb+xylcr4fgqidehb3itt18rOPNFK4JYFUovnryl3KYD/IJm2jkX/PgezEEXysRi4GxDOaDfLAkeuY/8eAbAy4KwWmJWQtMeYiZBJ6keM7wcfw+jk4Ca0P5TBO1Gf+7QKNEW5Z37gBYAjyG/2ybI+epL/foAC9IyvIJakLSZ4pyeGOSTse/zUvqlrRa0kZF9wkfkZRlIdvunHs/Q/0wIDog/eM5Su3AHLC9dON1nbCFYnd88mIK2NxR8wmAddjn8tA4CtzQad8XgGiLfJloNW4XponOAks67bclgB6imyQ+W6UvpoC9wJWd9ucNoBt4nuh6XJ6LlPNEF62eA7rbpbOUC4bxyN2vKIV2k6Q1knoU/WdAkqYlnZF0QtJxSd9J+to5V/zDRoUKFSpUqFChQgv8CyF3TDyZN6X6AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAEzUlEQVR4nO2da2gcZRSGH01v0IhBpaK12njFmnihSkVpFRRFUVHrBUSEgghaaQuKWCwI5ocWQS1V/+gvoX8MWNGKULBivVDFWIy3qnilF5PGWqNNizZ9/XEChslmszPzbfa0ex4YyOzOfN+7++zOnAm7ZyEIgiAIgiAIjniOGr0iKXv/HOB+4BrgAqAf+AB4BXhrEvI1HdWEPAKsrrLvp8B1wED6WM3LeEKeBVbUsH8/cCGwK22s5qWSkLuAdTnGeA+4Ml2k5ubozPopwGM5x7gCWJwmTpAVcj0wr8A4NyfIEjBWSEfBcYpIDCowJbM+o+A408sGqUIrJvxM4DTgZOB4YCbQAhwC9gN/AruBHcDPwDbgxzrmKsssYDl2/t0KdAF9WSH9BQf/vXiuMbQBVwOLgAXY9U9R4buALcBm4E3ghxQBS3IC8CRw76jbLgPuwSrW/5F0k4rxtCRKLCdJWiFps6Thghlq4StJqySdWjJvkWWmpDUT5NuQFYKk9QUeaGeBgNMk3S3p/QLzpWDLyPxTq2RMtayUdLCGTAOVhLRLGsrxwJ7IGa5d0vOS9uWYo57sk7RWliu1iCWSdufIMlhJCJLmq7Yn7Jkc4S6RtDFHuEbwjqRFKiehTdKjkvoKzD+uECTNkjRQZeeHagx4uaRPCoRrJNsk3abaJbRKukPShpLzDmarrNH0AzuxErMS31bZF+BSYC1w8QTbeeQcoBsrodcBHwG/AH9jlwptWAnegVVIC4GpKSauJqQoZwEvY2Xr4c5s7L/ek0b2Sr0sXcB3HBkyGkJKIY8DqxKO15SkEtIKLEs0VlOTSsgc4LhEYzU1qYSkPhc1LameyDGfjgiKEa9sZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQZ4QQXyiE+GJ7Pb6nPhkMYa2X9gIHsG9wTQOOxfppHdO4aKVYfTgIGcB6BfcAXwDfA79iXRUqMQNox7osLACupXinvMliD3A7sMmrkI+B9cBGrNtaHg4A34ws3cDDmKA7gSXA2elilmYIazr6XMV7KzRV6a3SKOWGUdvNK9l0RZK2Slou6cQKOVIu8yW9liBvGf6SdQyaoky+Rp/Uh4AXgHOBi4A1QF+d5+wBbsW+W/96nefKshNYijWveQo4mN2gUUJ+Au7Dgj2INaycbLYDtwCd2KGxnmzCWvDOBl4EhsfbMJWQQaw76ER8jvWLPx14Cfg30fxl+BI78Z+BvVvHKxby0gusxKq+q4C3c4+QPZ6p9nMIkt6osu1nkhZWGN/j0iJpsaRXJf1R5TFl2SGpW9JSSXOLzj/Rz1X0Ym/pStwIjO6i2YaVp+eNum0b8ADwbu5Xhw9asNatncBcrMXrdOAf7BroN+zw+zWJegSnLHv3AudjfeA7gA+p/7G53gxjRUDPZE2Y+jrkEFb7dycet2lodNkbZAghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzgghzphIyJ6C9wUFmUjIMuwDZWC/xrx/5O8u7KfkgiAIgiAIgiAI8vIfpsj6Wku9zJUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABHCAYAAACkuwGSAAAEHUlEQVR4nO3cSYgcdRTH8c/0tIka0eRg0EsEDagnjcGDBr0oIi54EfEgxu0iKiJ4cAkqoyYoKlFBxY0EBLecJBANYsAFIhqXOIcsGncUFQ24ZDHx7+GlSM+kl0y6u6prur5Q0NT0vP9/fvNf3qt67z+SUtKBOTgfZ2AeZmAnvsHHeBt/dzJSWlJKra4FKaXXUkq7U3v+SSk9n1Ka38ZWaa9mN2emlJanlPZ2EGYyO1NKy1JKc4r+o3p5jaSJU+xorMY5XQzK7XgEj+OvLuwMBI0CjeItnNcj279gKZ7Brh7ZzJ1aw+c79U4cmIvl2ILrUe+h7dzIRtBx+BKz+tjWZtyD19Fx6xwUshF0jf6KAyfjVXyCi/vcVs/IBLo0xzZPFxvB+zg3x3YPiWyK7cDhBfXhTSzBhoLab0tNTK2ixIEL8ZFYm04tsB9NGUkpjWJP0R3Zx168hPtEKFM4NdxUdCcaGMViseM9KXbXQqnh+KI70YQZuFm4HstEwFwItc5fKZRZuAPbcDeOyrsDgy5Qxmw8gK9wqxhhuVAWgTKy8GUrrpND+FI2gTLm4QWM4wqM9KuhsgqU0ffwpewCZTSGL908yzqA6SJQxiK8izVY2AuDNQVsnTnQs/ClJrzX6cgILscXWIETDsXIdJtizcjCly14whTDl2EQKGMGbjHF8GWYBMpoDF+W6DCihlGgjNm4XzxWeU546QcwzAJlzMQN2CS88glUAu1nDl7GVY03K4EmUhMuwaLGGxUTGcVKMfUqgVpwknicUgnUhmupBGrHQhxTCdSaGuZXArXniOzNakVztteUNG8nB3ZhSzXFWvMOdlcCteYpqm2+FevES4BKoCb8Kp5AohJoMr/jAnyf3agE2s+Hotzis8ablUDx1mMxzsa3k384zD7QGxjTITdyGAVah7uw/mC+PEwCbRDCrJ3KLw3DGrRZPIw/0xTFYXqPoO/EGrNSF1m801Gg30SV0dOiMrIr6jiyWyMDwp94DI/u+9wT6jisV8YKYqcYLUvF6OkpZZ5ie8T6MibWm75QRoESVonas039bqxsAq0VvkxulUFlEWi9EGZd3g0PuqM4jstwlgLEYXAF+hpX4zQRVBZG3WAV2P6MB/EsdhfcF4RAfxTdCXEYwcOiRmygDiOo64NzNQV2iMzThwzGP+oA6vi8gHb/FcUoY/ipgPYPmpGU0lz8IJ+Q4z+R5navqP0aeGrijI1VObS1GgtEDmApxGF/3fyJ2Kg/iQzviXNBPuiD7b6T+UHbRBFtL/kUF4nTFUopDhMdxRW4XawT3bAVV4oMrTVd2iqcyQcswSVih2maed6GH8Wu9KLBOaiga5oJRKTp34YbcWwHG+PiSd4rwq+ZVrQSKKMuShwX4RSRjb5HvODfKHJoxvvcx0L5HzVbjBCq3q78AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAELElEQVR4nN2bTYiWVRTHf8+MI5n0aYykhGik5kxa+LUoC9zpzMIKQRciJCguBIcYaBGzcMBF5GIW7dxYNBhKUQwIRTjIGBF+0FRO2agghg6FRRmajnPiwE1GfX3f+/k8N38wm+Gee+//vud+nHPvgy0iUuZfISKdIvKNiFwSkTdFpNm2/SSUKL5JRPrlbgbNwNzXA6C/8kAN8f+xIvYANKUZLi+mAF8AHXWMn0/RaA5MBYaA5Q36ci52XwvbgsnmFjwAHAcWWZSdBlxrVKgorGVV7gHTge+AuRZl37MR70qVHvAIMAI8aVl+DnDepuD/wQOeAH4CHrcsf8pWvCtV7AKzzGJmK17pStWZsqeAzvUfzapvy7hZ/MZtDVymQJkeoKv8aUfxSq+LeFfK8oClwDFP21bgVxeD3DzglQDxQ67iXUk9AJ3AYIB9d8S+1CTlFNgI9Af07Yo5K0y4GuYwBbYFilfe8hHvSgoPULd9J0Lf9Nf/08ewSg/YFUn8x77ik9EgCaGZmr46iQxX2kISKy7EmAJax17gjUiDP2YCJO+DR5nBkE6h/cD6wHom0xUi3pUQD2gGPgPWRu6TVdKjHmV4gNp9Cbwc0tEaDAPXI9dZF59dQIOZrxOIVxYDZ4EXEtRdE9cBUPf81gQ3qdDMzwlgwCROshkA/eV/ABYm7M9kOkwg1AO0lNTmvRGRtyPu8678JSIdKW6GXHaBUeDpaCPqx/fAa8DP9axTHYV/iSrFj3aTVXofeChGhS4D8G5EIaFsMrHCdnMeSY+ZXzHP+7EYE5GXyowFNLn5CTC/lJG354g5lf7tsgb4HoXV7nXgA3O3lwtngGeKorB2A998gDZwEHg0s7VBd6l5LgahCZF/TAZotnHBHHC5cYqeEnvRZHNaKxyIGUVRXLYtHDsldtTc/e2IXK8teotkLd4Jj9TUwyLyYYnb4e5cH0ktFJGRxOK7c38lpkHMtkTit4YEQ2U9kNBe/ZGg3g3ARyEVlHU7XJhgyvY5jA166jtUs7EMn8i0Rxav2+1XMSoqawB6I9UzYfKFw5HqK2UK6HH5d1/jSWi2uA0YbVQwtymwJUIdelX+LHAhQl23kdoDmk3nQyJGPdktAH6zNcjpicyqQPEXTXRnLd6V1B5wMuCFt8b2SzTB4WpYRkLEhqcCXnfqKr/S944wlyng+8BJ9/dlKR5G1yKVB+i8v+rRn8/NCe+mh+0tcvCAdR42B4A1oeJdSeEBhVm9Zzr0RV+YbI31MKJqD3jOUfyemOKT4RD71/vq6056AvMMWTySmsxjDjm5nUCfbfsuVBkL2J77N5sLzsqJ7QF6anuwQRndIT5NKbwqD2ixEL8aOByxzWBi7gI3zN39vViem3gl9jb4ao3/jZtY3vejiaTEHgD9vE2zNvpL626wz5wJ9EOp/AD+BfEdgvv24Mt0AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABaCAYAAABOkvOJAAAE8klEQVR4nO2dWYhcRRRAT3fmQ43BzAhCjEhQHIiO4IKEEQxB/HBU3MUNQ0QlH4JEYhBUEARB0A8XEIlK3HGPUVFBECJuWfTD5cMFQYQQkeQjUWOMdssNV22H7p6XV1Wv7ntzz2em+1a9Ot3vVlfdV2l1u10awNOAXMjyul/KiIE+hNAGXgQu0RgHAZernFpS52/IAmA9sGTav38MXAT8lKlfQbTr2GngZOCTPjKESf3bSRn6FUwdhZwLfAgcPeQ1i4CPgKkK+xWFuglZCbwJHFzgtfKat4AbKuhXNOok5G7gkRLvWwvclaA/SahLUn8KuCYwxhPAtZH6kwzrQuYDG4ClkeK9pzOwXZHiRceykOOB14FjI8f9Bjgf+Dpy3ChYzSFn6SwptgxhXH+rLEsQOxiLQlYA7wKHJWxjVG9fVydsoxTWhNwOrKuorRbwDHBrRe0VwlIOeQy4LlPbDwM3Zmr7f1gQMhd4TfNGTt4GLgZ+z9mJ3EIkab8BLM7ZiR6+BM4DfsjVgZw5RH5bbDIkQ5gANgOn5+pALiEyu9kIHJ6p/WEcAbwPXJaj8RxCbtPZjWXm6MbXzVX3seoc8ihwfZUNRuAh4KaqGqtKiMykXgbOrqKxBGzQreG9qRuqQsginUlNpG4oMZ/qGti2lM2kziGynbq1ATKEU4EtwCkpG0kp5CpdILQ4kyrLkTpVvyBVA6mE3AE8myh2bkZ0ZSHJDCxFDllbt33sAO6PLSamkHk6d6/rTKosr+jt+Y8YwWIJOUanhk1I3mWQvHIhsD00UIwcslRnH7NVBlqwF2UGFipkua5JjYV2pAEc1fNNKU2IkDuBJ2e7hWmMaL1x6URfNoes071vZzAPAKtSCxnVNakzXUQh1usa2L6ibzgQIZK0XwWOS9b9ZrJFn1/5scjVFc0hU1ri7zIOnNM02U8WeWcRISu1inxuxRfSJOThog+K7ELOJOSekhXnTv+xlpWMNcPGZlAOkSKyF3LtK88CBtaB9ROyUIuck677O/vrwOQD/2vvUEy/ZU1WsQnj7GdKx3p8kJArtfxlgY9XZSzW2eu/VZv/CJH9i+ca8Nx6HRnVav9L0RxygpZQOvkZl2/IahdhhjVt/SXp2GBJXU9yaCxtLQBzbLBVkvqJwOcuxAQT8g35YhaV7VhGHuf7qnfpZJnucMlJO4cCnSHnTnX0djempfvOf/wF7NSxaw0Yl5aO3y/AZ1rftZEBa1lSX3XIDEK6KiLVs+R15jt9AqtTQMhvwO7eP/T7Zb57+ouGEKU4rGHImPxc9pJCpr1tv131Zc6Qb8aM+O8QY7gQY7gQY7gQY7gQY7gQY7gQY7gQY7gQY7gQY7gQY1gv++nqUvafET48Hb3esZC1ptRYF7JL92m2RRKyUA/ynxepf9GxLkQG8XvdN4jBXo1pFus5pKXHjcdivuXbFZ7U7eFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjOFCjBEqJPXzIe3IH5rY8foRNCYhneto8UFKpI09EePvqWALd9+QRwFnJPTTkvqMlG+BHRHj7dCYKQkak1Ah9yW+uHsjx+tW0Oeg+KFC5KynWwJjDEIeFX4pQdzngQcTxEVPtN4cEiDW/45wjp5eekaE0iI5UvVxHbiUXKEP68tB+iFIHpWD3+Sw0HeCIgF/A8iK96/YLxc2AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAflBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vroaSAAAAKXRSTlMAAQIFBwoSExYZHB4qMTU/QEFLUVlbX2JmeZWYmqOvtczR097i6ev3+RBjW40AAAFDSURBVFjD7dXbVsIwEIXhST2g1SqCJyoWFaHd7/+CXNAkM23UCXPn6tzB6v8tKNNANM1/n9nDbWHpnwDsLk/vXwAAjbFHZ+wBaw9rD2sPaw9rD2sPaw9rHwF3M7j0qtD0AXA1KnFp2W4KRY/YQwhlC4yERA/Wc6FsgV6Y3d3Pj7PCj8Cyf1WJHliRe8fvIz6BF3y/KegRKkAKrKcPJcAF3lOnBaLwynuCGogC73MAKfgdyAG4EHYoCyDX9O9+hh3MA/z9ZzuZBcQ+CjkA74OQAfi+E8JeDYT9OxPPxVoLsP0Vz8W1EhD7L4X1XgGIfvR0+7nY/gWE/fOCBJIC/wrsDDwK1fBQTQjsJooz1NWJPiXEn7GRZ7Crq9Qfy0jI/msbCmQVyCqQVSCrQFaBrAJZBTIK32QUnk8H6PwNXwuaZhrFHAAQSsSl06tScQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABdFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wdlxEAAAAe3RSTlMAAQIDBAUGBwgJCgsNDhAREhMUFRYXGBocHSAhIiMqKywtLi81Nzg5Ojs8PT5AQktMTk9QVldbXV5hYmZpa21vc3d4eXt8gIKDhYyOj5GUl5iam52eoKWqq7Cytbm8wMHDxcfIyszO0dPV19ne4OLk5unr7fHz9ff5+/0vCZtlAAACcklEQVRYw+2XZ1MTURSGn00WEbGholgRQRSxISoKKvZeUFREsESwgBURJHn+vB+yYVBiuBtmHJ3xfMpk533m7tlT3gv/42+PVe274+Xo9xf0e3OZB3FdkP6Qqt+ixfrcZE2wXlcv1uvLTLDetb8+6VB9EKxfDOCSaleovgyAIdXGQH05QO20Oh6o/xnQ/rYGYI/qkTD9QkB0Xl9kAO6rsyuC9AsBj1VvANQX1N4g/ULA1rxqG8AZdTYbov8pB22qX7NArerREH0JENfOl0A/wHX1TYg+AcS5sSyQ+aDmVwCbVNcF6IuAOKf3AHap9gB8VE8G6IuALtV2gBfqF4BedRSoOTeRt1IUX+FRKXvNqluAJtUMmUmXiCQHM0kDRd/UU0BGtYmDhgE4oX4AuKCOlF6mk8uhgFh1I9CiFiLgitrH7VAAT5PKWam6CuhWB7gTDOhWbwHk1SagVX2eArBbfQUwpjYD29R3KQBN6hTAk6ShNqtTKQANah7gntoJrFfz1ZxgMDnBhpQnmM/BcJKDLSlzMP8V3idfYYf6PEUdDCd1EKnWA+3qQMpK3ASsU42AHrWvil44rD4DuKl2pu9GhtQ+gE/FXNT0TxQCAA9L86BOdXvpRybVRNoHcFadiZJWGE0/E2vz6kWAu2Vm4tJTmYHSX9lCuam85F7Yr/oY4ID6OvVmasyrNgBM/HY/V9iNDdOqV0udUX43VtrOI6qfYyCaUE+n9gdxTt0JcLySP6jgUOJcca2tmavoUCp4pLgPIBpXx6PqXdq1JV1aZZ94SvVY9U51r+rgcr1y9g+49eJ9Ya6l+vsC1He0LuvG8j/+lfgBSr6rvcCrc9EAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAD1BMVEUAAAD///////////////+PQt5oAAAABHRSTlMAR+Ljkw3fcwAAAAFiS0dEBI9o2VEAAAA2SURBVEjHY2AYBYMKCLtgBYZwBSbYFTjBFbjgAPRUQNCRQtgVKI4mgNH0MJoeRtPDaHoYGgAANv6WynRTcqkAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABqlBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////eFPMCAAAAjXRSTlMAAQIDBAUGBwgJCgsMDRARExQVFhcYGRobHB4gIiMkJicoKy0uLzAxMjQ3ODk6Oz0+P0JFRkpNTlFSVVlbXF1eX2FjZmdoaW9wcXN1d3t+f4CFhomLj5GSlJWXmJqbnaCio6WmqKutsLK3ubq8vsDBw8XHyM7P0dXX2drc3uDi5Obo6evt7/Hz9ff5+/2RStiZAAACs0lEQVQYGZXBiUMMUQAG8O/Nzm6XI1lCSBGl5CwS5WaRs1yRMzlXiSIpSdLOfv+zndmjmXlvZt7+flAzGy+MZ1live1rMKBNNA9TlrmzHVqMrl8M8P2AQKQjSwwxtxfhNqQZ4VUNQnQz2kobgsSGqWVAQCkxQU2vDChUf6O2DyYklbMsw3gMPuYXluW1gId4yzLdh0eK+u7T0QWXPdS1crGylY7sRpSYf6jnd48JTDLvq0DRDWr5fkgA2MGiHhQkqWO8BY4xFmUqkfeM0UYbkJfkqhQctYw0VIeih1xlJWC7zXDWtRqUrKVbL3KMDMP87U/AZYBuP5DTyhDzXQbcKrL02ATgAQN9bRfwOkev8wCWGeBdE/xi/+g1Aayj2twWyI7Tz8R+qh2FTCzQbyv6qbRkQNZJSQeGqNQLhWlKzuIjVTJx2GJXFmZPCxQ0U3YX01RJwSbSzBlGQZqyESxSpRq2Njrq4dhGhTFYVBiEo4+ODjheUCGNRSrUwtFGRz1stVQZwzRlL5En0sx5DMcgVUaQpmwbCmKp3z/7BGzVVLqLIUrSUEhR6Sz6KWmGLG5RqQP76TcNhV6qbcV6+nVCtn6JaiawTK8FAb8tTxlgAsADeh2HT9N7BjoPoJUe/2JwE+1TDLEZgJGh2zm4GF3zDDML2226ZCtQkjizzHCnYNtAlwEUrbluMYKVgOM5V61FXt09RruKvCRLHsLRMEoNVhUKbrEoiZyWCWo5iaL4EvPGAHF4hnqmBEpamLfD7FmkpmwSLtdoW768Qm3dcBMfWKZH8IpPsSxvBHyq5liGyRgkNTPU9ikOhcQkNY0aUIqNUMtNgSAnGC3TjhB144wwugbhjv1liPk2RDK6Fxhg5qCADrH7CWXW4E7oM5sufeYq6/2Z7QbKVlW/a1/ngZbGTRUI9h92Xb8Rc0N77wAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABm1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8scpb8AAAAiHRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESFRYXGRweHyAiIyQlJigpKy0uLzIzNjk7PD0+QEJERUlKS0xNTk9QUVdYWVtcXV5fYmNmZ2lrbHBxdHV3eHl8goaIiYuMj5KXmJqbnZ6goqWoqqutsLW3ury+wMfIyszP1dfZ2tzg4uTm6Onr7e/x8/X3+fv9c38cjgAAAhlJREFUGBm1wQdXUmEABuCXyxIh04qiPc2GlZntbUk2jBw0KRs2JILK0DTTYt33Z3esc797L3zfHZzT80Bp/ZGxmfJqfan05NrOEPzquDJPq5cH4EdkXGez8iF4dqJCmQ8JeBJ8SoVqHzyIFKl2Ca6iZTpJw0XwM52dh7NputkOJ2foaiUMtVidNguT6cv3XjVok4XaY1qNdeGvwN4irZJQWUeLYgKmkzpN01AZpemFBqstVZo6ofCTQkGD3S6azkFuI4VGDM2GKcxCbpDCMFpoyxQ0SE1QiKHVTQobIJWnoQSJzRT2Qeo7DROQCFM4BqkqDTcgQ2EIUjUaRiARoDAEqSUaJiERoXAcUp9o+AaJbRR6IfWQQhda3aGwCVJnKWTQIlyhEIRUkqYeNHtAoQCFBQpzIdgdpWkACqdpykdg1adTqIWgEPxN02IKgjZKizSUrtLq9Q4NazoHl2mhR6EUrtOmUXg29Waedhk4uEV3cTiI6nSThaMM3fTAUZwunsNFls6ScNFNR+/gKkcnW+EqSQcf4cEM1fbAgxSVvsCTPFUOwpPdVJiHRyXK9cOjXkr9CMCrOcqcgmeHKfFLg2eBRba6CB8G2KIWgg/aCpuNwJcLbKJH4UuwQrv78Ok67eLwKVyn1RR8u02rbvjWodOUQxvGaUqiDQkKb9GWRzSk0JZ4nf/k0Kb9da6ZDaFdibtfV9/3B/Bf/QEJavznDlJ4YgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9RKvvlAAAAHnRSTlMAAw0OGBkaHh8vMExVZm+InaKqsbK71t7f5ev1/P3zjImMAAAAAWJLR0QecgogKwAAAMhJREFUWMPtl0kSgkAQBMENdxQFFyT//0zPisBAHgwN8gEZQTHTXRNFI//FLJGC6+OwUAKgTKdOAPd97ARQbKUA8rUUUGVLJxiYJi8MSJM3eqdJjZ5p1gVUWeIE/dLkM7dd7ARQbKQA8pUUUB3nTgBlOnGCgDTppCNNAmhNM0TQmiZhNKdJKE1pEs7ZCk5f/QQZov2N8iDJoywvk7zOdqDIkSaHqhzrcrHY1SaXq1zvsmDIimNLlqx5smjKquvK9sXWff3gGPldnlZMg7/O7FPBAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAD1BMVEUAAAD///////////////+PQt5oAAAABHRSTlMAR+Ljkw3fcwAAAAFiS0dEBI9o2VEAAAA5SURBVEjHY2AYBXAg7AIFhpg8MDCBCTlh8sDABQ4weaMKRhWMKhhVMKpgcCggWJgLwYQUMXmjAAIAcrj9h6Ox9PcAAAAASUVORK5CYII=\"","import React from 'react'\n\nimport {isDebug} from './utils'\nimport {simulateVictory, simulateLoss} from '../game-over/utils'\nimport Config from './config'\n\nconst DebugButtons = () => {\n    if (!isDebug) {\n        return null\n    }\n\n    return (\n        <div className=\"debug-buttons\">\n            <button\n                className=\"side-menu__button\"\n                onClick={() => simulateVictory()}\n            >\n                Simulate Victory\n            </button>\n            <button\n                className=\"side-menu__button\"\n                onClick={() => simulateLoss()}\n            >\n                Simulate Loss\n            </button>\n            <button\n                className=\"side-menu__button\"\n                onClick={() => {\n                    Object.keys(Config.ships).forEach((key) => {\n                        Config.ships[key].destroy()\n                    })\n                }}\n            >\n                Destroy Ships\n            </button>\n        </div>\n    )\n}\n\nexport default DebugButtons\n","import React, {useContext, useEffect} from 'react'\nimport Phaser from 'phaser'\nimport Modal from '../modal/modal'\nimport EventLog from '../event-log/event-log'\nimport Score from '../score/score'\nimport Config from './config'\nimport Chance from 'chance'\nimport Effects from '../effects/effects'\nimport LoadSplash from '../load-splash/load-splash'\nimport Nebula from '../nebula/nebula'\nimport BlitterStarPattern from '../blitter-star-pattern/blitter-star-pattern'\nimport GameOverOverlay from '../game-over/overlay'\nimport {saveGame} from './store'\nimport {enemyMove} from '../opponent/opponent'\nimport {chooseScene, generateEntityPreviews} from './setup'\nimport {gameOverCheck} from '../game-over/utils'\nimport {\n    AppContext,\n    forceAppUpdate,\n    handleBoardClick,\n    _addToEventLog,\n    _setGameLoading,\n    _setGameLoadingPercent,\n    _setGameOver,\n    _setIsSelectingShips,\n    _setMinimapOpen,\n    _setModalOpenState,\n    _setSelectedShipIds,\n    _togglePaused,\n} from '../app/app'\nimport {bindScenePointerEvents} from './pointer'\nimport {isDebug} from './utils'\nimport Minimap from '../minimap/minimap'\nimport handleOverlap from './overlap'\nimport audio from './audio'\nimport {deselectAllShips} from '../ship/utils'\nimport Toolbar from '../toolbar/toolbar'\nimport DebugButtons from './debug-buttons'\nimport {demoPan, getBoardPoints} from './utils'\n\nimport './launch.css'\n\nwindow.onbeforeunload = () => {\n    if (!window.location.href.includes('launch')) {\n        return\n    }\n\n    _togglePaused(false)\n\n    // Allow towables to be towed again after refresh\n    Object.keys(Config.towables).forEach((key) => {\n        const towable = Config.towables[key]\n        towable.isBeingTowed = false\n        towable.towShipId = null\n    })\n    saveGame('onbeforeunload')\n}\n\nexport const destroyGame = () => {\n    saveGame('unmount')\n    _setGameLoading(true)\n\n    // http://labs.phaser.io/edit.html?src=src\\game%20config\\game%20destroy.js\n    if (Config.scene.sys) {\n        Config.scene.sys.game.destroy(true)\n    }\n\n    Config.artifacts = {}\n    Config.scene = {}\n    Config.entities = {}\n    Config.ships = {}\n    Config.enemyFactions = []\n}\n\nexport const initGame = (props = {}) => {\n    const {isDemo} = props\n    function preload() {\n        _setGameLoading(true)\n        _setGameOver(false)\n\n        this.load.on('progress', function(value) {\n            _setGameLoadingPercent(Math.round((value / 1) * 100))\n        })\n\n        this.load.image('artifact', './img/artifact.png')\n        this.load.image('artifactRed', './img/artifact-red.png')\n        this.load.image('artifactGreen', './img/artifact-green.png')\n        this.load.image('artifactWhite', './img/artifact-white.png')\n        this.load.image('blitterStar1', './img/blitter-star-1.png')\n        this.load.image('blitterStar2', './img/blitter-star-2.png')\n        this.load.image('disbandWhite', './img/disband-white.png')\n        this.load.image('flagGreen', './img/flag-green.png')\n        this.load.image('flagRed', './img/flag-red.png')\n        this.load.image('flagBlue', './img/flag-blue.png')\n        this.load.image('flagOrange', './img/flag-orange.png')\n        this.load.image('hammer', './img/hammer-white.png')\n        this.load.image('homeGreen', './img/home-green.png')\n        this.load.image('homeRed', './img/home-red.png')\n        this.load.image('moveMarker', './img/move-marker.png')\n        this.load.image('nebula1', './img/nebula1.png')\n        this.load.image('nebula2', './img/nebula2.png')\n        this.load.image('nebula3', './img/nebula3.png')\n        this.load.image('nebula4', './img/nebula4.png')\n        this.load.image('nebula5', './img/nebula5.png')\n        this.load.image('nebula6', './img/nebula6.png')\n        this.load.image('nebula7', './img/nebula7.png')\n        this.load.image('nebula8', './img/nebula8.png')\n        this.load.image('nebula9', './img/nebula9.png')\n        this.load.image('nebula10', './img/nebula10.png')\n        this.load.image('nebula11', './img/nebula11.png')\n        this.load.image('nebula12', './img/nebula12.png')\n        this.load.image('particleWhite', './img/particle-white.png')\n        this.load.image('planetOverlay', './img/planet-overlay.png')\n        this.load.image('planetFeature1', './img/planet-feature1.png')\n        this.load.image('planetFeature2', './img/planet-feature2.png')\n        this.load.image('planetFeature3', './img/planet-feature3.png')\n        this.load.image('planetFeature4', './img/planet-feature4.png')\n        this.load.image('planetFeature5', './img/planet-feature5.png')\n        this.load.image('planetFeature6', './img/planet-feature6.png')\n        this.load.image('planetFeature7', './img/planet-feature7.png')\n        this.load.image('planetFeature8', './img/planet-feature8.png')\n        this.load.image('question', './img/question.png')\n        this.load.image('resourcesGreen', './img/resources-green.png')\n        this.load.image('resourcesWhite', './img/resources-white.png')\n        this.load.image('satelliteGreen', './img/satellite-green.png')\n        this.load.image(\n            'satelliteGreenRank1',\n            './img/satellite-green-rank-1.png'\n        )\n        this.load.image(\n            'satelliteGreenRank2',\n            './img/satellite-green-rank-2.png'\n        )\n        this.load.image(\n            'satelliteGreenRank3',\n            './img/satellite-green-rank-3.png'\n        )\n        this.load.image('satelliteRed', './img/satellite-red.png')\n        this.load.image('satelliteWhite', './img/satellite-white.png')\n        this.load.image('satelliteBlue', './img/satellite-blue.png')\n        this.load.image('satelliteOrange', './img/satellite-orange.png')\n        this.load.image('score', './img/score.png')\n        this.load.image('selectShips', './img/select-ships.png')\n        this.load.image('shipGreen', './img/ship-green.png')\n        this.load.image('shipGreenRank1', './img/ship-green-rank-1.png')\n        this.load.image('shipGreenRank2', './img/ship-green-rank-2.png')\n        this.load.image('shipGreenRank3', './img/ship-green-rank-3.png')\n        this.load.image('shipRed', './img/ship-red.png')\n        this.load.image('shipWhite', './img/ship-white.png')\n        this.load.image('shipBlue', './img/ship-blue.png')\n        this.load.image('shipOrange', './img/ship-orange.png')\n        this.load.image('starEntity', './img/star-entity.png')\n        this.load.image('star', './img/star.png')\n        this.load.image('undiscovered', './img/undiscovered.png')\n\n        this.load.audio('soundButtonClick', ['./sound/button-click.mp3'])\n        this.load.audio('soundConstructionComplete', [\n            './sound/construction-complete.mp3',\n        ])\n        this.load.audio('soundEntitySelect1', ['./sound/entity-select-1.mp3'])\n        this.load.audio('soundGameWin', ['./sound/game-win.mp3'])\n        this.load.audio('soundGameLose', ['./sound/game-lose.mp3'])\n\n        this.load.audio('soundMoveMarker1', ['./sound/ship-move-marker-1.mp3'])\n        this.load.audio('soundPlanetColonize', ['./sound/planet-colonize.mp3'])\n        this.load.audio('soundPlanetMine', ['./sound/planet-mine.mp3'])\n        this.load.audio('soundResourcesAdd', ['./sound/resources-add.mp3'])\n        this.load.audio('soundResourcesSubtract', [\n            './sound/resources-subtract.mp3',\n        ])\n        this.load.audio('soundScore1', ['./sound/score-1.mp3'])\n        this.load.audio('soundShipEnterOrbit1', [\n            './sound/ship-enter-orbit-1.mp3',\n        ])\n        this.load.audio('soundShipDisband', ['./sound/ship-disband.mp3'])\n        this.load.audio('soundShipExplode1', ['./sound/ship-explode-1.mp3'])\n        this.load.audio('soundShipExplode2', ['./sound/ship-explode-2.mp3'])\n        this.load.audio('soundShipSensor1', ['./sound/ship-sensor-1.mp3'])\n        this.load.audio('soundShipSelect1', ['./sound/ship-select-1.mp3'])\n        this.load.audio('soundShipShoot1', ['./sound/ship-shoot-1.mp3'])\n        this.load.audio('soundTrack1', ['./sound/track-1.mp3'])\n        this.load.audio('soundTrack2', ['./sound/track-2.mp3'])\n        this.load.audio('soundTrack3', ['./sound/track-3.mp3'])\n        this.load.audio('soundTrack4', ['./sound/track-4.mp3'])\n        this.load.audio('soundTractorBeam1', ['./sound/tractor-beam-1.mp3'])\n\n        this.load.plugin(\n            'rexpinchplugin',\n            './plugins/rexpinchplugin.min.js',\n            true\n        )\n    }\n\n    function create() {\n        Config.scene = this\n        Config.chance = new Chance()\n        Config.isDemo = isDemo\n\n        !isDemo && audio.init(this)\n\n        this.matter.world.update30Hz()\n        this.matter.world.engine.world.gravity.x = 0\n        this.matter.world.engine.world.gravity.y = 0\n        // this.matter.world.engine.world.gravity.scale = 0\n\n        if (isDebug) {\n            this.matter.world.debugConfig.showSleeping = true\n            // this.matter.world.debugConfig.showCollisions = true\n            // this.matter.world.debugConfig.showBroadphase = true\n            // this.matter.world.debugConfig.showBounds = true\n        }\n\n        const difficulty = Config.difficultyLevels[Config.difficulty]\n\n        // Autosave Timer\n        this.time.addEvent({\n            delay: Config.autoSaveInterval,\n            callback: () => saveGame('autosave'),\n            loop: true,\n        })\n\n        // Opponent Move Timer\n        this.time.addEvent({\n            delay: difficulty.enemyMoveInterval,\n            callback: enemyMove,\n            loop: true,\n        })\n\n        // Resource Timer\n        this.time.addEvent({\n            delay: difficulty.planetMineResourceDelay,\n            callback: () => {\n                if (Config.isGameOver) {\n                    return\n                }\n                // audio.resources(true)\n\n                Object.keys(Config.entities).forEach((key) => {\n                    const entity = Config.entities[key]\n\n                    if (!entity.isMiningResources) {\n                        return\n                    }\n\n                    Config.gameStats.resources +=\n                        difficulty.planetMineResourceRate\n\n                    new Effects().resourceAnim({\n                        x: entity.x,\n                        y: entity.y,\n                        num: difficulty.planetMineResourceRate,\n                        positive: true,\n                        type: 'resources',\n                    })\n                })\n                forceAppUpdate()\n                saveGame('resource timer')\n            },\n            loop: true,\n        })\n\n        // Demo pan timer\n        if (Config.isDemo) {\n            this.time.addEvent({\n                delay: 5000,\n                callback: demoPan,\n                loop: true,\n            })\n        }\n\n        // Reset sensor warning sound\n        Config.soundTriggers = {}\n        Config.soundTriggers.shipSensorWarnSound = false\n        Config.scene.time.addEvent({\n            delay: 15000,\n            callback: () => {\n                Config.soundTriggers.shipSensorWarnSound = false\n            },\n            loop: true,\n        })\n\n        // Play atmospheric sounds\n        audio.atmospheric()\n        Config.scene.time.addEvent({\n            delay: 15000,\n            callback: () => {\n                audio.atmospheric()\n            },\n        })\n\n        //\n        // Config.scene.time.addEvent({\n        //     delay: 2000,\n        //     callback: () => {\n        //         // console.log('scene children', Config.scene.children.list)\n        //         console.log('children length', Config.scene.children.length)\n        //\n        //         const ignore = [\n        //             'boardGraphics boundary',\n        //             'flag',\n        //             'star blitter',\n        //             'nebula',\n        //             'entity label',\n        //             'entity statusLabel',\n        //             'orbitGraphics',\n        //             'homeSprite',\n        //             'resourcesSprite',\n        //             'gradientArc',\n        //             'planet feature',\n        //             'planet overlay sprite',\n        //             'selectionGraphics',\n        //             'ship label',\n        //             'ship',\n        //             'ship select box',\n        //             'healthBarRect',\n        //             'pointAnim symbol',\n        //             'pointAnim text',\n        //             'pointAnim image',\n        //         ]\n        //         const filtered = Config.scene.children.list.filter(\n        //             (child) =>\n        //                 ignore.indexOf(child[Config.namespace]?.type) === -1\n        //         )\n        //         // console.log(filtered)\n        //\n        //         // const unknownChildren = Config.scene.children.list.filter(\n        //         //     (child) => !child[Config.namespace]\n        //         // )\n        //         // console.log('unknownChildren', unknownChildren)\n        //     },\n        //     loop: true,\n        // })\n\n        // http://brm.io/matter-js/docs/classes/Grid.html\n        Config.scene.matter.grid.create({\n            bucketHeight: 200, // Default 48\n            bucketWidth: 200, // Default 48\n        })\n\n        // Wait until all planets have been placed and we have the board size\n        chooseScene({isDemo})\n            .then((props) => {\n                isDebug && console.log('Config', Config)\n\n                Config.scene.sound.setMute(Config.isMuted)\n\n                const camera = this.cameras.main\n                const boardSize = Config.boardSizes[Config.boardSize]\n\n                // camera.roundPixels = true\n                camera.setBounds(\n                    -Config.boardPadding,\n                    -Config.boardPadding,\n                    boardSize.boardWidth + Config.boardPadding * 2,\n                    boardSize.boardHeight + Config.boardPadding * 2\n                )\n\n                // camera.setViewport(\n                //     0,\n                //     0,\n                //     window.screen.width * 3,\n                //     window.screen.height * 3\n                // )\n\n                // camera.setZoom(2) // Phaser.Math.Clamp(camera.zoom, 0.5, 1))\n\n                _setGameLoading(false)\n\n                if (isDemo || isDebug) {\n                    if (isDemo) {\n                        const position = getBoardPoints(boardSize)\n                        camera.zoomTo(2, 0)\n                        camera.centerOn(position.center.x, position.center.y)\n\n                        camera.pan(\n                            position.topCenter.x,\n                            position.topCenter.y + 300,\n                            10000,\n                            'Linear',\n                            true\n                        )\n                        camera.zoomTo(\n                            Config.zoomDefault,\n                            Config.zoomDefaultTime\n                        )\n                    }\n                } else {\n                    gameOverCheck('launch')\n\n                    if (props?.planet) {\n                        const {planet} = props\n\n                        camera.centerOn(planet.x, planet.y)\n                        camera.zoomTo(\n                            Config.zoomDefault,\n                            Config.zoomDefaultTime\n                        )\n                        saveGame('create')\n\n                        Config.minimap = new Minimap()\n\n                        if (!Config.isGameOver) {\n                            _addToEventLog()\n                            _addToEventLog({\n                                html: `Starting on the planet <span style=\"color: #${Config.colorGreen}\">${planet.name}</span>`,\n                                coords: {x: planet.x, y: planet.y},\n                            })\n                        }\n                    }\n                }\n\n                // Matter boundaries\n                Config.scene.matter.world.setBounds(\n                    0,\n                    0,\n                    boardSize.boardWidth,\n                    boardSize.boardHeight\n                )\n\n                // Board boundary\n                const boardRect = new Phaser.Geom.Rectangle(\n                    0,\n                    0,\n                    boardSize.boardWidth,\n                    boardSize.boardHeight\n                )\n                const boardGraphics = Config.scene.add.graphics({\n                    lineStyle: {width: 2, color: 0xffffff, alpha: 0.1},\n                })\n                boardGraphics.strokeRectShape(boardRect)\n                boardGraphics.setDepth(1)\n                boardGraphics[Config.namespace] = {\n                    type: 'boardGraphics boundary',\n                }\n\n                // Generate background stars\n                const {blitterStarCount} = Config.boardSizes[Config.boardSize]\n                const parallaxStarsWidth = boardSize.boardWidth * 2\n                const parallaxStarsHeight = boardSize.boardHeight * 2\n\n                new BlitterStarPattern({\n                    alpha: 0.35,\n                    count: blitterStarCount / 2,\n                    texture: 'blitterStar1',\n                })\n\n                new BlitterStarPattern({\n                    alpha: 0.45,\n                    count: blitterStarCount / 2,\n                    texture: 'blitterStar2',\n                })\n\n                const parallaxStars1 = new BlitterStarPattern({\n                    alpha: 0.35,\n                    count: blitterStarCount,\n                    height: parallaxStarsHeight,\n                    texture: 'blitterStar1',\n                    width: parallaxStarsWidth,\n                    x: -parallaxStarsWidth / 4,\n                    y: -parallaxStarsHeight / 4,\n                })\n\n                const parallaxStars2 = new BlitterStarPattern({\n                    alpha: 0.5,\n                    count: blitterStarCount,\n                    height: parallaxStarsHeight,\n                    texture: 'blitterStar2',\n                    width: parallaxStarsWidth,\n                    x: -parallaxStarsWidth / 4,\n                    y: -parallaxStarsHeight / 4,\n                })\n\n                bindScenePointerEvents(Config, parallaxStars1, parallaxStars2)\n\n                // Generate nebulas\n                for (let i = 0; i < 12; i += 1) {\n                    new Nebula({startOnScreen: i <= 6})\n                }\n\n                // Get orientation: Phaser.Scale.PORTRAIT, Phaser.Scale.LANDSCAPE\n                let orientation = null\n                Config.scene.scale.on('orientationchange', (o) => {\n                    orientation = o\n                })\n\n                // On resize\n                Config.scene.game.scale.on(\n                    'resize',\n                    (\n                        gameSize,\n                        baseSize,\n                        displaySize,\n                        previousWidth,\n                        previousHeight\n                    ) => {\n                        if (\n                            gameSize.width === window.innerWidth &&\n                            gameSize.height === window.innerHeight\n                        ) {\n                            return\n                        }\n\n                        isDebug && console.log('Resize')\n\n                        // Fit game screen to viewport\n                        // https://photonstorm.github.io/phaser3-docs/Phaser.Scale.ScaleManager.html\n                        // https://rexrainbow.github.io/phaser3-rex-notes/docs/site/scalemanager/\n                        Config.scene.game.scale.resize(\n                            window.innerWidth,\n                            window.innerHeight\n                        )\n\n                        // Attempt to stay in the same area after orientation change\n                        if (orientation) {\n                            const {\n                                x: cameraX,\n                                y: cameraY,\n                            } = Config.scene.cameras.main.worldView\n                            Config.scene.cameras.main.centerOn(\n                                cameraX + previousWidth / 2.5,\n                                cameraY + previousHeight / 2.5\n                            )\n                            orientation = null\n                        }\n\n                        // Reset mini/menus\n                        Config.minimap && Config.minimap.hide()\n                        Config.minimap = new Minimap()\n                        _setMinimapOpen(false)\n                        _setIsSelectingShips(false)\n                        _setModalOpenState(false)\n                        deselectAllShips()\n                        forceAppUpdate()\n                    }\n                )\n            })\n            .then(() => {\n                if (!isDemo) {\n                    generateEntityPreviews(Config.entities)\n                }\n            })\n    }\n\n    function update(time, delta) {\n        for (const key in Config.entities) {\n            Config.entities[key].update(time, delta)\n        }\n\n        for (const key in Config.ships) {\n            Config.ships[key].update(time, delta)\n        }\n\n        for (const key in Config.towables) {\n            Config.towables[key].update(time, delta)\n        }\n\n        for (const key in Config.timers) {\n            Config.timers[key].update(time, delta)\n        }\n\n        handleOverlap()\n\n        // Synchronize selected ships react state with game state\n        // Probably a bad idea but performance doesn't seem to be impacted\n        _setSelectedShipIds(Config.selectedShips)\n    }\n\n    new Phaser.Game({\n        // type: Phaser.CANVAS, // Phaser.WEBGL,\n        width: '100%',\n        height: '100%',\n        backgroundColor: '#000',\n        transparent: true,\n        parent: 'game',\n        pixelArt: false,\n        // https://github.com/photonstorm/phaser/blob/master/CHANGELOG-v3.50.md#removal-of-resolution-property-from-across-the-api\n        // zoom: 1,\n        // TODO: While this does change game size correctly on resize,\n        // it does not work on orientation change\n        // scale: {\n        //     parent: 'game',\n        //     mode: Phaser.Scale.RESIZE,\n        //     autoCenter: Phaser.Scale.CENTER_BOTH,\n        // },\n        // autoRound: true,\n        clearBeforeRender: false,\n        scene: {\n            preload,\n            create,\n            update,\n        },\n        // fps: {\n        //     target: 30,\n        //     min: 30,\n        // },\n        // https://photonstorm.github.io/phaser3-docs/Phaser.Types.Physics.Matter.html\n        physics: {\n            default: 'matter',\n            matter: {\n                debug: isDebug,\n                debugShowBody: isDebug,\n                debugShowVelocity: isDebug,\n                debugShowStaticBody: isDebug,\n                debugShowSleeping: isDebug,\n                debugWireframes: isDebug,\n                constraintIterations: 1, // Default 2\n                positionIterations: 1, // Default 6\n                velocityIterations: 1, // Default 4\n                enableSleeping: true,\n                // sleepThreshold: 1, // Default 60\n            },\n        },\n    })\n}\n\nconst Launch = () => {\n    const {isGameLoading, isPaused, togglePaused} = useContext(AppContext)\n\n    useEffect(() => {\n        initGame()\n\n        return function destroy() {\n            destroyGame()\n        }\n    }, [])\n\n    return (\n        <div className=\"launch\">\n            {isPaused && (\n                <div\n                    className=\"launch-paused-overlay\"\n                    onClick={() => {\n                        togglePaused(false)\n                        Config.scene.game.scene.resume('default')\n                    }}\n                >\n                    Paused\n                </div>\n            )}\n            <DebugButtons />\n            <GameOverOverlay />\n            <LoadSplash hide={!isGameLoading} />\n            <Modal />\n            <Score />\n            <EventLog />\n\n            <Toolbar />\n            <div id=\"game\" className=\"game\" onPointerUp={handleBoardClick} />\n            <div className=\"launch-bg\" />\n            <div id={Config.entityPreviewHolderId} className=\"display-none\" />\n        </div>\n    )\n}\n\nexport default Launch\n","import React, {useCallback, useEffect, useState} from 'react'\nimport {Router, Route} from 'react-router-dom'\nimport ReactGA from 'react-ga'\nimport {createBrowserHistory} from 'history'\nimport {ThemeProvider} from '@mui/material/styles'\nimport theme from './theme'\nimport CssBaseline from '@mui/material/CssBaseline'\nimport Config from '../launch/config'\nimport Configure from '../configure/configure'\nimport Landing from '../landing/landing'\nimport Launch from '../launch/launch'\nimport Achievements from '../achievements/achievements'\nimport NotFound from '../404'\nimport Starbase from '../starbase/starbase'\nimport Demo from '../demo/demo'\n\nimport {getStoredState} from '../launch/store'\n\nimport './normalize.css'\nimport './grid.css'\nimport './table.css'\nimport './app.css'\n\nexport const AppContext = React.createContext()\n\nexport let _addToEventLog\nexport let _forceUpdate\nexport let _lastSelectedShipId\nexport let _selectedShipIds\nexport let _setConfig\nexport let _setGameLoading\nexport let _setGameLoadingPercent\nexport let _setGameOver\nexport let _setGameOverlayOpenState\nexport let _setMinimapOpen\nexport let _setIsMuted\nexport let _setIsPaused\nexport let _setIsSelectingShips\nexport let _setLastSelectedShipId\nexport let _setModalOpenState\nexport let _setSelectedEntityId\nexport let _setSelectedShipIds\nexport let _setSelectedTowableId\nexport let _togglePaused\nexport let _setHamburgerIsOpen\n\nconst AppProvider = (props) => {\n    const [, updateState] = useState()\n    const forceUpdate = useCallback(() => updateState({}), [])\n    const [config, setConfig] = useState(Config)\n    const [gameOverOverlayOpenState, setGameOverOverlayOpenState] = useState(\n        false\n    )\n    const [minimapOpen, setMinimapOpen] = useState(false)\n    const [modalOpenState, setModalOpenState] = useState(false)\n    const [modalContentType, setModalContentType] = useState(null)\n    const [lastSelectedShipId, setLastSelectedShipId] = useState(null)\n    const [selectedEntityId, setSelectedEntityId] = useState(null)\n    const [selectedShipIds, setSelectedShipIds] = useState({})\n    const [selectedTowableId, setSelectedTowableId] = useState(null)\n    const [isGameLoading, setGameLoading] = useState(true)\n    const [gameLoadingPercent, setGameLoadingPercent] = useState(0)\n    const [isGameOver, setGameOver] = useState(false)\n    const [isSelectingShips, setIsSelectingShips] = useState(false)\n    const [eventLog, addToEventLog] = useState([])\n    const [isPaused, setIsPaused] = useState(false)\n    const [isMuted, setIsMuted] = useState(false)\n    const [wasMutedBeforePause, setWasMutedBeforePause] = useState(false)\n    const [hamburgerIsOpen, setHamburgerIsOpen] = useState(false)\n\n    useEffect(() => {\n        const store = getStoredState()\n        !!store?.config.isMuted && setIsMuted(store.config.isMuted)\n    }, [])\n\n    useEffect(() => {\n        const store = getStoredState()\n        if (!store) {\n            return\n        }\n        Config.isMuted = isMuted\n        store.config.isMuted = isMuted\n        Config.scene.sound && Config.scene.sound.setMute(isMuted)\n        window.localStorage.setItem(Config.namespace, JSON.stringify(store))\n    }, [isMuted])\n\n    _setHamburgerIsOpen = setHamburgerIsOpen\n    _lastSelectedShipId = lastSelectedShipId\n    _selectedShipIds = selectedShipIds\n    _setConfig = setConfig\n    _setGameOverlayOpenState = setGameOverOverlayOpenState\n    _setLastSelectedShipId = setLastSelectedShipId\n    _setMinimapOpen = setMinimapOpen\n    _setModalOpenState = setModalOpenState\n    _setSelectedEntityId = setSelectedEntityId\n    _setSelectedShipIds = setSelectedShipIds\n    _setSelectedTowableId = setSelectedTowableId\n    _setGameLoading = (bool) => {\n        setGameLoading(bool)\n        Config.isGameLoading = bool\n    }\n    _setGameLoadingPercent = (value) => {\n        setGameLoadingPercent(value)\n    }\n    _setGameOver = setGameOver\n    _setIsMuted = setIsMuted\n    _setIsPaused = setIsPaused\n    _setIsSelectingShips = (bool) => {\n        setIsSelectingShips(bool)\n        Config.isSelectingShips = bool\n    }\n    _forceUpdate = forceUpdate\n    _addToEventLog = (newValue) => {\n        if (newValue) {\n            newValue.timestamp = Date.now()\n        }\n\n        return addToEventLog((prevArray) =>\n            newValue ? [...prevArray, newValue] : []\n        )\n    }\n\n    // If user refreshes while paused we need to see if we're muted\n    _togglePaused = (bool) => {\n        setIsPaused(bool == null ? !isPaused : bool)\n\n        if (!isPaused) {\n            setWasMutedBeforePause(isMuted)\n            setIsMuted(true)\n        }\n\n        if (isPaused) {\n            if (!wasMutedBeforePause) {\n                setIsMuted(false)\n            }\n        }\n    }\n\n    return (\n        <AppContext.Provider\n            value={{\n                config,\n                eventLog,\n                gameLoadingPercent,\n                hamburgerIsOpen,\n                isGameLoading,\n                isGameOver,\n                isGameOverOverlayOpen: gameOverOverlayOpenState,\n                isModalOpen: modalOpenState,\n                isMuted,\n                isPaused,\n                isSelectingShips,\n                lastSelectedShipId,\n                modalContentType,\n                minimapOpen,\n                setIsMuted,\n                setMinimapOpen,\n                selectedEntityId,\n                selectedShipIds,\n                selectedTowableId,\n                setIsSelectingShips,\n                setGameLoading: (props) => setGameLoading(props),\n                setGameLoadingPercent,\n                setIsPaused,\n                setGameOver: (props) => setGameOver(props),\n                setModalContentType: (props) => {\n                    setModalContentType(props)\n                },\n                setWasMutedBeforePause,\n                toggleGameOverOverlay: (bool) =>\n                    setGameOverOverlayOpenState(\n                        bool == null ? !gameOverOverlayOpenState : bool\n                    ),\n                toggleModal: (bool) =>\n                    setModalOpenState(bool == null ? !modalOpenState : bool),\n                setModalOpenState,\n                togglePaused: _togglePaused,\n                setHamburgerIsOpen,\n                wasMutedBeforePause,\n            }}\n        >\n            {props.children}\n        </AppContext.Provider>\n    )\n}\n\nexport const forceAppUpdate = () => {\n    _forceUpdate()\n}\n\nexport const handleBoardClick = () => {\n    const entityId = Object.keys(Config.entities).find((key) => {\n        return Config.entities[key].selected\n    })\n\n    _setSelectedEntityId(entityId)\n    _setModalOpenState(false)\n    _setGameOverlayOpenState(true)\n    _setHamburgerIsOpen(false)\n}\n\nexport const handleShipClick = (ship, close) => {\n    ship && _setLastSelectedShipId(ship.id)\n\n    if (!ship && Object.keys(_selectedShipIds).length === 1) {\n        // After group selecting ships and then deselecting ships inidividually,\n        // the last ship left selected is the last group selected ship, not the\n        // ship left selected, sort that out here\n        const selectedShipId = Object.keys(_selectedShipIds).find((key) => key)\n\n        if (selectedShipId !== _lastSelectedShipId) {\n            _setLastSelectedShipId(selectedShipId)\n        }\n    }\n\n    _setModalOpenState(false)\n    forceAppUpdate()\n}\n\nexport const handleTowableClick = (towable, close) => {\n    _setSelectedTowableId(towable ? towable.id : null)\n    _setModalOpenState(false)\n    forceAppUpdate()\n}\n\nReactGA.initialize('UA-168702830-1')\n\nconst history = createBrowserHistory()\n\n// Initialize google analytics page view tracking\nhistory.listen((location) => {\n    ReactGA.set({page: location.pathname}) // Update the user's current page\n    ReactGA.pageview(location.pathname) // Record a pageview for the given page\n})\n\nconst App = () => {\n    const folder = '/ge'\n    return (\n        <AppProvider>\n            <ThemeProvider theme={theme}>\n                <CssBaseline />\n                <Router history={history}>\n                    <div className=\"app\">\n                        <Route exact path={`${folder}/`} component={Landing} />\n                        <Route\n                            path={`${folder}/configure`}\n                            component={Configure}\n                        />\n                        <Route path={`${folder}/launch`} component={Launch} />\n                        <Route\n                            path={`${folder}/launch-debug`}\n                            component={Launch}\n                        />\n                        <Route\n                            path={`${folder}/achievements`}\n                            component={Achievements}\n                        />\n                        <Route\n                            path={`${folder}/starbase`}\n                            component={Starbase}\n                        />\n                        <Route path={`${folder}/demo`} component={Demo} />\n                        <Route path={`${folder}/404`}>\n                            <NotFound />\n                        </Route>\n                    </div>\n                </Router>\n            </ThemeProvider>\n        </AppProvider>\n    )\n}\n\nexport default App\n","import React, {useContext, useEffect, useState} from 'react'\nimport {AppContext} from '../app/app'\nimport {initGame} from '../launch/launch'\nimport Box from '@mui/material/Box'\nimport classnames from 'classnames'\nimport {destroyGame} from '../launch/launch'\n\nimport './demo.css'\n\nconst Demo = () => {\n    const {isGameLoading} = useContext(AppContext)\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n        initGame({\n            isDemo: true,\n        })\n\n        return function destroy() {\n            destroyGame()\n        }\n    }, [])\n\n    useEffect(() => {\n        if (!isGameLoading) {\n            setLoading(false)\n        }\n    }, [isGameLoading])\n\n    return (\n        <Box\n            id=\"game\"\n            sx={{width: '100%', height: '100%'}}\n            className={classnames('demo', {\n                ready: !loading,\n            })}\n        />\n    )\n}\n\nexport default Demo\n","import React from 'react'\nimport Button from '@mui/material/Button'\nimport Grid from '@mui/material/Grid'\nimport Divider from '@mui/material/Divider'\nimport Stack from '@mui/material/Stack'\nimport Box from '@mui/material/Box'\nimport Typography from '@mui/material/Typography'\nimport Container from '@mui/material/Container'\nimport {useHistory} from 'react-router-dom'\n\nimport mastheadLogo from './img/masthead-logo.png'\nimport appIcon from './img/icon.png'\nimport planet3 from './img/planet-3.png'\nimport planet2 from './img/planet-2.png'\n// import video from './video/video.mp4'\nimport sunrise from './img/sunrise.png'\nimport Demo from '../demo/demo'\nimport {destroyGame} from '../launch/launch'\nimport './landing.css'\n\nconst Landing = () => {\n    const history = useHistory()\n\n    return (\n        <>\n            <Container maxWidth={false}>\n                <Box\n                    className=\"masthead\"\n                    sx={{\n                        display: 'flex',\n                        alignItems: 'flex-end',\n                        justifyContent: 'center',\n                    }}\n                >\n                    <img\n                        className=\"masthead-logo\"\n                        src={mastheadLogo}\n                        alt=\"logo\"\n                        onLoad={(ev) => {\n                            ev.target.classList.add('masthead-logo--loaded')\n                        }}\n                    />\n                </Box>\n            </Container>\n\n            <Container maxWidth=\"xl\">\n                <Box\n                    sx={{\n                        pt: {xs: 2, md: 15},\n                        pb: {xs: 2, md: 20},\n                        position: 'relative',\n                        overflow: 'hidden',\n                    }}\n                >\n                    <Box\n                        sx={{\n                            position: 'relative',\n                            zIndex: 1,\n                        }}\n                    >\n                        <Box\n                            sx={{\n                                p: 4,\n                                pt: 8,\n                            }}\n                        >\n                            <Typography\n                                component=\"h1\"\n                                variant=\"h3\"\n                                align=\"center\"\n                                color=\"text.primary\"\n                                sx={{\n                                    fontSize: {xs: '2rem', md: '3rem'},\n                                    mb: 3,\n                                }}\n                            >\n                                Greetings Admiral, Your Fleet Awaits...\n                            </Typography>\n                            <Stack\n                                sx={{pt: 4}}\n                                direction={{xs: 'column', sm: 'row'}}\n                                spacing={2}\n                                justifyContent=\"center\"\n                            >\n                                <Button\n                                    size=\"large\"\n                                    variant=\"contained-1\"\n                                    onClick={() => {\n                                        destroyGame()\n                                        history.push('starbase')\n                                    }}\n                                    className=\"cta\"\n                                    sx={{\n                                        padding: {\n                                            xs: '15px 50px',\n                                            md: '15px 100px',\n                                        },\n                                    }}\n                                >\n                                    Launch\n                                </Button>\n                            </Stack>\n                        </Box>\n                    </Box>\n\n                    <Box\n                        sx={{\n                            position: 'absolute',\n                            zIndex: 0,\n                            // top: {xs: '15%', sm: 0, md: '-5%', lg: '-15%'},\n                            top: 0,\n                            bottom: 0,\n                            left: 0,\n                            right: 0,\n                            overflow: 'hidden',\n                        }}\n                    >\n                        <Box\n                            className=\"gr-left\"\n                            display={{xs: 'none', md: 'block'}}\n                        />\n\n                        <Box\n                            sx={{\n                                position: 'absolute',\n                                zIndex: 2,\n                                background: '#000',\n                                opacity: 0.6,\n                                width: '100%',\n                                height: '100%',\n                            }}\n                        />\n                        <Demo />\n                        {/* <video autoPlay muted loop className=\"video\">\n                            <source src={video} type=\"video/mp4\" />\n                        </video> */}\n                        <Box\n                            className=\"gr-right\"\n                            display={{xs: 'none', md: 'block'}}\n                        />\n                    </Box>\n                </Box>\n            </Container>\n\n            <Container maxWidth={false} className=\"bg-1\">\n                <Box maxWidth=\"sm\" sx={{m: 'auto', p: 8}}>\n                    <Box\n                        sx={{\n                            mb: 4,\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                        }}\n                    >\n                        <img\n                            src={appIcon}\n                            className=\"section-icon\"\n                            alt=\"app icon\"\n                        />\n                    </Box>\n\n                    <Typography\n                        component=\"h2\"\n                        variant=\"h4\"\n                        align=\"center\"\n                        color=\"text.primary\"\n                    >\n                        What is Galactic Endeavor?\n                    </Typography>\n\n                    <Typography variant=\"h6\" align=\"center\" sx={{mt: 5}}>\n                        <strong>Galactic Endeavor</strong> is a space-based RTS\n                        where you must lead your faction to victory by exploring\n                        and colonizing the star system.\n                    </Typography>\n                </Box>\n            </Container>\n\n            <Divider />\n\n            <Container maxWidth={false} align=\"center\" className=\"bg-3\">\n                <Box maxWidth=\"md\" sx={{margin: 'auto', p: 10}}>\n                    <Box\n                        sx={{\n                            mb: 4,\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                        }}\n                    >\n                        <img\n                            src={planet2}\n                            className=\"section-icon\"\n                            alt=\"planet\"\n                        />\n                    </Box>\n                    <Typography\n                        component=\"h4\"\n                        variant=\"h4\"\n                        color=\"text.primary\"\n                        gutterBottom\n                        sx={{\n                            mb: 8,\n                        }}\n                    >\n                        Current Features\n                    </Typography>\n\n                    <Grid container spacing={5} wrap=\"wrap\" sx={{mb: 5}}>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                Explore new worlds\n                            </Typography>\n                            <Typography component=\"p\">\n                                Discover new planets, colonize them, and extract\n                                resources\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                Resource Management\n                            </Typography>\n                            <Typography component=\"p\">\n                                Gather and balance resources to fuel your fleet\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                Alien Artifacts\n                            </Typography>\n                            <Typography component=\"p\">\n                                Discover alien artifacts scattered amongst the\n                                stars\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                Enemy Faction\n                            </Typography>\n                            <Typography component=\"p\">\n                                Fend off the enemy and conquer hostile worlds\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                Starships\n                            </Typography>\n                            <Typography component=\"p\">\n                                Build and rank up starships to engage the enemy\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                Satellites\n                            </Typography>\n                            <Typography component=\"p\">\n                                Construct satellites to defend your colonies\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </Box>\n            </Container>\n            {/* \n            <Divider />\n\n            <Container maxWidth={false} className=\"bg-2\" align=\"center\">\n                <Box maxWidth=\"md\" sx={{margin: 'auto', p: 10, pb: '0'}}>\n                    <Box\n                        sx={{\n                            mb: 4,\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                        }}\n                    >\n                        <img\n                            src={planet3}\n                            className=\"section-icon\"\n                            alt=\"planet\"\n                        />\n                    </Box>\n                    <Typography\n                        component=\"h4\"\n                        variant=\"h4\"\n                        color=\"text.primary\"\n                        gutterBottom\n                        sx={{\n                            mb: 8,\n                        }}\n                    >\n                        Coming Soon\n                    </Typography>\n\n                    <Grid container spacing={5} wrap=\"wrap\" sx={{mb: 5}}>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                Unique Ship Classes\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                New Weapons\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                Additional Opponents\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                New Astronomical Objects\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Typography component=\"h5\" variant=\"h5\">\n                                And Much More!\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                    <img className=\"sunrise\" src={sunrise} alt=\"sunrise\" />\n                </Box>\n            </Container> */}\n        </>\n    )\n}\n\nexport default Landing\n","export default \"data:image/png;base64,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\"","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport {getStoredState} from '../launch/store'\nimport Page from '../page/page'\n\nimport './achievements.css'\n\nconst Achievements = () => {\n    const state = getStoredState()\n\n    if (!state || !state.careerStats) {\n        return null\n    }\n\n    return (\n        <Page className=\"achievements\">\n            <h1>Achievements</h1>\n\n            <div className=\"row\">\n                <div className=\"col col-25\">\n                    <h2>Score</h2>\n                </div>\n                <div className=\"col col-75 text-align-right\">\n                    <h2>{state.careerStats.score.toLocaleString()}</h2>\n                </div>\n            </div>\n\n            <table>\n                <tbody>\n                    <tr>\n                        <td>Victories</td>\n                        <td className=\"text-align-right\">\n                            {state.careerStats.victories}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Losses</td>\n                        <td className=\"text-align-right\">\n                            {state.careerStats.losses}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Artifacts Collected</td>\n                        <td className=\"text-align-right\">\n                            {state.careerStats.artifactsCollected}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Planets Colonized</td>\n                        <td className=\"text-align-right\">\n                            {state.careerStats.planetsColonized}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Planets Conquered</td>\n                        <td className=\"text-align-right\">\n                            {state.careerStats.planetsConquered}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Planets Lost</td>\n                        <td className=\"text-align-right\">\n                            {state.careerStats.planetsLost}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Ships Built</td>\n                        <td className=\"text-align-right\">\n                            {state.careerStats.shipsBuilt}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Ships Destroyed</td>\n                        <td className=\"text-align-right\">\n                            {state.careerStats.shipsDestroyed}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Ships Lost</td>\n                        <td className=\"text-align-right\">\n                            {state.careerStats.shipsLost}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <Link className=\"button-1\" to=\"starbase\">\n                Back\n            </Link>\n        </Page>\n    )\n}\n\nexport default Achievements\n","import React from 'react'\nimport Page from '../page/page'\n\nconst NotFound = () => {\n    return (\n        <Page>\n            <h1>404</h1>\n        </Page>\n    )\n}\n\nexport default NotFound\n","import React, {useContext} from 'react'\nimport {Link} from 'react-router-dom'\nimport {getStoredState} from '../launch/store'\nimport {AppContext} from '../app/app'\nimport Page from '../page/page'\n\nimport './starbase.css'\n\nconst Starbase = () => {\n    const state = getStoredState()\n    const {setGameLoadingPercent, togglePaused} = useContext(AppContext)\n\n    return (\n        <Page className=\"home\">\n            <Link className=\"button-1\" to=\"configure\">\n                New Mission\n            </Link>\n\n            {state && state.entities && Object.keys(state.entities).length ? (\n                <Link\n                    className=\"button-1\"\n                    to=\"launch\"\n                    onClick={() => {\n                        setGameLoadingPercent(0)\n                        togglePaused(false)\n                    }}\n                >\n                    Resume Mission\n                </Link>\n            ) : null}\n\n            {state && state.careerStats && state.careerStats.score ? (\n                <Link className=\"button-1\" to=\"achievements\">\n                    Achievements\n                </Link>\n            ) : null}\n        </Page>\n    )\n}\n\nexport default Starbase\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n)\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config)\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    )\n                })\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config)\n            }\n        })\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing\n                if (installingWorker == null) {\n                    return\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            )\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration)\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.')\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration)\n                            }\n                        }\n                    }\n                }\n            }\n        })\n        .catch((error) => {\n            console.error('Error during service worker registration:', error)\n        })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type')\n            if (\n                response.status === 404 ||\n                (contentType != null &&\n                    contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload()\n                    })\n                })\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config)\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            )\n        })\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister()\n        })\n    }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/app/app'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}